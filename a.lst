mads 2.0.4 build 13 (8 May 16)
Source: a.asm
     1 				//bosconian for atari 5200
     2 				;atarimax = 1
     3
     4
     5
     6 						opt h-
     7
     8 						icl 'atari5200.hea'
Source: atari5200.hea
     1
     2 				.enum	@dmactl
     3 = 0000				blank	= %00
     4 = 0001				narrow	= %01
     5 = 0002				standard= %10
     6 = 0003				wide	= %11
     7 = 0004				missiles= %100
     8 = 0008				players	= %1000
     9 = 0010				lineX1	= %10000
    10 = 0000				lineX2	= %00000
    11 = 0020				dma	= %100000
    12 				.ende
    13
    14 = 003F			scr48	= @dmactl(wide|dma|players|missiles|lineX1)		;screen 48b
    15 = 003E			scr40	= @dmactl(standard|dma|players|missiles|lineX1)		;screen 40b
    16 = 003D			scr32	= @dmactl(narrow|dma|players|missiles|lineX1)		;screen 32b
    17
    18 				.enum	@pmcntl
    19 = 0001				missiles= %1
    20 = 0002				players	= %10
    21 = 0004				trigs	= %100
    22 				.ende
    23
    24 				.enum	@gtictl
    25 = 0000				prior0	= %0
    26 = 0001				prior1	= %1
    27 = 0002				prior2	= %10
    28 = 0004				prior4	= %100
    29 = 0008				prior8	= %1000
    30 = 0010				ply5	= %10000	; Fifth Player Enable
    31 = 0020				mlc	= %100000	; Multiple Color Player Enable
    32 = 0040				mode9	= %01000000
    33 = 0080				mode10	= %10000000
    34 = 00C0				mode11	= %11000000
    35 				.ende
    36
    37
    38
    39 				* ---------------------------------------------------------------------------------------------
    40 				* ---	GTIA
    41 				* ---------------------------------------------------------------------------------------------
    42 = C000			hposp0	=	$C000		; pozioma pozycja gracza 0 (Z)
    43 = C001			hposp1	=	$C001		; pozioma pozycja gracza 1 (Z)
    44 = C002			hposp2	=	$C002		; pozioma pozycja gracza 2 (Z)
    45 = C003			hposp3	=	$C003		; pozioma pozycja gracza 3 (Z)
    46 = C004			hposm0	=	$C004		; pozioma pozycja pocisku 0 (Z)
    47 = C005			hposm1	=	$C005		; pozioma pozycja pocisku 1 (Z)
    48 = C006			hposm2	=	$C006		; pozioma pozycja pocisku 2 (Z)
    49 = C007			hposm3	=	$C007		; pozioma pozycja pocisku 3 (Z)
    50 = C008			sizep0	=	$C008		; poziomy rozmiar gracza 0 (Z)
    51 = C009			sizep1	=	$C009		; poziomy rozmiar gracza 1 (Z)
    52 = C00A			sizep2	=	$C00A		; poziomy rozmiar gracza 2 (Z)
    53 = C00B			sizep3	=	$C00B		; poziomy rozmiar gracza 3 (Z)
    54 = C00C			sizem	=	$C00C		; poziomy rozmiar pocisków (Z)
    55 = C00D			grafp0	=	$C00D		; rejestr grafiki gracza 0 (Z)
    56 = C00E			grafp1	=	$C00E		; rejestr grafiki gracza 1 (Z)
    57 = C00F			grafp2	=	$C00F		; rejestr grafiki gracza 2 (Z)
    58 = C010			grafp3	=	$C010		; rejestr grafiki gracza 3 (Z)
    59 = C011			grafm	=	$C011		; rejestr grafiki pocisków (Z)
    60 = C012			colpm0	=	$C012		; rejestr koloru gracza i pocisku 0 (Z)
    61 = C013			colpm1	=	$C013		; rejestr koloru gracza i pocisku 1 (Z)
    62 = C014			colpm2	=	$C014		; rejestr koloru gracza i pocisku 2 (Z)
    63 = C015			colpm3	=	$C015		; rejestr koloru gracza i pocisku 3 (Z)
    64 = C016			colpf0	=	$C016		; rejestr koloru pola gry 0 (Z)
    65 = C017			colpf1	=	$C017		; rejestr koloru pola gry 1 (Z)
    66 = C018			colpf2	=	$C018		; rejestr koloru pola gry 2 (Z)
    67 = C019			colpf3	=	$C019		; rejestr koloru pola gry 3 (Z)
    68 = C01A			colbak	=	$C01A		; rejestr koloru t³a (Z)
    69
    70 = C016			color0	=	colpf0
    71 = C017			color1	=	colpf1
    72 = C018			color2	=	colpf2
    73 = C019			color3	=	colpf3
    74
    75 = C000			kolm0pf	=	$C000		; kolizja pocisku 0 z polem gry (O)
    76 = C001			kolm1pf	=	$C001		; kolizja pocisku 1 z polem gry (O)
    77 = C002			kolm2pf	=	$C002		; kolizja pocisku 2 z polem gry (O)
    78 = C003			kolm3pf	=	$C003		; kolizja pocisku 3 z polem gry (O)
    79 = C004			kolp0pf	=	$C004		; kolizja gracza 0 z polem gry (O)
    80 = C005			kolp1pf	=	$C005		; kolizja gracza 1 z polem gry (O)
    81 = C006			kolp2pf	=	$C006		; kolizja gracza 2 z polem gry (O)
    82 = C007			kolp3pf	=	$C007		; kolizja gracza 3 z polem gry (O)
    83 = C008			kolm0p	=	$C008		; kolizja pocisku 0 z graczem (O)
    84 = C009			kolm1p	=	$C009		; kolizja pocisku 1 z graczem (O)
    85 = C00A			kolm2p	=	$C00A		; kolizja pocisku 2 z graczem (O)
    86 = C00B			kolm3p	=	$C00B		; kolizja pocisku 3 z graczem (O)
    87 = C00C			kolp0p	=	$C00C		; kolizja gracza 0 z innym graczem (O)
    88 = C00D			kolp1p	=	$C00D		; kolizja gracza 1 z innym graczem (O)
    89 = C00E			kolp2p	=	$C00E		; kolizja gracza 2 z innym graczem (O)
    90 = C00F			kolp3p	=	$C00F		; kolizja gracza 3 z innym graczem (O)
    91 = C010			trig0	=	$C010		; stan przycisku joysticka 0 (O)
    92 = C011			trig1	=	$C011		; stan przycisku joysticka 1 (O)
    93 = C013			trig3	=	$C013		; znacznik do³¹czenia cartridge-a (O)
    94
    95 = C01B			gtictl	=	$C01B		; rejestr kontroli uk³adu GTIA
    96 = C01B			gtiactl	=	gtictl
    97
    98 = C01C			vdelay	=	$C01C		; licznik opóŸnienia pionowego P/MG
    99 = C01D			pmcntl	=	$C01D		; rejestr kontroli graczy i pocisków
   100 = C01E			hitclr	=	$C01E		; rejestr kasowania rejestrów kolizji
   101 = C01F			consol	=	$C01F		; rejestr stanu klawiszy konsoli
   102
   103 				* ---------------------------------------------------------------------------------------------
   104 				* ---	POKEY
   105 				* ---------------------------------------------------------------------------------------------
   106
   107
   108 = E800			audf1	=	$E800		; czêstotliwoœæ pracy generatora 1 (Z)
   109 = E800			pot0	=   $E800
   110 = E801			audc1	=	$E801		; rejestr kontroli dŸwiêku generatora 1 (Z)
   111 = E801			pot1	=	$E801
   112 = E802			audf2	=	$E802		; czêstotliwoœæ pracy generatora 2 (Z)
   113 = E803			audc2	=	$E803		; rejestr kontroli dŸwiêku generatora 2 (Z)
   114 = E804			audf3	=	$E804		; czêstotliwoœæ pracy generatora 3 (Z)
   115 = E805			audc3	=	$E805		; rejestr kontroli dŸwiêku generatora 3 (Z)
   116 = E806			audf4	=	$E806		; czêstotliwoœæ pracy generatora 4 (Z)
   117 = E807			audc4	=	$E807		; rejestr kontroli dŸwiêku generatora 4 (Z)
   118
   119 = E808			audctl	=	$E808		; rejestr kontroli generatorów dŸwiêku (Z)
   120 = E809			stimer	=	$E809		; rejestr zerowania liczników (Z)
   121 = E809			kbcode	=	$E809		; kod ostatnio naciœniêtego klawisza (O)
   122 = E80A			skstres	=	$E80A		; rejestr statusu z³¹cza szeregowego (Z)
   123 = E80A			random	=	$E80A		; rejestr liczby losowej (O)
   124 = E80D			serout	=	$E80D		; szeregowy rejestr wyjœciowy (Z)
   125 = E80D			serin	=	$E80D		; szeregowy rejestr wejœciowy (O)
   126 = E80E			irqen	=	$E80E		; zezwolenie przerwañ IRQ (Z)
   127 = E80E			irqst	=	$E80E		; status przerwañ IRQ (O)
   128 = E80F			skctl	=	$E80F		; rejestr kontroli z³¹cza szeregowego (Z)
   129 = E80F			skstat	=	$E80F		; rejestr statusu z³¹cza szeregowego (O)
   130
   131 = E80B			potg0	=	$E80B
   132
   133 				* ---------------------------------------------------------------------------------------------
   134 				* ---	ANTIC
   135 				* ---------------------------------------------------------------------------------------------
   136 = D400			dmactl	=	$D400		; rejestr kontroli dostêpu do pamiêci
   137 = D401			chrctl	=	$D401		; rejestr kontroli wyœwietlania znaków
   138 = D402			dlptr	=	$D402		; adres programu ANTIC-a
   139 = D404			hscrol	=	$D404		; znacznik poziomego przesuwu obrazu
   140 = D405			vscrol	=	$D405		; znacznik pionowego przesuwu obrazu
   141 = D407			pmbase	=	$D407		; adres pamiêci graczy i pocisków
   142 = D409			chbase	=	$D409		; adres zestawu znaków
   143 = D40A			wsync	=	$D40A		; znacznik oczekiwania na synchronizacjê poziom¹
   144 = D40B			vcount	=	$D40B		; licznik linii obrazu
   145 = D40C			lpenh	=	$D40C		; poziome po³o¿enie pióra œwietlengo
   146 = D40D			lpenv	=	$D40D		; pionowe po³o¿enie pióra œwietlnego
   147 = D40E			nmien	=	$D40E		; rejestr zezwoleñ na przerwania NMI
   148 = D40F			nmist	=	$D40F		; rejestr statusu przerwañ NMI
   149 = D40F			nmires	=   $D40F
   150
   151
   152
   153 				//system vectors
   154 = 0200			irqv	= $200
   155 = 0202			vbiv	= $202
   156 = 0204			vbi2v	= $204
   157 = 0206			dliv	= $206
   158 = 0208			keyv	= $208
   159 = 020A			padv	= $20a
   160
     9
    10 				//staÅ‚e
    11 = 0010			maxBaz	equ 16		;maksymalna liczba baz
    12 = 0080			maxObiektow	equ 128	;maksymalna liczba reszty obiektow, meteory i bomby
    13 = 0020			maxPoziomow	equ 32
    14 = 0007			opoznienieCondition	equ 7
    15 = 0003			opoznienieRed		equ 3
    16 = 0001			kondycja_start	equ 1
    17
    18 = C010			fire		equ trig0
    19
    20 				//banki
    21 = 00D0			bank0m		equ $d0
    22 = 00D4			bank1m		equ $d4
    23 = 00D8			bank2m		equ $d8
    24 = 00DC			bank3m		equ $dc
    25 = BFD0			BANK0		equ $bfd0
    26 = BFD4			BANK1		equ $bfd4
    27 = BFD8			BANK2		equ $bfd8
    28 = BFDC			BANK3		equ $bfdc
    29
    30
    31 				//muzyka
    32 = 525E			rmt_goto		equ MODUL_end-4*$1D 	;$1C+1
    33
    34
    35 				//kolory
    36 = 0046			kolorCzerwony	equ $46	;$36		;NTSC
    37 = 0046			kolorHiscore		equ $46	;$36  ;czerwony
    38 = 0062			kolorMapa			equ $62  ;fioletowy	
    39 = 005A			kolorRound		equ $5a
    40 = 0098			kolor1ups			equ $98 
    41 = 00CA			kolorLevel		equ $ca
    42 = 0044			kolorLogo			equ $44	;$34	
    43 = 00FC			kolorYellow		equ $fc
    44 = 00C8			kolorGreen		equ $c8
    45 = 0046			kolorRed			equ $46
    46 = 000C			kolorLiczby		equ $0c
    47
    48 = 0038			KOLOR1			equ	$38
    49 = 0044			KOLOR3			equ $44	;$34
    50
    51 = 0000			EKOLOR0			equ 0	;duszek przyjmuje kolor tÅ‚a
    52 = 0080			EKOLOR1			equ 128	;duszek zawsze w negatywie
    53
    54 = 00B1			pozWyniki	equ 177	;pozycja prawego panelu
    55 = 0010			startWyniki	equ 16
    56
    57 = 0003			b					equ 3	;11		;nr pierwszego zanku bazy
    58 = 001F			firstBombaChar		equ b+28		;pierwszy znak bomby
    59 = 0023			firstMeteorChar		equ firstBombaChar+4		;meteoru
    60 = 0027			firstRakietaChar	equ firstMeteorChar+4
    61 = 002F			firstWybuchChar		equ firstRakietaChar+8	;47
    62 = 003F			firstMalyWybuchChar	equ firstWybuchChar+16	;+20	;63
    63 = 0041			firstStrzalChar		equ firstMalyWybuchChar+2 ;63+2=65	
    64 = 0045			firstPociskChar		equ firstStrzalChar+4	;65+4=69
    65 															;69+5=74 duszki	
    66 						
    67 				//zmienne
    68 				;0 page
    69 = 0019			pok0				equ $19
    70 = 0031			sam				equ $31
    71 = 005B			sam2				equ $5b
    72 = 005F			sam2s				equ $5f
    73
    74 									org 109	;tyle bajtow zajmuja przerwania irq
    75 				sirq				org *+1
    76 				powtorz			org *+1
    77
    78 				zegar				org *+1
    79 				stan_gry			org *+1
    80 				muzyka			org *+1
    81 				znakDX			org *+1
    82 				znakDY			org *+1
    83 				znakX1			org *+1
    84 				znakY1			org *+1
    85 				znakX				org *+18	;18b
    86 				znakY				org *+18	;18b
    87
    88 				kolpom0			org *+1
    89 				pom				org *+2
    90 				pom1				org *+2
    91 				pom2				org *+2
    92 				pom3				org *+2
    93 				pom4				org *+2
    94 				pom0				org *+1
    95 				pom0a				org *+1
    96 				pom0b				org *+1
    97 				pom0c				org *+1
    98 				pom0d				org *+1
    99 				pom0e				org *+1
   100 				pom0f				org *+1
   101 				pom0g				org *+1
   102 				strz0				org *+1
   103 				strz0a			org *+1
   104 				strz0b			org *+1
   105 				strz0c			org *+1
   106 				strz0d			org *+1
   107 				strz0e			org *+1
   108 				strz0f			org *+1
   109 				strz				org *+2
   110 				strz1				org *+2
   111 				strz2				org *+2
   112 				posx				org *+1
   113 				posy				org *+1
   114 				ramka				org *+1
   115 				ramka4				org *+1
   116 				vblA					org *+1
   117 				vblX					org *+1
   118 				vblY					org *+1
   119 				vblFlaga				org *+1
   120 				trafienie				org *+1
   121 				startMapy				org *+1
   122 				znacznik				org *+1
   123 				rejA					org *+1
   124 				movx					org *+1
   125 				movy					org *+1
   126 				movx0					org *+1
   127 				movy0					org *+1
   128
   129
   130 				maxPociskow1			org *+1
   131 				czyRakiety				org *+1
   132 				bazyILE					org *+1
   133 				_bazaAJadro0			org *+1
   134 				_bazaAJadro1			org *+1
   135 				_bazaBJadro0			org *+1
   136 				_bazaBJadro1			org *+1
   137 				bombIle					org *+1
   138 				rads					org *+1
   139 				screenL					org *+2
   140 				screenH					org *+2
   141 				kolorPanel				org *+1
   142 				_gwzmaz					org *+2
   143 				_gwzmaz1				org *+2
   144 				_pre0a					org *+1
   145 				_pre2					org *+1
   146 				pre2_b					org *+1
   147 				lastEnemy					org *+1
   148 				movYs						org *+1
   149
   150 				sfx						org *+1
   151
   152
   153 				kanal_audf1			org *+2
   154 				kanal_audf2			org *+2
   155 				kanal_audf3			org *+2
   156 				kanal_audc1			org *+2
   157 				kanal_audc2			org *+2
   158 				kanal_audc3			org *+2
   159
   160
   161 				;rmt player
   162 				p_tis
   163 				p_instrstable			org *+2
   164 				p_trackslbstable		org *+2
   165 				p_trackshbstable		org *+2
   166 				p_song					org *+2
   167 				ns						org *+2
   168 				nr						org *+2
   169 				nt						org *+2
   170 				reg1					org *+1
   171 				reg2					org *+1
   172 				reg3					org *+1
   173 				tmp						org *+1
   174
   175
   176
   177 				//0 page dla duszkÃ³w
   178 = 009D			_nznak		equ pom1
   179 = 009F			_kszt		equ pom2
   180 = 00A1			_mask		equ pom3
   181 = 00A5			nchar		equ pom0
   182 = 00A6			zapX		equ duchx
   183 = 00A6			duchX		equ pom0a
   184
   185 				//tablice w RAM
   186 = 0100			tabLineA	equ $100
   187 = 0107			tabLineB	equ $107		;8 bajtow
   188
   189 = 0220			dlist		equ $220	;34 bajty (mogÄ… byÄ‡ pÃ³Åºniej zmiany)
   190
   191 				;jeszcze pare bajtow
   192
   193 = 0278			rakietyY	equ $278	;8b
   194 = 0280			rakietyY0	equ $280	;8b
   195 = 0288			rakietyMove	equ $288	;8b
   196 = 0290			bazyRodzaj	equ $290	;rodzaj (pozioma czy pionowa)
   197 = 02A0			bazyStan	equ $2a0	;stan zniszczenia
   198 = 02B0			bazyRakieta	equ $2b0	;numer rakiety przypisanej do bazy 255=brak
   199 = 02C0			bazyX		equ $2c0	;pozycja x
   200 = 02D0			bazyX0		equ $2d0	;pozycja X na ekranie
   201 = 02E0			bazyY		equ $2e0	;pozycja Y
   202 = 02F0			bazyY0		equ $2f0	;pozycja Y na ekranie
   203
   204 = 0000			sprites		equ $0	;czyli od $300 do $7ff
   205 = 0800			sprites1 	equ $800	;czyli od $b00 do $fff
   206 = 0800			tabX		equ $800	;caÅ‚a strona
   207
   208 = 0900			bazyCannon0a	equ $900	;:(maxBaz*4) dta b(0)
   209 = 0910			bazyCannon0b	equ bazyCannon0a+maxBaz
   210 = 0920			bazyCannon0c	equ bazyCannon0b+maxBaz
   211 = 0930			bazyCannon0d	equ bazyCannon0c+maxBaz
   212
   213 = 0940			bazyCannon1a	equ $940	;:(maxBaz*4) dta b(0)
   214 = 0950			bazyCannon1b	equ bazyCannon1a+maxBaz
   215 = 0960			bazyCannon1c	equ bazyCannon1b+maxBaz
   216 = 0970			bazyCannon1d	equ bazyCannon1c+maxBaz
   217
   218 = 0980			bazyCannon2a	equ $980	;:(maxBaz*4) dta b(0)
   219 = 0990			bazyCannon2b	equ bazyCannon2a+maxBaz
   220 = 09A0			bazyCannon2c	equ bazyCannon2b+maxBaz
   221 = 09B0			bazyCannon2d	equ bazyCannon2c+maxBaz
   222
   223 = 09C0			bazyCannon3a	equ $9c0	;:(maxBaz*4) dta b(0)
   224 = 09D0			bazyCannon3b	equ bazyCannon3a+maxBaz
   225 = 09E0			bazyCannon3c	equ bazyCannon3b+maxBaz
   226 = 09F0			bazyCannon3d	equ bazyCannon3c+maxBaz
   227
   228 = 0A00			bazyCannon4a	equ $a00	;:(maxBaz*4) dta b(0)
   229 = 0A10			bazyCannon4b	equ bazyCannon4a+maxBaz
   230 = 0A20			bazyCannon4c	equ bazyCannon4b+maxBaz
   231 = 0A30			bazyCannon4d	equ bazyCannon4c+maxBaz
   232
   233 = 0A40			bazyCannon5a	equ $a40	;:(maxBaz*4) dta b(0)
   234 = 0A50			bazyCannon5b	equ bazyCannon5a+maxBaz
   235 = 0A60			bazyCannon5c	equ bazyCannon5b+maxBaz
   236 = 0A70			bazyCannon5d	equ bazyCannon5c+maxBaz
   237
   238 = 0A80			bombRodzaj		equ $a80	;0 bomba, 1 meteor	
   239
   240
   241 = 1000			znaki1	equ $1000
   242 = 1400			znaki2	equ $1400
   243
   244
   245 = 1800			obraz1a	equ $1800
   246 = 1988			obraz1	equ obraz1a+8+8*48	;+$188
   247 = 1EF8			obraz2a	equ obraz1+28*48+48	;+$570 , 29 linii obrazu *48
   248 = 2080			obraz2	equ obraz2a+8+8*48	;+$188, calosc zabiera $F78
   249
   250 = 2780			bombX			equ $2780	;pozycje X obiektow	,128b
   251 = 2800			bombY			equ $2800	;pozycje Y obiektow	,128b
   252
   253 = 2880			BombyEkran		equ $2880	;max 32 na ekranie
   254 = 28A0			bombX0			equ $28a0	;32b
   255 = 28C0			bombY0			equ $28c0	;32b
   256 = 28E0			rakietyStan		equ $28e0	;8b
   257 = 28E8			rakietyTyp		equ $28e8	;8b
   258 = 28F0			rakietyX		equ $28f0	;8b
   259 = 28F8			rakietyX0		equ $28f8	;8b
   260
   261
   262 = 2900			tabBazy1	equ $2900	;256b
   263 = 2A00			tabBazy2	equ $2a00	;256b
   264 = 2B00			tabBomb1	equ $2b00	;256b
   265 = 2C00			tabBomb2	equ $2c00	;256b
   266
   267 = 2D00			adresZnakL	equ $2d00
   268 = 2E00			adresZnakH	equ $2e00
   269
   270 							org $2f00
   271 				wybuchyX0		org *+32	;equ $2f00	;32b
   272 				wybuchyY0		org *+32	;equ $2f20	;32b
   273 				wybuchyX		org *+32	;equ $2f40	;32b
   274 				wybuchyY		org *+32	;equ $2f60	;32b
   275 				wybuchyLicznik	org *+32	;equ $2f80	;32b
   276
   277
   278 				mwybuchyX		org *+8		;equ $2fa0	;8b
   279 				mwybuchyY		org *+8		;equ $2fa8	;8b
   280 				mwybuchyLicznik	org *+8		;equ $2fb0	;8b
   281 				mwybuchyTyp		org *+8		;equ $2fb8	;8b
   282
   283 				;rmtplayer
   284 				track_variables
   285 				trackn_db		org *+4
   286 				trackn_hb		org *+4
   287 				trackn_idx		org *+4
   288 				trackn_pause	org *+4
   289 				trackn_note		org *+4
   290 				trackn_volume	org *+4
   291 				trackn_distor 	org *+4
   292 				trackn_shiftfrq	org *+4
   293
   294 				trackn_instrx2	org *+4
   295 				trackn_instrdb	org *+4
   296 				trackn_instrhb	org *+4
   297 				trackn_instridx	org *+4
   298 				trackn_instrlen	org *+4
   299 				trackn_instrlop	org *+4
   300 				trackn_instrreachend	org *+4
   301 				trackn_volumeslidedepth org *+4
   302 				trackn_volumeslidevalue org *+4
   303
   304 				trackn_effdelay			org *+4
   305 				trackn_effvibratoa		org *+4
   306 				trackn_effshift			org *+4
   307 				trackn_tabletypespeed 	org *+4
   308
   309 				trackn_tablenote	org *+4
   310 				trackn_tablea		org *+4
   311 				trackn_tableend		org *+4
   312 				trackn_tablespeeda	org *+4
   313
   314 				trackn_audf			org *+4
   315 				trackn_audc			org *+4
   316
   317 				trackn_audctl		org *+4
   318 				v_aspeed			org *+4
   319 				track_endvariables	
   320
   321 				v_abeat				org *+1
   322 				v_maxtracklen		org *+1
   323 				v_bspeed			org *+1
   324 				v_instrspeed		org *+1
   325 				v_speed				org *+1
   326 				v_audctl			org *+1
   327 				v_audctl2			org *+1
   328 				v_ainstrspeed		org *+1
   329
   330 				hsdlist				org *+88
   331 				hsdlist1			org *+79
   332
   333 									
   334 				hscNick1			org *+4	;dta c'A',b(91),b(94,0)
   335 				hscNick2			org *+4	;dta c'T',b(91),b(96,0)
   336 				hscNick3			org *+4	;dta c'A',b(91),b(93,0)
   337 				hscNick4			org *+4	;dta c'R',b(91),c'X',b(0)
   338 				hscNick5			org *+4	;dta c'I',b(91),c'E',b(0)	
   339 				hscScore1			org *+4	;dta b($00,$20,$00),(2)	
   340 				hscScore2			org *+4	;dta b($00,$20,$00),(2)
   341 				hscScore3			org *+4	;dta b($00,$20,$00),(2)
   342 				hscScore4			org *+4	;dta b($00,$20,$00),(2)
   343 				hscScore5			org *+4	;dta b($00,$20,$00),(2)	
   344 								
   345 				hscbuf				org *+6	
   346 = 310B			bufore3				equ hscbuf				
   347 				punkty				org *+1
   348 				punkty1				org *+1	;=10
   349 				punkty2				org *+1	;=opoznienieRed
   350 				antyairopoznienie	org *+1
   351 				flaghscore			org *+1
   352 				poziom				org *+1
   353 				sfxlicznik1			org *+1
   354 				formacja_radar		org *+1
   355 				kondycja_stan		org *+1
   356 				lives					org *+1
   357 				RadarX				org *+1
   358 				atariX1				org *+1
   359 				conLicz				org *+1		
   360 				opoz_congrat			org *+1
   361 				nick0					org *+1	;dta b(132)
   362 				kolor0				org *+1	;dta b($A0)
   363
   364 				efnap1				org *+254
   365 				enemy				org *+6
   366 				enemyWybuch			org *+6
   367 				enemyEkran			org *+6
   368 				enemyX				org *+6
   369 				enemyX0				org *+6
   370 				enemyY				org *+6
   371 				enemyY0				org *+6
   372 				enemyDX				org *+6
   373 				enemyDX0			org *+6
   374 				enemyDY				org *+6
   375 				enemyDY0			org *+6
   376 				enemyFaza			org *+6
   377 				enemyNegatyw		org *+6
   378 				enemyBank			org *+6
   379 				enemyShapeH			org *+6
   380 				enemyLastFaza		org *+6
   381
   382 				score					org *+3
   383 				hscore				org *+3
   384 				scorezmiana			org *+1
   385
   386
   387 				vblk					org *+vblk_codeend-vblk_code
   388
   389 = 32D2			_vbsnd1				equ vblk+_vbsnd1a-vblk_code
   390 = 32D7			_vbsnd2				equ vblk+_vbsnd2a-vblk_code
   391 = 32DC			_vbsnd3				equ vblk+_vbsnd3a-vblk_code
   392 = 32E1			_vbsnd4				equ vblk+_vbsnd4a-vblk_code
   393 = 32E6			_vbsnd5				equ vblk+_vbsnd5a-vblk_code
   394 = 32EB			_vbsnd6				equ vblk+_vbsnd6a-vblk_code
   395 = 32F0			_vbsnd7				equ vblk+_vbsnd7a-vblk_code
   396
   397 = 3335			vb_ad					equ dli-3
   398 = 332B			vb_end				equ dli-13
   399
   400
   401 				dli					org *+pokey_codeend-dli_code
   402 = 3382			pokey					equ dli+pokeya-dli_code
   403 = 33BA			pokey1				equ dli+pokey1a-dli_code
   404 = 33C7			kolor1up				equ dli+kolor1upa-dli_code
   405 = 33EA			pokey2				equ dli+pokey2a-dli_code
   406 = 341A			pokey3				equ dli+pokey3a-dli_code
   407 				;duszek4pos			equ dli+duszek4posa-dli_code
   408 = 341D			formacja_stan		equ dli+formacja_stana-dli_code
   409 				;duszek4kolor			equ dli+duszek4kolora-dli_code
   410 = 3445			pk3a					equ dli+pk3aa-dli_code
   411 = 3472			pokey4				equ dli+pokey4a-dli_code
   412 = 347A			conditionColor		equ dli+conditionColora-dli_code
   413 = 3482			conditionColor1		equ dli+conditionColor1a-dli_code
   414 = 349D			pokey_5				equ dli+pokey_5a-dli_code
   415 = 34C1			radarX1				equ dli+radarX1a-dli_code
   416 = 3504			pokey5a				equ dli+pokey5aa-dli_code
   417 = 3522			pokey6				equ dli+pokey6a-dli_code
   418 = 353F			poz2lives				equ dli+poz2livesa-dli_code
   419 = 354E			poz2mlives			equ dli+poz2mlivesa-dli_code
   420 = 357D			pokey7				equ dli+pokey7a-dli_code
   421
   422 				waitwybuch			org *+1
   423 				plusscore			org *+2
   424 				spyScore			org *+1
   425 				spyscoreX			org *+1
   426 				spyscoreY			org *+1
   427 				rads1				org *+1		;co zmazac 0->statek, 1->formacje <0 nic nie zmazuj
   428 				spyspeed			org *+1
   429 				licznikspyscore		org *+1
   430 				pociski				org *+5
   431 				pociskiTlo			org *+5
   432 				pociskiX			org *+5
   433 				pociskiX0			org *+5
   434 				pociskiY			org *+5
   435 				pociskiY0			org *+5
   436 				pociskiY1			org *+5
   437 				pociskiDX			org *+5
   438 				pociskiDX0			org *+5
   439 				pociskiDY			org *+5
   440 				pociskiDY0			org *+5
   441 				pociskiPlusX		org *+5
   442 				pociskiPlusY		org *+5
   443 				pociskiZnakX		org *+5
   444 				pociskiZnakY		org *+5
   445
   446 				liczbaPociskow		org *+1
   447 				extraLicznik		org *+1
   448 				strzal				org *+4
   449 				strzalX				org *+4
   450 				strzalX1			org *+4
   451 				strzalX2			org *+4
   452 				strzalX3			org *+4
   453 				strzalX4			org *+4
   454 				stzralXbit			org *+4
   455 				strzalY				org *+4
   456 				strzalY1			org *+4
   457 				strzalY2			org *+4
   458 				strzalY3			org *+4
   459 				strzalYbit			org *+4
   460 				strzalKierunek		org *+4
   461 				strzalTlo			org *+4
   462 				strzalTlo1			org *+4
   463 				mwybuchyStart		org *+1
   464 				mwybuchyStop		org *+1
   465 				wybuchyStart		org *+1
   466 				wybuchyStop			org *+1
   467 				nobanner			org *+1
   468 				max_enemy			org *+1
   469 				ile_enemy			org *+1
   470 				jestSpy				org *+1
   471 				spyScoreRysuj		org *+1
   472 				punkty3				org *+1		;=opoznienieCondition
   473 				kondycja			org *+1
   474 				opozCoreA			org *+1
   475 				opozCoreB			org *+1
   476 				liczCoreA			org *+1
   477 				liczCoreB			org *+1
   478 				kat1				org *+1
   479 				kat2				org *+1
   480 				speedEnemy0			org *+1
   481 				opoz_denemy			org *+1
   482 				opoz_denemy1		org *+1
   483 				dlicz1				org *+1
   484 				opoz_dlosuj			org *+1
   485 				losuj1				org *+1
   486 				formacja_maska		org *+1
   487 				formacja_speed		org *+1
   488 				czy_6enemy			org *+1
   489 				timelevel			org *+1
   490 				rotate_speed1		org *+1
   491 				rotate_speed2		org *+1
   492 				rotate_speed1d		org *+1
   493 				rotate_speed2d		org *+1
   494 				maxPociskow			org *+1
   495 				zbiteBazy			org *+1
   496 				startX				org *+1
   497 				startY				org *+1
   498 				czasOtwarcia		org *+1
   499 				czasZamkniecia		org *+1
   500 				licznikBazyEkran	org *+1
   501 				licznikBombyEkran	org *+1
   502 				bazyEkran			org *+12		;12 baz na ekranie max
   503 				gwiazdyLicznik		org *+1
   504 				openA				org *+1
   505 				openB				org *+1
   506 				licznikJadroA		org *+1
   507 				licznikJadroB		org *+1
   508 				czyJadroA			org *+1
   509 				czyJadroB			org *+1
   510 				mryganieRadarX		org *+1
   511 				fazaWybuch			org *+1
   512 				licznikStrzal		org *+1
   513 				opoz_potrafieniu	org *+1
   514 				speedEnemy			org *+1
   515 				speech				org *+1
   516 				formacja_typ		org *+1
   517 				enrotate			org *+6
   518 				enlicznik			org *+6
   519 				formacja_zbite	org *+1
   520 				opoznieniefire	org *+1
   521 				sfire				org *+1
   522 				zmazTab			org *+8
   523 				strzalXbit			org *+4
   524 				spylicznik			org *+1
   525 				spylicznik1			org *+1
   526 				formacjaX				org *+1
   527 				forLicznik			org *+1
   528 				dowodca				org *+1
   529 				enemyPosX				org *+6
   530 				enemyPosY				org *+6
   531 				litera				org *+1
   532 				pozLitera			org *+1
   533 				duszek4kolor		org *+1
   534 				duszek4pos			org *+1
   535 				kbcode1					org *+1
   536 				pauza				org *+1
   537 				sfx_extra				org *+1
   538 				sfx_rakieta				org *+1
   539 				sfx_effect				org *+1
   540 				sfx_dzialko				org *+1
   541 				sfx_asteroid			org *+1
   542 				sfx_bomba				org *+1
   543 				sfx_wybuch				org *+1
   544 				sfx_dead				org *+1
   545 				sfx_antyair				org *+1
   546 				sfx_enemyhit			org *+1
   547 				klatki					org *+1
   548 				sjoy					org *+1
   549 				rodzajSpeech			org *+1
   550 				opoznieniePocisku		org *+1
   551
   552
   553 				kanal1				org *+1
   554 				petla1				org *+1
   555 				kanal2				org *+1
   556 				petla2				org *+1
   557 				kanal3				org *+1
   558 				petla3				org *+1
   559
   560 				kanal1s				org *+2		;2 bajty , uzywamy tylko 1
   561 				kanal2s				org *+2
   562 				kanal3s				org *+2
   563
   564
   565
   566
   567 				obraz1L				org *+29
   568 				obraz1H				org *+29
   569 				obraz2L				org *+29
   570 				obraz2H				org *+29
   571
   572 				obraz1La			org *+37
   573 				obraz1Ha			org *+37
   574 				obraz2La			org *+37
   575 				obraz2Ha			org *+37
   576
   577
   578 				mute_rmt			org *+24
   579 				sfx_rmt				org *+18
   580 				getSongLine_rmt		org *+18
   581 				init_rmt			org *+18
   582 				play_rmt			org *+16
   583 				skok_title			org *+10
   584 				interrupt			org *+1
   585 				run1				org *+6
   586 = 384E			run_ad	equ run1+4
   587 = 384B			run_bank	equ run1+1
   588 				go_bank				org *+25
   589 				jmp_bank			org *+15
   590
   591 				drawDX4				org *+drawDX6_-drawDX4_
   592 				.rept	4,#
   593 				SZNAKX4:1			EQU DRAWDX4+2+:1*12
   594 				MASKX4:1			EQU DRAWDX4+5+:1*12
   595 				KSZTX4:1			EQU DRAWDX4+8+:1*12
   596 				NZNAKX4:1			EQU DRAWDX4+11+:1*12
   597 				.ENDR
   597 				.endr
Source: REPT
   593 = 387A			SZNAKX40			EQU DRAWDX4+2+0*12
   593 = 387D			MASKX40			EQU DRAWDX4+5+0*12
   593 = 3880			KSZTX40			EQU DRAWDX4+8+0*12
   593 = 3883			NZNAKX40			EQU DRAWDX4+11+0*12
   593 = 3886			SZNAKX41			EQU DRAWDX4+2+1*12
   593 = 3889			MASKX41			EQU DRAWDX4+5+1*12
   593 = 388C			KSZTX41			EQU DRAWDX4+8+1*12
   593 = 388F			NZNAKX41			EQU DRAWDX4+11+1*12
   593 = 3892			SZNAKX42			EQU DRAWDX4+2+2*12
   593 = 3895			MASKX42			EQU DRAWDX4+5+2*12
   593 = 3898			KSZTX42			EQU DRAWDX4+8+2*12
   593 = 389B			NZNAKX42			EQU DRAWDX4+11+2*12
   593 = 389E			SZNAKX43			EQU DRAWDX4+2+3*12
   593 = 38A1			MASKX43			EQU DRAWDX4+5+3*12
   593 = 38A4			KSZTX43			EQU DRAWDX4+8+3*12
   593 = 38A7			NZNAKX43			EQU DRAWDX4+11+3*12
Source: a.asm
   598
   599 				drawDX6				org *+drawDY6_-drawDX6_
   600 				.rept	6,#
   601 				SZNAKX6:1			EQU DRAWDX6+2+:1*12
   602 				MASKX6:1			EQU DRAWDX6+5+:1*12
   603 				KSZTX6:1			EQU DRAWDX6+8+:1*12
   604 				NZNAKX6:1			EQU DRAWDX6+11+:1*12
   605 				.ENDR
   605 				.endr
Source: REPT
   601 = 38B7			SZNAKX60			EQU DRAWDX6+2+0*12
   601 = 38BA			MASKX60			EQU DRAWDX6+5+0*12
   601 = 38BD			KSZTX60			EQU DRAWDX6+8+0*12
   601 = 38C0			NZNAKX60			EQU DRAWDX6+11+0*12
   601 = 38C3			SZNAKX61			EQU DRAWDX6+2+1*12
   601 = 38C6			MASKX61			EQU DRAWDX6+5+1*12
   601 = 38C9			KSZTX61			EQU DRAWDX6+8+1*12
   601 = 38CC			NZNAKX61			EQU DRAWDX6+11+1*12
   601 = 38CF			SZNAKX62			EQU DRAWDX6+2+2*12
   601 = 38D2			MASKX62			EQU DRAWDX6+5+2*12
   601 = 38D5			KSZTX62			EQU DRAWDX6+8+2*12
   601 = 38D8			NZNAKX62			EQU DRAWDX6+11+2*12
   601 = 38DB			SZNAKX63			EQU DRAWDX6+2+3*12
   601 = 38DE			MASKX63			EQU DRAWDX6+5+3*12
   601 = 38E1			KSZTX63			EQU DRAWDX6+8+3*12
   601 = 38E4			NZNAKX63			EQU DRAWDX6+11+3*12
   601 = 38E7			SZNAKX64			EQU DRAWDX6+2+4*12
   601 = 38EA			MASKX64			EQU DRAWDX6+5+4*12
   601 = 38ED			KSZTX64			EQU DRAWDX6+8+4*12
   601 = 38F0			NZNAKX64			EQU DRAWDX6+11+4*12
   601 = 38F3			SZNAKX65			EQU DRAWDX6+2+5*12
   601 = 38F6			MASKX65			EQU DRAWDX6+5+5*12
   601 = 38F9			KSZTX65			EQU DRAWDX6+8+5*12
   601 = 38FC			NZNAKX65			EQU DRAWDX6+11+5*12
Source: a.asm
   606
   607 				drawDY6				org *+drawDY9_-drawDY6_
   608 = 390C			sznakY60			equ drawDY6+2
   609 = 390F			maskY60				equ drawDY6+5 
   610 = 3912			ksztY60				equ drawDY6+8
   611 = 3915			nznakY60			equ drawDY6+11
   612
   613 = 3918			sznakY61			equ drawDY6+14
   614 = 391B			maskY61				equ drawDY6+17 
   615 = 391E			ksztY61				equ drawDY6+20
   616 = 3921			nznakY61			equ drawDY6+23
   617
   618 = 3924			sznakY62			equ drawDY6+26
   619 = 3927			nznakY62			equ drawDY6+29
   620
   621 = 392A			sznakY63			equ drawDY6+32
   622 = 392D			maskY63				equ drawDY6+35
   623 = 3930			ksztY63				equ drawDY6+38
   624 = 3933			nznakY63			equ drawDY6+41
   625
   626 = 3936			sznakY64			equ drawDY6+44
   627 = 3939			maskY64				equ drawDY6+47 
   628 = 393C			ksztY64				equ drawDY6+50
   629 = 393F			nznakY64			equ drawDY6+53
   630
   631 = 3942			sznakY65			equ drawDY6+56
   632 = 3945			nznakY65			equ drawDY6+59
   633
   634 = 3949			petlaY6				equ drawDY6+63
   635
   636 = 394D			sznakY60b			equ drawDY6+67
   637 = 3950			nznakY60b			equ drawDY6+70
   638
   639 = 3953			sznakY61b			equ drawDY6+73
   640 = 3956			maskY61b			equ drawDY6+76
   641 = 3959			ksztY61b			equ drawDY6+79
   642 = 395C			nznakY61b			equ drawDY6+82
   643
   644 = 395F			sznakY62b			equ drawDY6+85
   645 = 3962			maskY62b			equ drawDY6+88
   646 = 3965			ksztY62b			equ drawDY6+91
   647 = 3968			nznakY62b			equ drawDY6+94
   648
   649 = 396B			sznakY63b			equ drawDY6+97
   650 = 396E			nznakY63b			equ drawDY6+100
   651
   652 = 3971			sznakY64b			equ drawDY6+103
   653 = 3974			maskY64b			equ drawDY6+106
   654 = 3977			ksztY64b			equ drawDY6+109
   655 = 397A			nznakY64b			equ drawDY6+112
   656
   657 = 397D			sznakY65b			equ drawDY6+115
   658 = 3980			maskY65b			equ drawDY6+118
   659 = 3983			ksztY65b			equ drawDY6+121
   660 = 3986			nznakY65b			equ drawDY6+124
   661
   662 				drawDY9				org *+duszkiPrint_code-drawDY9_
   663 = 3996			sznakY90			equ drawDY9+2
   664 = 3999			maskY90				equ drawDY9+5
   665 = 399C			ksztY90				equ drawDY9+8
   666 = 399F			nznakY90			equ drawDY9+11
   667
   668 = 39A2			sznakY91			equ drawDY9+14
   669 = 39A5			maskY91				equ drawDY9+17
   670 = 39A8			ksztY91				equ drawDY9+20
   671 = 39AB			nznakY91			equ drawDY9+23
   672
   673 = 39AE			sznakY92			equ drawDY9+26
   674 = 39B1			nznakY92			equ drawDY9+29
   675
   676 = 39B4			sznakY93			equ drawDY9+32
   677 = 39B7			maskY93				equ drawDY9+35
   678 = 39BA			ksztY93				equ drawDY9+38
   679 = 39BD			nznakY93			equ drawDY9+41
   680
   681 = 39C0			sznakY94			equ drawDY9+44
   682 = 39C3			maskY94				equ drawDY9+47
   683 = 39C6			ksztY94				equ drawDY9+50
   684 = 39C9			nznakY94			equ drawDY9+53
   685
   686 = 39CC			sznakY95			equ drawDY9+56
   687 = 39CF			nznakY95			equ drawDY9+59
   688
   689 = 39D2			sznakY96			equ drawDY9+62
   690 = 39D5			maskY96				equ drawDY9+65
   691 = 39D8			ksztY96				equ drawDY9+68
   692 = 39DB			nznakY96			equ drawDY9+71
   693
   694 = 39DE			sznakY97			equ drawDY9+74
   695 = 39E1			maskY97				equ drawDY9+77
   696 = 39E4			ksztY97				equ drawDY9+80
   697 = 39E7			nznakY97			equ drawDY9+83
   698
   699 = 39EA			sznakY98			equ drawDY9+86
   700 = 39ED			nznakY98			equ drawDY9+89
   701
   702 = 39F1			petlaY9				equ drawDY9+93
   703
   704 = 39F5			sznakY90b			equ drawDY9+97
   705 = 39F8			nznakY90b			equ drawDY9+100
   706
   707 = 39FB			sznakY91b			equ drawDY9+103
   708 = 39FE			maskY91b			equ drawDY9+106
   709 = 3A01			ksztY91b			equ drawDY9+109
   710 = 3A04			nznakY91b			equ drawDY9+112
   711
   712 = 3A07			sznakY92b			equ drawDY9+115
   713 = 3A0A			maskY92b			equ drawDY9+118
   714 = 3A0D			ksztY92b			equ drawDY9+121
   715 = 3A10			nznakY92b			equ drawDY9+124
   716 						
   717 = 3A13			sznakY93b			equ drawDY9+127
   718 = 3A16			nznakY93b			equ drawDY9+130
   719
   720 = 3A19			sznakY94b			equ drawDY9+133
   721 = 3A1C			maskY94b			equ drawDY9+136
   722 = 3A1F			ksztY94b			equ drawDY9+139
   723 = 3A22			nznakY94b			equ drawDY9+142
   724
   725 = 3A25			sznakY95b			equ drawDY9+145
   726 = 3A28			maskY95b			equ drawDY9+148
   727 = 3A2B			ksztY95b			equ drawDY9+151
   728 = 3A2E			nznakY95b			equ drawDY9+154
   729
   730 = 3A31			sznakY96b			equ drawDY9+157
   731 = 3A34			nznakY96b			equ drawDY9+160
   732
   733 = 3A37			sznakY97b			equ drawDY9+163
   734 = 3A3A			maskY97b			equ drawDY9+166
   735 = 3A3D			ksztY97b			equ drawDY9+169
   736 = 3A40			nznakY97b			equ drawDY9+172
   737
   738 = 3A43			sznakY98b			equ drawDY9+175
   739 = 3A46			maskY98b			equ drawDY9+178
   740 = 3A49			ksztY98b			equ drawDY9+181
   741 = 3A4C			nznakY98b			equ drawDY9+184
   742
   743 				duszkiPrint			org *+17
   744
   745 				.IF .NOT .DEF ATARIMAX		
   746 						.rept 12, #
   747 							.SEGDEF FBANK:1 $4000 $8000 R :1
   749 							.SEGMENT FBANK:1		
   750 								INS 'empty.dat'
   751 							.ENDSEG
   752 						.ENDR
   752 						.endr
Source: REPT
   747 							.SEGDEF FBANK0 $4000 $8000 R 0
   747 							.SEGMENT FBANK0		
   747 4000 00 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK1 $4000 $8000 R 1
   747 3A6B						.SEGMENT FBANK1		
   747 01,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK2 $4000 $8000 R 2
   747 3A6B						.SEGMENT FBANK2		
   747 02,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK3 $4000 $8000 R 3
   747 3A6B						.SEGMENT FBANK3		
   747 03,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK4 $4000 $8000 R 4
   747 3A6B						.SEGMENT FBANK4		
   747 04,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK5 $4000 $8000 R 5
   747 3A6B						.SEGMENT FBANK5		
   747 05,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK6 $4000 $8000 R 6
   747 3A6B						.SEGMENT FBANK6		
   747 06,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK7 $4000 $8000 R 7
   747 3A6B						.SEGMENT FBANK7		
   747 07,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK8 $4000 $8000 R 8
   747 3A6B						.SEGMENT FBANK8		
   747 08,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK9 $4000 $8000 R 9
   747 3A6B						.SEGMENT FBANK9		
   747 09,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK10 $4000 $8000 R 10
   747 3A6B						.SEGMENT FBANK10		
   747 0A,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
   747 3A6B						.SEGDEF FBANK11 $4000 $8000 R 11
   747 3A6B						.SEGMENT FBANK11		
   747 0B,4000 00 00 00 00 00 + 				INS 'empty.dat'
   747 C000						.ENDSEG
Source: a.asm
   753 				.ENDIF
   754 						
   755 						
   756 3A6B					icl 'bank0.asm'
Source: bank0.asm
     1 				//bank0, 12 bank pamiÄ™ci
     2
     3 3A6B					org $4000	
     4 4000 D0					dta b($d0)		;nr banku $bfd0	
     5 						
     6 4001 00 00 00 00 00 00 + 		:255 dta b(0)	//wyrÃ³wnanie do strony
     7 						
     8 4100			enemy1shapetab	
     9 4100 00 20 40 60 80 A0 + 		ins '/sprites/enemy1shapetab.dat'
    10 4200			enemy2shapetab
    11 4200 00 20 40 60 80 A0 + 		ins '/sprites/enemy2shapetab.dat'
    12 4300			enemy3shapetab
    13 4300 00 20 40 60 80 A0 + 		ins '/sprites/enemy3shapetab.dat'
    14 4400			enemy4shapetab
    15 4400 00 20 40 60 80 A0 + 		ins '/sprites/enemy4shapetab.dat'		
    16 4500			enemy5shapetab
    17 4500 00 20 40 60 80 A0 + 		ins '/sprites/enemy5shapetab.dat'
    18 4600			explo_shapeTab
    19 4600 00 00 20 40 AA A4 + 		ins '/sprites/explo_shapetab.dat'
    20 								
    21 4700 01 05 06 16 15 17 + 		ins '/sprites/enemy1shape.dat'		
    22 5200 02 0A 09 29 2A 2B + 		ins '/sprites/enemy2shape.dat'		
    23 5D00 01 01 01 01 05 06 + 		ins '/sprites/enemy3shape.dat'		
    24 6800 02 02 02 02 0A 09 + 		ins '/sprites/enemy4shape.dat'		
    25 7300 00 03 03 0F 0F 2D + 		ins '/sprites/enemy5shape.dat'		
    26 7E00 F0 C0 C0 00 00 00 + 		ins '/sprites/enemy12mask.dat'		
    27 8900 F0 F0 F0 F0 C0 C0 + 		ins '/sprites/enemy34mask.dat'		
    28 9400 FC F0 F0 C0 C0 00 + 		ins '/sprites/enemy5mask.dat'		
    29 9F00 80 2C 2E 0B 34 25 + 		ins '/sprites/exploShape.dat'	
    30 A200 00 00 00 C0 00 00 + 		ins '/sprites/exploMask.dat'
    31 A500			bonusShapeTab		
    32 A500 FF 00 FF 00 FF 00 + 		ins '/sprites/bonusShapeTab.dat'
    33 A600 00 00 00 00 04 1D + 		ins '/sprites/bonusShape.dat'
    34 A6C0 FF FF FF F3 C0 00 + 		ins '/sprites/bonusMask.dat'
    35 						
    36 A780					icl 'duszki3.asm'
Source: duszki3.asm
     1 				;trzecia wersja duszkÃ³w
     2 = 004A			firstDuchChar	equ 74
     3
     4
     5
     6 				;tablice
     7 = A780			duszkiZnakiL	equ *
     8 A780 50 98 E0 28 70 B8				:6 dta b(<((firstDuchChar+9*#)*8+znaki1))
     9 = A786			duszkiZnakiH	equ *
    10 A786 12 12 12 13 13 13				:6 dta b(>((firstDuchChar+9*#)*8+znaki1))
    11 = A78C			duszkiChar		equ *
    12 A78C 4A 53 5C 65 6E 77				:6 dta b(firstDuchChar+(#*9))
    13
    14
    15 				;0page
    16 					
    17
    18
    19 = A792			_duszkiPrint	equ *	
    20 A792 38						sec
    21 A793 BD 31 32					lda enemyX,x
    22 A796 E5 BA					sbc posX
    23 A798 A8						tay
    24 A799 B9 00 08					lda tabX,y
    25 A79C 9D 37 32					sta enemyX0,x
    26 A79F 18						clc
    27 A7A0 69 02					adc #2
    28 A7A2 C9 23					cmp #33+2
    29 A7A4 90 0E					bcc @+
    30 A7A6 BD 3D 32					lda enemyY,x		;obliczmy teÅ¼ Y0 dla duszka poza ekranem
    31 A7A9 E5 BB					sbc posY
    32 A7AB 9D 43 32					sta enemyY0,x
    33 A7AE A9 01					lda #1
    34 A7B0 9D 2B 32					sta enemyEkran,x
    35 A7B3 60						rts		;poza ekranem
    36 							
    37 A7B4 69 06		@			adc #6
    38 A7B6 85 A6					sta duchX
    39 							
    40 A7B8 38						sec
    41 A7B9 BD 3D 32					lda enemyY,x
    42 A7BC E5 BB					sbc posY
    43 A7BE 9D 43 32					sta enemyY0,x
    44 A7C1 18						clc
    45 A7C2 69 02					adc #2
    46 A7C4 C9 1F					cmp #29+2
    47 A7C6 90 06					bcc @+
    48 A7C8 A9 01					lda #1
    49 A7CA 9D 2B 32					sta enemyEkran,x
    50 A7CD 60						rts		;poza ekranem	
    51 							
    52 A7CE A8			@			tay
    53
    54 							
    55 A7CF A5 BC					lda ramka
    56 A7D1 D0 11					bne @+					;adres pamieci obrazu pod duszkiem
    57 A7D3 18						clc
    58 A7D4 B9 53 37					lda obraz1La+6,y
    59 A7D7 65 A6					adc duchX
    60 A7D9 85 9B					sta pom
    61 A7DB B9 78 37					lda obraz1Ha+6,y
    62 A7DE 69 00					adc #0
    63 A7E0 85 9C					sta pom+1
    64 A7E2 D0 0F					bne @+1		;skok bezwarunkowy
    65 A7E4 18			@			clc
    66 A7E5 B9 9D 37					lda obraz2La+6,y
    67 A7E8 65 A6					adc duchX
    68 A7EA 85 9B					sta pom
    69 A7EC B9 C2 37					lda obraz2Ha+6,y
    70 A7EF 69 00					adc #0
    71 A7F1 85 9C					sta pom+1
    72 							
    73 = A7F3			@			equ *
    74 A7F3 86 A6					stx zapX	;zapamietaj X
    75 A7F5 BD 73 32					lda enemyShapeH,x		;adres ksztaltu
    76 A7F8 85 A4					sta pom4+1
    77 							;sta _shapeAD_L+2
    78 							;sta _shapeAD_H+2
    79 							
    80 							;sta _maskAD_L+2
    81 							;sta _maskAD_H+2
    82
    83 						
    84 A7FA BD 55 32					lda enemyDY,x
    85 A7FD 29 C0					and #%11000000
    86 A7FF 0A						asl
    87 A800 2A 2A					:2 rol
    88 A802 9D 5B 32					sta enemyDY0,x
    89 A805 0A						asl
    90 A806 85 A8					sta pom0c	;DY*2
    91
    92 A808 BD 49 32					lda enemyDX,x
    93 A80B 29 C0					and #%11000000
    94 A80D 0A						asl
    95 A80E 2A						rol
    96 A80F 2A						rol
    97 A810 9D 4F 32					sta enemyDX0,x	;DX
    98 A813 0A						asl
    99 A814 85 A7					sta pom0b		;DX*2
   100 A816 0A 0A 0A					:3 asl
   101 A819 1D 61 32					ora enemyFaza,x
   102 A81C A8						tay
   103 							
   104 A81D BD 8C A7					lda duszkiChar,x			
   105 A820 1D 67 32					ora enemyNegatyw,x	
   106 A823 85 A5					sta nchar
   107 							
   108 A825 38						sec
   109 				;_shapeAD_L	equ *
   110 A826 A9 00					lda #0
   111 A828 85 A3					sta pom4
   112 A82A B1 A3					lda (pom4),y
   113 							;lda enemy1shapetab,y			;adres ksztaltu faza*4 + DX
   114 A82C E5 A8					sbc pom0c				;-(DY*2)
   115 A82E 85 9F					sta _kszt
   116 				;_shapeAD_H	equ *
   117 A830 A9 40					lda #64
   118 A832 85 A3					sta pom4
   119 A834 B1 A3					lda (pom4),y
   120 							;lda enemy1shapetab+64,y
   121 A836 E9 00					sbc #0
   122 A838 85 A0					sta _kszt+1		
   123 						
   124 A83A 38						sec
   125 				;_maskAD_L	equ *
   126 A83B A9 80					lda #128
   127 A83D 85 A3					sta pom4
   128 A83F B1 A3					lda (pom4),y
   129 							;lda enemy1masktab,y
   130 A841 E5 A8					sbc pom0c
   131 A843 85 A1					sta _mask
   132 				;_maskAD_H	equ *
   133 A845 A9 C0					lda #192
   134 A847 85 A3					sta pom4
   135 A849 B1 A3					lda (pom4),y
   136 							;lda enemy1masktab+64,y
   137 A84B E9 00					sbc #0
   138 A84D 85 A2					sta _mask+1
   139 							
   140 							
   141 A84F BD 5B 32					lda enemyDY0,x
   142 A852 D0 07					bne @+
   143 A854 05 A7					ora pom0b
   144 A856 F0 0D					beq printDX4
   145 A858 4C 37 A9					jmp printDX6
   146 A85B A5 A7		@			lda pom0b	;DX
   147 A85D F0 03					beq @+
   148 A85F 4C 2C AC					jmp printDY9
   149 A862 4C 87 AA		@			jmp printDY6
   150 						
   151 				;DX=0,DY=0		
   152 = A865			printDX4		equ *
   153
   154 				;adresy nowych znakow			
   155 A865 BD 86 A7					lda duszkiZnakiH,x
   156 A868 05 BD					ora ramka4
   157 A86A 8D 85 38					sta nznakX40+2
   158 A86D A8						tay
   159 A86E BD 80 A7					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   160 A871 8D 84 38					sta nznakX40+1
   161 A874 18						clc
   162 A875 69 08					adc #8
   163 							
   164 A877 8D 90 38					sta nznakX41+1
   165 A87A 8C 91 38					sty nznakX41+2
   166 A87D 69 08					adc #8
   167 							
   168 A87F 8D 9C 38					sta nznakX42+1
   169 A882 8C 9D 38					sty nznakX42+2
   170 A885 69 08					adc #8
   171 							
   172 A887 8D A8 38					sta nznakX43+1
   173 A88A 8C A9 38					sty nznakX43+2
   174 							
   175 							
   176 				;adresy starych znakow
   177 A88D A0 00					ldy #0			;1znak
   178 A88F B1 9B					lda (pom),y
   179 A891 AA						tax
   180 A892 29 80					and #128			
   181 A894 05 A5					ora nchar		;nr znaku duszka
   182 A896 91 9B					sta (pom),y
   183 A898 BD 00 2D					lda adresZnakL,x
   184 A89B 8D 7B 38					sta sznakX40+1
   185 A89E BD 00 2E					lda adresZnakH,x
   186 A8A1 05 BD					ora ramka4
   187 A8A3 8D 7C 38					sta sznakX40+2
   188 							
   189 A8A6 E6 A5					inc nchar
   190 A8A8 A0 30					ldy #48			;1znak
   191 A8AA B1 9B					lda (pom),y
   192 A8AC AA						tax
   193 A8AD 29 80					and #128
   194 A8AF 05 A5					ora nchar		;nr znaku duszka
   195 A8B1 91 9B					sta (pom),y
   196 A8B3 BD 00 2D					lda adresZnakL,x
   197 A8B6 8D 87 38					sta sznakX41+1
   198 A8B9 BD 00 2E					lda adresZnakH,x
   199 A8BC 05 BD					ora ramka4
   200 A8BE 8D 88 38					sta sznakX41+2
   201 							
   202 A8C1 E6 A5					inc nchar
   203 A8C3 A0 01					ldy #1			;1znak
   204 A8C5 B1 9B					lda (pom),y
   205 A8C7 AA						tax
   206 A8C8 29 80					and #128
   207 A8CA 05 A5					ora nchar		;nr znaku duszka
   208 A8CC 91 9B					sta (pom),y
   209 A8CE BD 00 2D					lda adresZnakL,x
   210 A8D1 8D 93 38					sta sznakX42+1
   211 A8D4 BD 00 2E					lda adresZnakH,x
   212 A8D7 05 BD					ora ramka4
   213 A8D9 8D 94 38					sta sznakX42+2
   214 							
   215 A8DC E6 A5					inc nchar
   216 A8DE A0 31					ldy #49			;1znak
   217 A8E0 B1 9B					lda (pom),y
   218 A8E2 AA						tax
   219 A8E3 29 80					and #128
   220 A8E5 05 A5					ora nchar		;nr znaku duszka
   221 A8E7 91 9B					sta (pom),y
   222 A8E9 BD 00 2D					lda adresZnakL,x
   223 A8EC 8D 9F 38					sta sznakX43+1
   224 A8EF BD 00 2E					lda adresZnakH,x
   225 A8F2 05 BD					ora ramka4
   226 A8F4 8D A0 38					sta sznakX43+2
   227
   228 				;adresy ksztaltow	dla danych znakow
   229 A8F7 A5 9F					lda _kszt		;adresy ksztaltow
   230 A8F9 8D 81 38					sta ksztX40+1
   231 A8FC A4 A0					ldy _kszt+1
   232 A8FE 8C 82 38					sty ksztX40+2
   233
   234 A901 A6 A2					ldx _mask+1
   235 A903 8D 7E 38					sta maskX40+1
   236 A906 8E 7F 38					stx maskX40+2
   237
   238 A909 18						clc
   239 A90A 69 08					adc #8
   240 							
   241 A90C 8D 8D 38					sta ksztX41+1
   242 A90F 8C 8E 38					sty ksztX41+2
   243
   244 A912 8D 8A 38					sta maskX41+1
   245 A915 8E 8B 38					stx maskX41+2
   246
   247 A918 69 08					adc #8
   248 							
   249 A91A 8D 99 38					sta ksztX42+1
   250 A91D 8C 9A 38					sty ksztX42+2
   251
   252 A920 8D 96 38					sta maskX42+1
   253 A923 8E 97 38					stx maskX42+2
   254
   255 A926 69 08					adc #8
   256 							
   257 A928 8D A5 38					sta ksztX43+1
   258 A92B 8C A6 38					sty ksztX43+2
   259
   260 A92E 8D A2 38					sta maskX43+1
   261 A931 8E A3 38					stx maskX43+2
   262 A934 4C 78 38					jmp drawDX4
   263
   264 							
   265
   266 							
   267 				;DX>0,DY=0		
   268 = A937			printDX6		equ *
   269 				;adresy nowych znakow	
   270 A937 BD 86 A7					lda duszkiZnakiH,x
   271 A93A 05 BD					ora ramka4
   272 A93C 8D C2 38					sta nznakX60+2
   273 A93F A8						tay
   274 A940 BD 80 A7					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   275 A943 8D C1 38					sta nznakX60+1
   276 A946 18						clc
   277 A947 69 08					adc #8
   278 							
   279 A949 8D CD 38					sta nznakX61+1
   280 A94C 8C CE 38					sty nznakX61+2
   281 A94F 69 08					adc #8
   282 							
   283 A951 8D D9 38					sta nznakX62+1
   284 A954 8C DA 38					sty nznakX62+2
   285 A957 69 08					adc #8
   286 							
   287 A959 8D E5 38					sta nznakX63+1
   288 A95C 8C E6 38					sty nznakX63+2
   289 A95F 69 08					adc #8
   290 A961 90 02					bcc *+4
   291 A963 C8						iny
   292 A964 18						clc
   293 							
   294 A965 8D F1 38					sta nznakX64+1
   295 A968 8C F2 38					sty nznakX64+2
   296 A96B 69 08					adc #8
   297 							
   298 A96D 8D FD 38					sta nznakX65+1
   299 A970 8C FE 38					sty nznakX65+2
   300
   301 				;adresy starych znakow
   302 A973 A0 00					ldy #0			;1znak
   303 A975 B1 9B					lda (pom),y
   304 A977 AA						tax					
   305 A978 29 80					and #128
   306 A97A 05 A5					ora nchar		;nr znaku duszka
   307 A97C 91 9B					sta (pom),y
   308 A97E BD 00 2D					lda adresZnakL,x
   309 A981 8D B8 38					sta sznakX60+1
   310 A984 BD 00 2E					lda adresZnakH,x
   311 A987 05 BD					ora ramka4
   312 A989 8D B9 38					sta sznakX60+2
   313
   314 A98C E6 A5					inc nchar
   315 A98E A0 30					ldy #48			;1znak
   316 A990 B1 9B					lda (pom),y
   317 A992 AA						tax		
   318 A993 29 80					and #128
   319 A995 05 A5					ora nchar		;nr znaku duszka
   320 A997 91 9B					sta (pom),y
   321 A999 BD 00 2D					lda adresZnakL,x
   322 A99C 8D C4 38					sta sznakX61+1
   323 A99F BD 00 2E					lda adresZnakH,x
   324 A9A2 05 BD					ora ramka4
   325 A9A4 8D C5 38					sta sznakX61+2
   326 							
   327 A9A7 E6 A5					inc nchar
   328 A9A9 A0 01					ldy #1			;1znak
   329 A9AB B1 9B					lda (pom),y
   330 A9AD AA						tax		
   331 A9AE 29 80					and #128
   332 A9B0 05 A5					ora nchar		;nr znaku duszka
   333 A9B2 91 9B					sta (pom),y
   334 A9B4 BD 00 2D					lda adresZnakL,x
   335 A9B7 8D D0 38					sta sznakX62+1
   336 A9BA BD 00 2E					lda adresZnakH,x
   337 A9BD 05 BD					ora ramka4
   338 A9BF 8D D1 38					sta sznakX62+2
   339 							
   340 A9C2 E6 A5					inc nchar
   341 A9C4 A0 31					ldy #49			;1znak
   342 A9C6 B1 9B					lda (pom),y
   343 A9C8 AA						tax		
   344 A9C9 29 80					and #128
   345 A9CB 05 A5					ora nchar		;nr znaku duszka
   346 A9CD 91 9B					sta (pom),y
   347 A9CF BD 00 2D					lda adresZnakL,x
   348 A9D2 8D DC 38					sta sznakX63+1
   349 A9D5 BD 00 2E					lda adresZnakH,x
   350 A9D8 05 BD					ora ramka4
   351 A9DA 8D DD 38					sta sznakX63+2
   352 							
   353 A9DD E6 A5					inc nchar
   354 A9DF A0 02					ldy #2			;1znak
   355 A9E1 B1 9B					lda (pom),y
   356 A9E3 AA						tax		
   357 A9E4 29 80					and #128
   358 A9E6 05 A5					ora nchar		;nr znaku duszka
   359 A9E8 91 9B					sta (pom),y
   360 A9EA BD 00 2D					lda adresZnakL,x
   361 A9ED 8D E8 38					sta sznakX64+1
   362 A9F0 BD 00 2E					lda adresZnakH,x
   363 A9F3 05 BD					ora ramka4
   364 A9F5 8D E9 38					sta sznakX64+2
   365 							
   366 A9F8 E6 A5					inc nchar
   367 A9FA A0 32					ldy #50			;1znak
   368 A9FC B1 9B					lda (pom),y
   369 A9FE AA						tax			
   370 A9FF 29 80					and #128
   371 AA01 05 A5					ora nchar		;nr znaku duszka
   372 AA03 91 9B					sta (pom),y
   373 AA05 BD 00 2D					lda adresZnakL,x
   374 AA08 8D F4 38					sta sznakX65+1
   375 AA0B BD 00 2E					lda adresZnakH,x
   376 AA0E 05 BD					ora ramka4
   377 AA10 8D F5 38					sta sznakX65+2
   378
   379 				;adresy ksztaltow	dla danych znakow
   380 AA13 A5 9F					lda _kszt		;adresy ksztaltow
   381 AA15 8D BE 38					sta ksztX60+1
   382 AA18 A4 A0					ldy _kszt+1
   383 AA1A 8C BF 38					sty ksztX60+2
   384
   385 AA1D A6 A2					ldx _mask+1
   386 AA1F 8D BB 38					sta maskX60+1
   387 AA22 8E BC 38					stx maskX60+2
   388
   389 AA25 18						clc
   390 AA26 69 08					adc #8
   391 AA28 90 03					bcc @+
   392
   393 AA2A E8						inx
   394
   395 AA2B C8						iny
   396 AA2C 18						clc
   397 							
   398 AA2D 8D CA 38		@			sta ksztX61+1
   399 AA30 8C CB 38					sty ksztX61+2
   400
   401 AA33 8D C7 38					sta maskX61+1
   402 AA36 8E C8 38					stx maskX61+2
   403
   404 AA39 69 08					adc #8
   405 AA3B 90 03					bcc @+
   406
   407 AA3D E8						inx
   408
   409 AA3E C8						iny
   410 AA3F 18						clc
   411 							
   412 AA40 8D D6 38		@			sta ksztX62+1
   413 AA43 8C D7 38					sty ksztX62+2
   414
   415 AA46 8D D3 38					sta maskX62+1
   416 AA49 8E D4 38					stx maskX62+2
   417
   418 AA4C 69 08					adc #8
   419 AA4E 90 03					bcc @+
   420
   421 AA50 E8						inx
   422
   423 AA51 C8						iny
   424 AA52 18						clc
   425 							
   426 AA53 8D E2 38		@			sta ksztX63+1
   427 AA56 8C E3 38					sty ksztX63+2
   428
   429 AA59 8D DF 38					sta maskX63+1
   430 AA5C 8E E0 38					stx maskX63+2
   431
   432 AA5F 69 08					adc #8
   433 AA61 90 03					bcc @+
   434
   435 AA63 E8						inx
   436
   437 AA64 C8						iny
   438 AA65 18						clc
   439 							
   440 AA66 8D EE 38		@			sta ksztX64+1
   441 AA69 8C EF 38					sty ksztX64+2
   442
   443 AA6C 8D EB 38					sta maskX64+1
   444 AA6F 8E EC 38					stx maskX64+2
   445
   446 AA72 69 08					adc #8
   447 AA74 90 02					bcc @+
   448
   449 AA76 E8						inx
   450
   451 AA77 C8						iny
   452 							
   453 AA78 8D FA 38		@			sta ksztX65+1
   454 AA7B 8C FB 38					sty ksztX65+2
   455
   456 AA7E 8D F7 38					sta maskX65+1
   457 AA81 8E F8 38					stx maskX65+2
   458 AA84 4C B5 38					jmp drawDX6
   459
   460 							
   461
   462 							
   463 							
   464 = AA87			printDY6	equ *
   465 				;adresy nowych znakow
   466 AA87 BD 86 A7					lda duszkiZnakiH,x
   467 AA8A 05 BD					ora ramka4
   468 AA8C 8D 17 39					sta nznakY60+2
   469 AA8F 8D 52 39					sta nznakY60b+2
   470 AA92 A8						tay
   471 AA93 BD 80 A7					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   472 AA96 8D 16 39					sta nznakY60+1
   473 AA99 8D 51 39					sta nznakY60b+1
   474 AA9C 18						clc
   475 AA9D 69 08					adc #8
   476 AA9F 90 02					bcc @+
   477 AAA1 C8						iny
   478 AAA2 18						clc
   479 							
   480 AAA3 8D 22 39		@			sta nznakY61+1
   481 AAA6 8D 5D 39					sta nznakY61b+1
   482 AAA9 8C 23 39					sty nznakY61+2
   483 AAAC 8C 5E 39					sty nznakY61b+2
   484 AAAF 69 08					adc #8
   485 							
   486 AAB1 8D 28 39					sta nznakY62+1
   487 AAB4 8D 69 39					sta nznakY62b+1
   488 AAB7 8C 29 39					sty nznakY62+2
   489 AABA 8C 6A 39					sty nznakY62b+2
   490 AABD 69 08					adc #8
   491 							
   492 AABF 8D 34 39					sta nznakY63+1
   493 AAC2 8D 6F 39					sta nznakY63b+1
   494 AAC5 8C 35 39					sty nznakY63+2
   495 AAC8 8C 70 39					sty nznakY63b+2
   496 AACB 69 08					adc #8
   497 AACD 90 02					bcc *+4
   498 AACF C8						iny
   499 AAD0 18						clc
   500 							
   501 AAD1 8D 40 39					sta nznakY64+1
   502 AAD4 8D 7B 39					sta nznakY64b+1
   503 AAD7 8C 41 39					sty nznakY64+2
   504 AADA 8C 7C 39					sty nznakY64b+2
   505 AADD 69 08					adc #8
   506 							
   507 AADF 8D 46 39					sta nznakY65+1
   508 AAE2 8D 87 39					sta nznakY65b+1
   509 AAE5 8C 47 39					sty nznakY65+2
   510 AAE8 8C 88 39					sty nznakY65b+2
   511
   512 				;adresy starych znakÃ³w
   513
   514 AAEB A4 A8					ldy pom0c
   515 AAED 88						dey
   516 AAEE 8C 4A 39					sty petlaY6+1
   517 						
   518 AAF1 A0 00					ldy #0			;1znak
   519 AAF3 B1 9B					lda (pom),y
   520 AAF5 AA						tax
   521 AAF6 29 80					and #128
   522 AAF8 05 A5					ora nchar		;nr znaku duszka
   523 AAFA 91 9B					sta (pom),y
   524 AAFC BD 00 2D					lda adresZnakL,x
   525 AAFF 8D 0D 39					sta sznakY60+1
   526 AB02 8D 4E 39					sta sznakY60b+1
   527 AB05 BD 00 2E					lda adresZnakH,x
   528 AB08 05 BD					ora ramka4
   529 AB0A 8D 0E 39					sta sznakY60+2
   530 AB0D 8D 4F 39					sta sznakY60b+2
   531 								
   532 AB10 E6 A5					inc nchar
   533 AB12 A0 30					ldy #48			;1znak
   534 AB14 B1 9B					lda (pom),y
   535 AB16 AA						tax
   536 AB17 29 80					and #128
   537 AB19 05 A5					ora nchar		;nr znaku duszka
   538 AB1B 91 9B					sta (pom),y
   539 AB1D BD 00 2D					lda adresZnakL,x
   540 AB20 8D 19 39					sta sznakY61+1
   541 AB23 8D 54 39					sta sznakY61b+1
   542 AB26 BD 00 2E					lda adresZnakH,x
   543 AB29 05 BD					ora ramka4
   544 AB2B 8D 1A 39					sta sznakY61+2
   545 AB2E 8D 55 39					sta sznakY61b+2
   546 							
   547 AB31 E6 A5					inc nchar
   548 AB33 A0 60					ldy #96			;1znak
   549 AB35 B1 9B					lda (pom),y
   550 AB37 AA						tax
   551 AB38 29 80					and #128
   552 AB3A 05 A5					ora nchar		;nr znaku duszka
   553 AB3C 91 9B					sta (pom),y
   554 AB3E BD 00 2D					lda adresZnakL,x
   555 AB41 8D 25 39					sta sznakY62+1
   556 AB44 8D 60 39					sta sznakY62b+1
   557 AB47 BD 00 2E					lda adresZnakH,x
   558 AB4A 05 BD					ora ramka4
   559 AB4C 8D 26 39					sta sznakY62+2
   560 AB4F 8D 61 39					sta sznakY62b+2
   561 							
   562 AB52 E6 A5					inc nchar
   563 AB54 A0 01					ldy #1			;1znak
   564 AB56 B1 9B					lda (pom),y
   565 AB58 AA						tax
   566 AB59 29 80					and #128
   567 AB5B 05 A5					ora nchar		;nr znaku duszka
   568 AB5D 91 9B					sta (pom),y
   569 AB5F BD 00 2D					lda adresZnakL,x
   570 AB62 8D 2B 39					sta sznakY63+1
   571 AB65 8D 6C 39					sta sznakY63b+1
   572 AB68 BD 00 2E					lda adresZnakH,x
   573 AB6B 05 BD					ora ramka4
   574 AB6D 8D 2C 39					sta sznakY63+2
   575 AB70 8D 6D 39					sta sznakY63b+2
   576 							
   577 AB73 E6 A5					inc nchar
   578 AB75 A0 31					ldy #49			;1znak
   579 AB77 B1 9B					lda (pom),y
   580 AB79 AA						tax
   581 AB7A 29 80					and #128
   582 AB7C 05 A5					ora nchar		;nr znaku duszka
   583 AB7E 91 9B					sta (pom),y
   584 AB80 BD 00 2D					lda adresZnakL,x
   585 AB83 8D 37 39					sta sznakY64+1
   586 AB86 8D 72 39					sta sznakY64b+1
   587 AB89 BD 00 2E					lda adresZnakH,x
   588 AB8C 05 BD					ora ramka4
   589 AB8E 8D 38 39					sta sznakY64+2
   590 AB91 8D 73 39					sta sznakY64b+2
   591 							
   592 AB94 E6 A5					inc nchar
   593 AB96 A0 61					ldy #97			;1znak
   594 AB98 B1 9B					lda (pom),y
   595 AB9A AA						tax
   596 AB9B 29 80					and #128
   597 AB9D 05 A5					ora nchar		;nr znaku duszka
   598 AB9F 91 9B					sta (pom),y
   599 ABA1 BD 00 2D					lda adresZnakL,x
   600 ABA4 8D 43 39					sta sznakY65+1
   601 ABA7 8D 7E 39					sta sznakY65b+1
   602 ABAA BD 00 2E					lda adresZnakH,x
   603 ABAD 05 BD					ora ramka4
   604 ABAF 8D 44 39					sta sznakY65+2
   605 ABB2 8D 7F 39					sta sznakY65b+2
   606
   607 				;adresy ksztaltow	dla danych znakow
   608 ABB5 A5 9F					lda _kszt		;adresy ksztaltow
   609 ABB7 8D 13 39					sta ksztY60+1
   610 ABBA A4 A0					ldy _kszt+1
   611 ABBC 8C 14 39					sty ksztY60+2
   612
   613 ABBF A6 A2					ldx _mask+1
   614 ABC1 8D 10 39					sta maskY60+1
   615 ABC4 8E 11 39					stx maskY60+2
   616
   617 ABC7 18						clc
   618 ABC8 69 08					adc #8
   619 ABCA 90 03					bcc @+
   620 ABCC C8						iny
   621
   622 ABCD E8						inx
   623
   624 							
   625 ABCE 18						clc
   626 ABCF 8D 1F 39		@			sta ksztY61+1
   627 ABD2 8D 5A 39					sta ksztY61b+1
   628 ABD5 8C 20 39					sty ksztY61+2
   629 ABD8 8C 5B 39					sty ksztY61b+2
   630
   631 ABDB 8D 1C 39					sta maskY61+1
   632 ABDE 8D 57 39					sta maskY61b+1
   633 ABE1 8E 1D 39					stx maskY61+2
   634 ABE4 8E 58 39					stx maskY61b+2
   635
   636 ABE7 69 08					adc #8 	
   637 							
   638 ABE9 8D 66 39					sta ksztY62b+1
   639 ABEC 8C 67 39					sty ksztY62b+2
   640
   641 ABEF 8D 63 39					sta maskY62b+1
   642 ABF2 8E 64 39					stx maskY62b+2
   643
   644 							
   645 ABF5 8D 31 39					sta ksztY63+1
   646 ABF8 8C 32 39					sty ksztY63+2
   647
   648 ABFB 8D 2E 39					sta maskY63+1
   649 ABFE 8E 2F 39					stx maskY63+2
   650
   651 AC01 69 08					adc #8
   652 							
   653 AC03 8D 3D 39					sta ksztY64+1
   654 AC06 8D 78 39					sta ksztY64b+1
   655 AC09 8C 3E 39					sty ksztY64+2
   656 AC0C 8C 79 39					sty ksztY64b+2
   657
   658 AC0F 8D 3A 39					sta maskY64+1
   659 AC12 8D 75 39					sta maskY64b+1
   660 AC15 8E 3B 39					stx maskY64+2
   661 AC18 8E 76 39					stx maskY64b+2
   662
   663 AC1B 69 08					adc #8
   664 							
   665 AC1D 8D 84 39					sta ksztY65b+1
   666 AC20 8C 85 39					sty ksztY65b+2
   667
   668 AC23 8D 81 39					sta maskY65b+1
   669 AC26 8E 82 39					stx maskY65b+2
   670 AC29 4C 0A 39					jmp drawDY6
   671
   672 							
   673
   674 							
   675 = AC2C			printDY9	equ *
   676 				;adresy nowych znakow
   677 AC2C BD 86 A7					lda duszkiZnakiH,x
   678 AC2F 05 BD					ora ramka4
   679 AC31 8D A1 39					sta nznakY90+2
   680 AC34 8D FA 39					sta nznakY90b+2
   681 AC37 A8						tay
   682 AC38 BD 80 A7					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   683 AC3B 8D A0 39					sta nznakY90+1
   684 AC3E 8D F9 39					sta nznakY90b+1
   685 AC41 18						clc
   686 AC42 69 08					adc #8
   687 							
   688 AC44 8D AC 39					sta nznakY91+1
   689 AC47 8D 05 3A					sta nznakY91b+1
   690 AC4A 8C AD 39					sty nznakY91+2
   691 AC4D 8C 06 3A					sty nznakY91b+2
   692 AC50 69 08					adc #8
   693 							
   694 AC52 8D B2 39					sta nznakY92+1
   695 AC55 8D 11 3A					sta nznakY92b+1
   696 AC58 8C B3 39					sty nznakY92+2
   697 AC5B 8C 12 3A					sty nznakY92b+2
   698 AC5E 69 08					adc #8
   699 							
   700 AC60 8D BE 39					sta nznakY93+1
   701 AC63 8D 17 3A					sta nznakY93b+1
   702 AC66 8C BF 39					sty nznakY93+2
   703 AC69 8C 18 3A					sty nznakY93b+2
   704 AC6C 69 08					adc #8
   705 AC6E 90 02					bcc *+4
   706 AC70 C8						iny
   707 AC71 18						clc
   708 							
   709 AC72 8D CA 39					sta nznakY94+1
   710 AC75 8D 23 3A					sta nznakY94b+1
   711 AC78 8C CB 39					sty nznakY94+2
   712 AC7B 8C 24 3A					sty nznakY94b+2
   713 AC7E 69 08					adc #8
   714 							
   715 AC80 8D D0 39					sta nznakY95+1
   716 AC83 8D 2F 3A					sta nznakY95b+1
   717 AC86 8C D1 39					sty nznakY95+2
   718 AC89 8C 30 3A					sty nznakY95b+2
   719 AC8C 69 08					adc #8
   720 							
   721 AC8E 8D DC 39					sta nznakY96+1
   722 AC91 8D 35 3A					sta nznakY96b+1
   723 AC94 8C DD 39					sty nznakY96+2
   724 AC97 8C 36 3A					sty nznakY96b+2
   725 AC9A 69 08					adc #8
   726 							
   727 AC9C 8D E8 39					sta nznakY97+1
   728 AC9F 8D 41 3A					sta nznakY97b+1
   729 ACA2 8C E9 39					sty nznakY97+2
   730 ACA5 8C 42 3A					sty nznakY97b+2
   731 ACA8 69 08					adc #8
   732 							
   733 ACAA 8D EE 39					sta nznakY98+1
   734 ACAD 8D 4D 3A					sta nznakY98b+1
   735 ACB0 8C EF 39					sty nznakY98+2
   736 ACB3 8C 4E 3A					sty nznakY98b+2
   737
   738 				;adresy starych znakow
   739 ACB6 A4 A8					ldy pom0c
   740 ACB8 88						dey
   741 ACB9 8C F2 39					sty petlaY9+1
   742
   743 ACBC A0 00					ldy #0			;1znak
   744 ACBE B1 9B					lda (pom),y
   745 ACC0 AA						tax
   746 ACC1 29 80					and #128
   747 ACC3 05 A5					ora nchar		;nr znaku duszka
   748 ACC5 91 9B					sta (pom),y
   749 ACC7 BD 00 2D					lda adresZnakL,x
   750 ACCA 8D 97 39					sta sznakY90+1
   751 ACCD 8D F6 39					sta sznakY90b+1
   752 ACD0 BD 00 2E					lda adresZnakH,x
   753 ACD3 05 BD					ora ramka4
   754 ACD5 8D 98 39					sta sznakY90+2
   755 ACD8 8D F7 39					sta sznakY90b+2
   756 							
   757 ACDB E6 A5					inc nchar
   758 ACDD A0 30					ldy #48			;1znak
   759 ACDF B1 9B					lda (pom),y
   760 ACE1 AA						tax
   761 ACE2 29 80					and #128
   762 ACE4 05 A5					ora nchar		;nr znaku duszka
   763 ACE6 91 9B					sta (pom),y
   764 ACE8 BD 00 2D					lda adresZnakL,x
   765 ACEB 8D A3 39					sta sznakY91+1
   766 ACEE 8D FC 39					sta sznakY91b+1
   767 ACF1 BD 00 2E					lda adresZnakH,x
   768 ACF4 05 BD					ora ramka4
   769 ACF6 8D A4 39					sta sznakY91+2
   770 ACF9 8D FD 39					sta sznakY91b+2
   771 							
   772 ACFC E6 A5					inc nchar
   773 ACFE A0 60					ldy #96			;1znak
   774 AD00 B1 9B					lda (pom),y
   775 AD02 AA						tax
   776 AD03 29 80					and #128
   777 AD05 05 A5					ora nchar		;nr znaku duszka
   778 AD07 91 9B					sta (pom),y
   779 AD09 BD 00 2D					lda adresZnakL,x
   780 AD0C 8D AF 39					sta sznakY92+1
   781 AD0F 8D 08 3A					sta sznakY92b+1
   782 AD12 BD 00 2E					lda adresZnakH,x
   783 AD15 05 BD					ora ramka4
   784 AD17 8D B0 39					sta sznakY92+2
   785 AD1A 8D 09 3A					sta sznakY92b+2
   786 							
   787 AD1D E6 A5					inc nchar
   788 AD1F A0 01					ldy #1			;1znak
   789 AD21 B1 9B					lda (pom),y
   790 AD23 AA						tax
   791 AD24 29 80					and #128
   792 AD26 05 A5					ora nchar		;nr znaku duszka
   793 AD28 91 9B					sta (pom),y
   794 AD2A BD 00 2D					lda adresZnakL,x
   795 AD2D 8D B5 39					sta sznakY93+1
   796 AD30 8D 14 3A					sta sznakY93b+1
   797 AD33 BD 00 2E					lda adresZnakH,x
   798 AD36 05 BD					ora ramka4
   799 AD38 8D B6 39					sta sznakY93+2
   800 AD3B 8D 15 3A					sta sznakY93b+2
   801 							
   802 AD3E E6 A5					inc nchar
   803 AD40 A0 31					ldy #49			;1znak
   804 AD42 B1 9B					lda (pom),y
   805 AD44 AA						tax
   806 AD45 29 80					and #128
   807 AD47 05 A5					ora nchar		;nr znaku duszka
   808 AD49 91 9B					sta (pom),y
   809 AD4B BD 00 2D					lda adresZnakL,x
   810 AD4E 8D C1 39					sta sznakY94+1
   811 AD51 8D 1A 3A					sta sznakY94b+1
   812 AD54 BD 00 2E					lda adresZnakH,x
   813 AD57 05 BD					ora ramka4
   814 AD59 8D C2 39					sta sznakY94+2
   815 AD5C 8D 1B 3A					sta sznakY94b+2
   816 							
   817 AD5F E6 A5					inc nchar
   818 AD61 A0 61					ldy #97			;1znak
   819 AD63 B1 9B					lda (pom),y
   820 AD65 AA						tax
   821 AD66 29 80					and #128
   822 AD68 05 A5					ora nchar		;nr znaku duszka
   823 AD6A 91 9B					sta (pom),y
   824 AD6C BD 00 2D					lda adresZnakL,x
   825 AD6F 8D CD 39					sta sznakY95+1
   826 AD72 8D 26 3A					sta sznakY95b+1
   827 AD75 BD 00 2E					lda adresZnakH,x
   828 AD78 05 BD					ora ramka4
   829 AD7A 8D CE 39					sta sznakY95+2
   830 AD7D 8D 27 3A					sta sznakY95b+2
   831 							
   832 AD80 E6 A5					inc nchar
   833 AD82 A0 02					ldy #2			;1znak
   834 AD84 B1 9B					lda (pom),y
   835 AD86 AA						tax
   836 AD87 29 80					and #128
   837 AD89 05 A5					ora nchar		;nr znaku duszka
   838 AD8B 91 9B					sta (pom),y
   839 AD8D BD 00 2D					lda adresZnakL,x
   840 AD90 8D D3 39					sta sznakY96+1
   841 AD93 8D 32 3A					sta sznakY96b+1
   842 AD96 BD 00 2E					lda adresZnakH,x
   843 AD99 05 BD					ora ramka4
   844 AD9B 8D D4 39					sta sznakY96+2
   845 AD9E 8D 33 3A					sta sznakY96b+2
   846 							
   847 ADA1 E6 A5					inc nchar
   848 ADA3 A0 32					ldy #50			;1znak
   849 ADA5 B1 9B					lda (pom),y
   850 ADA7 AA						tax
   851 ADA8 29 80					and #128
   852 ADAA 05 A5					ora nchar		;nr znaku duszka
   853 ADAC 91 9B					sta (pom),y
   854 ADAE BD 00 2D					lda adresZnakL,x
   855 ADB1 8D DF 39					sta sznakY97+1
   856 ADB4 8D 38 3A					sta sznakY97b+1
   857 ADB7 BD 00 2E					lda adresZnakH,x
   858 ADBA 05 BD					ora ramka4
   859 ADBC 8D E0 39					sta sznakY97+2
   860 ADBF 8D 39 3A					sta sznakY97b+2
   861 							
   862 ADC2 E6 A5					inc nchar
   863 ADC4 A0 62					ldy #98			;1znak
   864 ADC6 B1 9B					lda (pom),y
   865 ADC8 AA						tax
   866 ADC9 29 80					and #128
   867 ADCB 05 A5					ora nchar		;nr znaku duszka
   868 ADCD 91 9B					sta (pom),y
   869 ADCF BD 00 2D					lda adresZnakL,x
   870 ADD2 8D EB 39					sta sznakY98+1
   871 ADD5 8D 44 3A					sta sznakY98b+1
   872 ADD8 BD 00 2E					lda adresZnakH,x
   873 ADDB 05 BD					ora ramka4
   874 ADDD 8D EC 39					sta sznakY98+2
   875 ADE0 8D 45 3A					sta sznakY98b+2
   876 							
   877 				;adresy ksztaltow	dla danych znakow
   878 ADE3 A5 9F					lda _kszt		;adresy ksztaltow
   879 ADE5 8D 9D 39					sta ksztY90+1
   880 ADE8 A4 A0					ldy _kszt+1
   881 ADEA 8C 9E 39					sty ksztY90+2
   882
   883 ADED A6 A2					ldx _mask+1
   884 ADEF 8D 9A 39					sta maskY90+1
   885 ADF2 8E 9B 39					stx maskY90+2
   886
   887 ADF5 18						clc
   888 ADF6 69 08					adc #8
   889 ADF8 90 03					bcc @+
   890 ADFA C8						iny
   891
   892 ADFB E8						inx
   893
   894 ADFC 18						clc
   895 							
   896 ADFD 8D A9 39		@			sta ksztY91+1
   897 AE00 8D 02 3A					sta ksztY91b+1
   898 AE03 8C AA 39					sty ksztY91+2
   899 AE06 8C 03 3A					sty ksztY91b+2
   900
   901 AE09 8D A6 39					sta maskY91+1
   902 AE0C 8D FF 39					sta maskY91b+1
   903 AE0F 8E A7 39					stx maskY91+2
   904 AE12 8E 00 3A					stx maskY91b+2
   905
   906 AE15 69 08					adc #8
   907 AE17 90 03					bcc @+
   908 AE19 C8						iny
   909
   910 AE1A E8						inx
   911
   912 AE1B 18						clc
   913 							
   914 AE1C 8D 0E 3A		@			sta ksztY92b+1
   915 AE1F 8C 0F 3A					sty ksztY92b+2
   916
   917 AE22 8D 0B 3A					sta maskY92b+1
   918 AE25 8E 0C 3A					stx maskY92b+2
   919
   920 						
   921 AE28 8D BB 39					sta ksztY93+1
   922 AE2B 8C BC 39					sty ksztY93+2
   923
   924 AE2E 8D B8 39					sta maskY93+1
   925 AE31 8E B9 39					stx maskY93+2
   926
   927 AE34 69 08					adc #8
   928 AE36 90 03					bcc @+
   929 AE38 C8						iny
   930
   931 AE39 E8						inx
   932
   933 AE3A 18						clc
   934 							
   935 AE3B 8D C7 39		@			sta ksztY94+1
   936 AE3E 8D 20 3A					sta ksztY94b+1
   937 AE41 8C C8 39					sty ksztY94+2
   938 AE44 8C 21 3A					sty ksztY94b+2
   939
   940 AE47 8D C4 39					sta maskY94+1
   941 AE4A 8D 1D 3A					sta maskY94b+1
   942 AE4D 8E C5 39					stx maskY94+2
   943 AE50 8E 1E 3A					stx maskY94b+2
   944
   945 AE53 69 08					adc #8
   946 AE55 90 03					bcc @+
   947 AE57 C8						iny
   948
   949 AE58 E8						inx
   950
   951 AE59 18						clc
   952 							
   953 AE5A 8D 2C 3A		@			sta ksztY95b+1
   954 AE5D 8C 2D 3A					sty ksztY95b+2
   955
   956 AE60 8D 29 3A					sta maskY95b+1
   957 AE63 8E 2A 3A					stx maskY95b+2
   958
   959 					
   960 AE66 8D D9 39					sta ksztY96+1
   961 AE69 8C DA 39					sty ksztY96+2
   962
   963 AE6C 8D D6 39					sta maskY96+1
   964 AE6F 8E D7 39					stx maskY96+2
   965
   966 AE72 69 08					adc #8
   967 AE74 90 03					bcc @+
   968 AE76 C8						iny
   969
   970 AE77 E8						inx
   971
   972 AE78 18						clc
   973 							
   974 AE79 8D E5 39		@			sta ksztY97+1
   975 AE7C 8D 3E 3A					sta ksztY97b+1
   976 AE7F 8C E6 39					sty ksztY97+2
   977 AE82 8C 3F 3A					sty ksztY97b+2
   978
   979 AE85 8D E2 39					sta maskY97+1
   980 AE88 8D 3B 3A					sta maskY97b+1
   981 AE8B 8E E3 39					stx maskY97+2
   982 AE8E 8E 3C 3A					stx maskY97b+2
   983
   984 AE91 69 08					adc #8
   985 AE93 90 02					bcc @+
   986 AE95 C8						iny
   987
   988 AE96 E8						inx
   989
   990 							
   991 AE97 8D 4A 3A		@			sta ksztY98b+1
   992 AE9A 8C 4B 3A					sty ksztY98b+2
   993
   994 AE9D 8D 47 3A					sta maskY98b+1
   995 AEA0 8E 48 3A					stx maskY98b+2
   996 AEA3 4C 94 39					jmp drawDY9
   997
   998
   999 							
    37 						
    38 						
    39 						
    40 						
    41 = AEA6			e0		equ *
    42 AEA6 00 00 00 00 00 00 + 		:$c000-e0 dta b(0)
    43 						
   757 C000					icl 'bank1.asm'
Source: bank1.asm
     1 				//bank1, 13 bank pamiÄ™ci
     2
     3 C000					org $4000	
     4 4000 D4					dta b($d4)		;$bfd4
     5 						
     6 				//tablice rmt player		
     7 = 000C			INSTRPAR	equ 12
     8 4001			tabbeganddistor
     9 4001 80 00		 dta frqtabpure-frqtab,$00
    10 4003 80 20		 dta frqtabpure-frqtab,$20
    11 4005 80 40		 dta frqtabpure-frqtab,$40
    12 4007 00 C0		 dta frqtabbass1-frqtab,$c0
    13 4009 80 80		 dta frqtabpure-frqtab,$80
    14 400B 80 A0		 dta frqtabpure-frqtab,$a0
    15 400D 00 C0		 dta frqtabbass1-frqtab,$c0
    16 400F 40 C0		 dta frqtabbass2-frqtab,$c0
    17
    18 4011 00 01 05 0B		vibtabbeg dta 0,vib1-vib0,vib2-vib0,vib3-vib0
    19 4015 00			vib0	dta 0
    20 4016 01 FF FF 01		vib1	dta 1,-1,-1,1
    21 401A 01 00 FF FF 00 01	vib2	dta 1,0,-1,-1,0,1
    22 4020 01 01 00 FF FF FF + vib3	dta 1,1,0,-1,-1,-1,-1,0,1,1
    23 402A			vibtabnext
    24 402A 00					dta vib0-vib0+0
    25 402B 02 03 04 01				dta vib1-vib0+1,vib1-vib0+2,vib1-vib0+3,vib1-vib0+0
    26 402F 06 07 08 09 0A 05			dta vib2-vib0+1,vib2-vib0+2,vib2-vib0+3,vib2-vib0+4,vib2-vib0+5,vib2-vib0+0
    27 4035 0C 0D 0E 0F 10 11 + 		dta vib3-vib0+1,vib3-vib0+2,vib3-vib0+3,vib3-vib0+4,vib3-vib0+5,vib3-vib0+6,vib3-vib0+7,vib3-vib0+8,vib3-vib0+9,vib3-vib0+0
    28 					
    29 403F 00 00 00 00 00 00 + 		:193 dta b(0)	;wyrÃ³wnanie do strony !!
    30 						
    31 4100			volumetab
    32 4100 00 00 00 00 00 00 + 	dta $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    33 4110 00 00 00 00 00 00 + 	dta $00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    34 4120 00 00 00 00 01 01 + 	dta $00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02
    35 4130 00 00 00 01 01 01 + 	dta $00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$03,$03,$03
    36 4140 00 00 01 01 01 01 + 	dta $00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03,$04,$04
    37 4150 00 00 01 01 01 02 + 	dta $00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
    38 4160 00 00 01 01 02 02 + 	dta $00,$00,$01,$01,$02,$02,$02,$03,$03,$04,$04,$04,$05,$05,$06,$06
    39 4170 00 00 01 01 02 02 + 	dta $00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
    40 4180 00 01 01 02 02 03 + 	dta $00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08
    41 4190 00 01 01 02 02 03 + 	dta $00,$01,$01,$02,$02,$03,$04,$04,$05,$05,$06,$07,$07,$08,$08,$09
    42 41A0 00 01 01 02 03 03 + 	dta $00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$07,$08,$09,$09,$0A
    43 41B0 00 01 01 02 03 04 + 	dta $00,$01,$01,$02,$03,$04,$04,$05,$06,$07,$07,$08,$09,$0A,$0A,$0B
    44 41C0 00 01 02 02 03 04 + 	dta $00,$01,$02,$02,$03,$04,$05,$06,$06,$07,$08,$09,$0A,$0A,$0B,$0C
    45 41D0 00 01 02 03 03 04 + 	dta $00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$0A,$0A,$0B,$0C,$0D
    46 41E0 00 01 02 03 04 05 + 	dta $00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0A,$0B,$0C,$0D,$0E
    47 41F0 00 01 02 03 04 05 + 	dta $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F	
    48 					
    49 4200			frqtab
    50 					ERT [<frqtab]!=0	;* frqtab must begin at the memory page bound! (i.e. $..00 address)
    51 4200			frqtabbass1
    52 4200 BF B6 AA A1 98 8F + 	dta $BF,$B6,$AA,$A1,$98,$8F,$89,$80,$F2,$E6,$DA,$CE,$BF,$B6,$AA,$A1
    53 4210 98 8F 89 80 7A 71 + 	dta $98,$8F,$89,$80,$7A,$71,$6B,$65,$5F,$5C,$56,$50,$4D,$47,$44,$3E
    54 4220 3C 38 35 32 2F 2D + 	dta $3C,$38,$35,$32,$2F,$2D,$2A,$28,$25,$23,$21,$1F,$1D,$1C,$1A,$18
    55 4230 17 16 14 13 12 11 + 	dta $17,$16,$14,$13,$12,$11,$10,$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07
    56 4240			frqtabbass2
    57 4240 FF F1 E4 D8 CA C0 + 	dta $FF,$F1,$E4,$D8,$CA,$C0,$B5,$AB,$A2,$99,$8E,$87,$7F,$79,$73,$70
    58 4250 66 61 5A 55 52 4B + 	dta $66,$61,$5A,$55,$52,$4B,$48,$43,$3F,$3C,$39,$37,$33,$30,$2D,$2A
    59 4260 28 25 24 21 1F 1E + 	dta $28,$25,$24,$21,$1F,$1E,$1C,$1B,$19,$17,$16,$15,$13,$12,$11,$10
    60 4270 0F 0E 0D 0C 0B 0A + 	dta $0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00
    61 4280			frqtabpure
    62 4280 F3 E6 D9 CC C1 B5 + 	dta $F3,$E6,$D9,$CC,$C1,$B5,$AD,$A2,$99,$90,$88,$80,$79,$72,$6C,$66
    63 4290 60 5B 55 51 4C 48 + 	dta $60,$5B,$55,$51,$4C,$48,$44,$40,$3C,$39,$35,$32,$2F,$2D,$2A,$28
    64 42A0 25 23 21 1F 1D 1C + 	dta $25,$23,$21,$1F,$1D,$1C,$1A,$18,$17,$16,$14,$13,$12,$11,$10,$0F
    65 42B0 0E 0D 0C 0B 0A 09 + 	dta $0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00,$00	
    66 					
    67 42C0			playFX
    68 42C0 20 E3 54			jsr RMT_P2
    69 42C3 4C 69 56			jmp RMT_Copy
    70 						
    71 = 42C6			MODUL	equ *		
    72 42C6 52 4D 54 34 40 10 + 		ins 'b0.rmt'
    73 = 52D2			MODUL_end	equ *
    74
    75 52D2 00 00 00 00 00 00 + 	:46 dta b(0)
    76 					
    77 5300				icl 'rmtplayr.asm'
Source: rmtplayr.asm
     1
     2 				;*
     3 = 0000			STEREOMODE=0
     4 = 0004			TRACKS		equ 4
     5
     6 				;*
     7 = 5300			PLAYER		equ $5300
     8 				;*
     9 				;* RMT FEATures definitions file
    10 				;* For optimizations of RMT player routine to concrete RMT modul only!
    11 5300				icl "rmt_feat.asm"
Source: rmt_feat.asm
     1 				;* --------BEGIN--------
     2 				;* C:\Users\Shanti\Desktop\rmt128\bosconian\b.rmt
     3 = 0001			FEAT_SFX		equ 1
     4 = 0000			FEAT_GLOBALVOLUMEFADE	equ 0		;RMTGLOBALVOLUMEFADE variable
     5 = 0000			FEAT_NOSTARTINGSONGLINE	equ 0
     6 = 0001			FEAT_INSTRSPEED		equ 1
     7 = 0000			FEAT_CONSTANTSPEED		equ 0		;(22 times)
     8 = 0001			FEAT_COMMAND1		equ 1		;(24 times)
     9 = 0000			FEAT_COMMAND2		equ 0		;(0 times)
    10 = 0000			FEAT_COMMAND3		equ 0		;(0 times)
    11 = 0000			FEAT_COMMAND4		equ 0		;(0 times)v
    12 = 0000			FEAT_COMMAND5		equ 0		;(0 times)vv
    13 = 0000			FEAT_COMMAND6		equ 0		;(0 times)vv
    14 = 0000			FEAT_COMMAND7SETNOTE		equ 0		;(0 times)
    15 = 0000			FEAT_COMMAND7VOLUMEONLY		equ 0		;(0 times)
    16 = 0000			FEAT_PORTAMENTO		equ 0		;(0 times)
    17 = 0000			FEAT_FILTER		equ 0		;(0 times)vv
    18 = 0000			FEAT_FILTERG0L		equ 0		;(0 times)vv
    19 = 0000			FEAT_FILTERG1L		equ 0		;(0 times)
    20 = 0000			FEAT_FILTERG0R		equ 0		;(0 times)
    21 = 0000			FEAT_FILTERG1R		equ 0		;(0 times)
    22 = 0000			FEAT_BASS16		equ 0		;(1 times)
    23 = 0000			FEAT_BASS16G1L		equ 0		;(0 times)
    24 = 0000			FEAT_BASS16G3L		equ 0		;(0 times)
    25 = 0000			FEAT_BASS16G1R		equ 0		;(0 times)
    26 = 0000			FEAT_BASS16G3R		equ 0		;(0 times)
    27 = 0000			FEAT_VOLUMEONLYG0L		equ 0		;(0 times)
    28 = 0000			FEAT_VOLUMEONLYG2L		equ 0		;(0 times)
    29 = 0000			FEAT_VOLUMEONLYG3L		equ 0		;(0 times)
    30 = 0000			FEAT_VOLUMEONLYG0R		equ 0		;(0 times)
    31 = 0000			FEAT_VOLUMEONLYG2R		equ 0		;(0 times)
    32 = 0000			FEAT_VOLUMEONLYG3R		equ 0		;(0 times)
    33 = 0001			FEAT_TABLETYPE		equ 1		;(1 times)
    34 = 0000			FEAT_TABLEMODE		equ 0		;(0 times)
    35 = 0000			FEAT_TABLEGO		equ 0		;(1 times)
    36 = 0001			FEAT_AUDCTLMANUALSET		equ 1		;(1 times)
    37 = 0000			FEAT_VOLUMEMIN		equ 0		;(0 times)v
    38 = 0001			FEAT_EFFECTVIBRATO		equ 1		;(1 times)
    39 = 0001			FEAT_EFFECTFSHIFT		equ 1		;(7 times)
    40 				;* --------END--------
    12 					
    13 = 0001			FEAT_EFFECTS equ FEAT_EFFECTVIBRATO||FEAT_EFFECTFSHIFT
    14
    15 5300			RASTERMUSICTRACKER
    16 5300 4C 12 53			jmp rmt_init
    17 5303 4C E0 54			jmp rmt_play
    18 5306 4C FC 54			jmp rmt_p3
    19 5309 4C 52 53			jmp rmt_silence
    20 530C 4C 32 56			jmp SetPokey
    21 530F 4C 67 54			jmp rmt_sfx			;* A=note(0,..,60),X=channel(0,..,3 or 0,..,7),Y=instrument*2(0,2,4,..,126)
    22
    23 5312			rmt_init
    24 5312 86 F6			stx ns
    25 5314 84 F7			sty ns+1
    26 					IFT FEAT_NOSTARTINGSONGLINE==0
    27 5316 48				pha
    28 					EIF
    29 					IFT track_endvariables-track_variables>255
    30 					ldy #0
    31 					tya
    32 				ri0	sta track_variables,y
    33 					sta track_endvariables-$100,y
    34 					iny
    35 					bne ri0
    36 					ELS
    37 5317 A0 74			ldy #track_endvariables-track_variables
    38 5319 A9 00			lda #0
    39 531B 99 BF 2F		ri0	sta track_variables-1,y
    40 531E 88				dey
    41 531F D0 FA			bne ri0
    42 					EIF
    43 5321 A0 04			ldy #4
    44 5323 B1 F6			lda (ns),y
    45 5325 8D 35 30			sta v_maxtracklen
    46 5328 C8				iny
    47 					IFT FEAT_CONSTANTSPEED==0
    48 5329 B1 F6			lda (ns),y
    49 532B 8D 38 30			sta v_speed
    50 					EIF
    51 					IFT FEAT_INSTRSPEED==0
    52 					iny
    53 					lda (ns),y
    54 					sta v_instrspeed
    55 					sta v_ainstrspeed
    56 					ELI FEAT_INSTRSPEED>1
    57 					lda #FEAT_INSTRSPEED
    58 					sta v_ainstrspeed
    59 					EIF
    60 532E A0 08			ldy #8
    61 5330 B1 F6		ri1	lda (ns),y
    62 5332 99 E6 00			sta p_tis-8,y
    63 5335 C8				iny
    64 5336 C0 10			cpy #8+8
    65 5338 D0 F6			bne ri1
    66 					IFT FEAT_NOSTARTINGSONGLINE==0
    67 533A 68				pla
    68 533B 48				pha
    69 					IFT TRACKS>4
    70 					asl @
    71 					asl @
    72 					asl @
    73 					clc
    74 					adc p_song
    75 					sta p_song
    76 					pla
    77 					php
    78 					and #$e0
    79 					asl @
    80 					rol @
    81 					rol @
    82 					rol @
    83 					ELS
    84 533C 0A				asl @
    85 533D 0A				asl @
    86 533E 18				clc
    87 533F 65 F4			adc p_song
    88 5341 85 F4			sta p_song
    89 5343 68				pla
    90 5344 08				php
    91 5345 29 C0			and #$c0
    92 5347 0A				asl @
    93 5348 2A				rol @
    94 5349 2A				rol @
    95 					EIF
    96 534A 28				plp
    97 534B 65 F5			adc p_song+1
    98 534D 85 F5			sta p_song+1
    99 					EIF
   100 534F 20 67 53			jsr GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   101 5352			rmt_silence
   102 					IFT STEREOMODE>0
   103 					lda #0
   104 					sta $e808
   105 					sta $e818
   106 					ldy #3-1
   107 					sty $e80f
   108 					sty $e81f
   109 					ldy #8
   110 				si1	sta $e800,y
   111 					sta $e810,y
   112 					dey
   113 					bpl si1
   114 					ELS
   115 5352 A9 00			lda #0
   116 5354 8D 08 E8			sta $e808
   117 5357 A0 02			ldy #3-1
   118 5359 8C 0F E8			sty $e80f
   119 535C A0 08			ldy #8
   120 535E 99 00 E8		si1	sta $e800,y
   121 5361 88				dey
   122 5362 10 FA			bpl si1
   123 					EIF
   124 					IFT FEAT_INSTRSPEED==0
   125 					lda v_instrspeed
   126 					ELS
   127 5364 A9 01			lda #FEAT_INSTRSPEED
   128 					EIF
   129 5366 60				rts
   130 5367			GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   131 5367			GetSongLine
   132 5367 A2 00			ldx #0
   133 5369 8E 34 30			stx v_abeat
   134 536C			nn0
   135 536C 8A			nn1	txa
   136 536D A8				tay
   137 536E B1 F4			lda (p_song),y
   138 5370 C9 FE			cmp #$fe
   139 5372 B0 2D			bcs nn2
   140 5374 A8				tay
   141 5375 B1 F0			lda (p_trackslbstable),y
   142 5377 9D C0 2F			sta trackn_db,x
   143 537A B1 F2			lda (p_trackshbstable),y
   144 537C 9D C4 2F		nn1a sta trackn_hb,x
   145 537F A9 00			lda #0
   146 5381 9D C8 2F			sta trackn_idx,x
   147 5384 A9 01			lda #1
   148 5386 9D CC 2F		nn1a2 sta trackn_pause,x
   149 5389 A9 80			lda #$80
   150 538B 9D E0 2F			sta trackn_instrx2,x
   151 538E E8				inx
   152 538F E0 04		xtracks01	cpx #TRACKS
   153 5391 D0 D9			bne nn1
   154 5393 A5 F4			lda p_song
   155 5395 18				clc
   156 5396 69 04		xtracks02	adc #TRACKS
   157 5398 85 F4			sta p_song
   158 539A 90 1B			bcc GetTrackLine
   159 539C E6 F5			inc p_song+1
   160 539E			nn1b
   161 539E 4C B7 53			jmp GetTrackLine
   162 53A1			nn2
   163 53A1 F0 04			beq nn3
   164 53A3			nn2a
   165 53A3 A9 00			lda #0
   166 53A5 F0 DF			beq nn1a2
   167 53A7			nn3
   168 53A7 A0 02			ldy #2
   169 53A9 B1 F4			lda (p_song),y
   170 53AB AA				tax
   171 53AC C8				iny
   172 53AD B1 F4			lda (p_song),y
   173 53AF 85 F5			sta p_song+1
   174 53B1 86 F4			stx p_song
   175 53B3 A2 00			ldx #0
   176 53B5 F0 B5			beq nn0
   177 53B7			GetTrackLine
   178 53B7			oo0
   179 53B7			oo0a
   180 					IFT FEAT_CONSTANTSPEED==0
   181 53B7 AD 38 30			lda v_speed
   182 53BA 8D 36 30			sta v_bspeed
   183 					EIF
   184 53BD A2 FF			ldx #-1
   185 53BF			oo1
   186 53BF E8				inx
   187 53C0 DE CC 2F			dec trackn_pause,x
   188 53C3 D0 42			bne oo1x
   189 53C5			oo1b
   190 53C5 BD C0 2F			lda trackn_db,x
   191 53C8 85 F6			sta ns
   192 53CA BD C4 2F			lda trackn_hb,x
   193 53CD 85 F7			sta ns+1
   194 53CF			oo1i
   195 53CF BC C8 2F			ldy trackn_idx,x
   196 53D2 FE C8 2F			inc trackn_idx,x
   197 53D5 B1 F6			lda (ns),y
   198 53D7 85 FC			sta reg1
   199 53D9 29 3F			and #$3f
   200 53DB C9 3D			cmp #61
   201 53DD F0 0E			beq oo1a
   202 53DF B0 36			bcs oo2
   203 53E1 9D D0 2F			sta trackn_note,x
   204 					IFT FEAT_BASS16
   205 					sta trackn_outnote,x
   206 					EIF
   207 53E4 C8				iny
   208 53E5 B1 F6			lda (ns),y
   209 53E7 4A				lsr @
   210 53E8 29 7E			and #$3f*2
   211 53EA 9D E0 2F			sta trackn_instrx2,x
   212 53ED			oo1a
   213 53ED A9 01			lda #1
   214 53EF 9D CC 2F			sta trackn_pause,x
   215 53F2 BC C8 2F			ldy trackn_idx,x
   216 53F5 FE C8 2F			inc trackn_idx,x
   217 53F8 B1 F6			lda (ns),y
   218 53FA 4A				lsr @
   219 53FB 66 FC			ror reg1
   220 53FD 4A				lsr @
   221 53FE 66 FC			ror reg1
   222 5400 A5 FC			lda reg1
   223 					IFT FEAT_GLOBALVOLUMEFADE
   224 					sec
   225 					sbc #$00
   226 				RMTGLOBALVOLUMEFADE equ *-1
   227 					bcs voig
   228 					lda #0
   229 				voig
   230 					EIF
   231 5402 29 F0			and #$f0
   232 5404 9D D4 2F			sta trackn_volume,x
   233 5407			oo1x
   234 5407 E0 03		xtracks03sub1	cpx #TRACKS-1
   235 5409 D0 B4			bne oo1
   236 					IFT FEAT_CONSTANTSPEED==0
   237 540B AD 36 30			lda v_bspeed
   238 540E 8D 38 30			sta v_speed
   239 					ELS
   240 					lda #FEAT_CONSTANTSPEED
   241 					EIF
   242 5411 8D 30 30			sta v_aspeed
   243 5414 4C 5C 54			jmp InitOfNewSetInstrumentsOnly
   244 5417			oo2
   245 5417 C9 3F			cmp #63
   246 5419 F0 1B			beq oo63
   247 541B A5 FC			lda reg1
   248 541D 29 C0			and #$c0
   249 541F F0 09			beq oo62_b
   250 5421 0A				asl @
   251 5422 2A				rol @
   252 5423 2A				rol @
   253 5424 9D CC 2F			sta trackn_pause,x
   254 5427 4C 07 54			jmp oo1x
   255 542A			oo62_b
   256 542A C8				iny
   257 542B B1 F6			lda (ns),y
   258 542D 9D CC 2F			sta trackn_pause,x
   259 5430 FE C8 2F			inc trackn_idx,x
   260 5433 4C 07 54			jmp oo1x
   261 5436			oo63
   262 5436 A5 FC			lda reg1
   263 					IFT FEAT_CONSTANTSPEED==0
   264 5438 30 0C			bmi oo63_1X
   265 543A C8				iny
   266 543B B1 F6			lda (ns),y
   267 543D 8D 36 30			sta v_bspeed
   268 5440 FE C8 2F			inc trackn_idx,x
   269 5443 4C CF 53			jmp oo1i
   270 5446			oo63_1X
   271 					EIF
   272 5446 C9 FF			cmp #255
   273 5448 F0 09			beq oo63_11
   274 544A C8				iny
   275 544B B1 F6			lda (ns),y
   276 544D 9D C8 2F			sta trackn_idx,x
   277 5450 4C CF 53			jmp oo1i
   278 5453			oo63_11
   279 5453 4C 67 53			jmp GetSongLine
   280 5456 4C FC 54		p2xrmtp3	jmp rmt_p3
   281 5459 CA			p2x0 dex
   282 545A 30 FA			 bmi p2xrmtp3
   283 545C			InitOfNewSetInstrumentsOnly
   284 545C BC E0 2F		p2x1 ldy trackn_instrx2,x
   285 545F 30 F8			bmi p2x0
   286 					IFT FEAT_SFX
   287 5461 20 6F 54			jsr SetUpInstrumentY2
   288 5464 4C 59 54			jmp p2x0
   289 5467			rmt_sfx
   290 5467 9D D0 2F			sta trackn_note,x
   291 					IFT FEAT_BASS16
   292 					sta trackn_outnote,x
   293 					EIF
   294 546A A9 F0			lda #$f0				;* sfx note volume*16
   295 = 546B			RMTSFXVOLUME equ *-1		;* label for sfx note volume parameter overwriting
   296 546C 9D D4 2F			sta trackn_volume,x
   297 					EIF
   298 546F			SetUpInstrumentY2
   299 546F B1 EE			lda (p_instrstable),y
   300 5471 9D E4 2F			sta trackn_instrdb,x
   301 5474 85 FA			sta nt
   302 5476 C8				iny
   303 5477 B1 EE			lda (p_instrstable),y
   304 5479 9D E8 2F			sta trackn_instrhb,x
   305 547C 85 FB			sta nt+1
   306 					IFT FEAT_FILTER
   307 					lda #1
   308 					sta trackn_filter,x
   309 					EIF
   310 					IFT FEAT_TABLEGO
   311 					IFT FEAT_FILTER
   312 					tay
   313 					ELS
   314 					ldy #1
   315 					EIF
   316 					lda (nt),y
   317 					sta trackn_tablelop,x
   318 					iny
   319 					ELS
   320 547E A0 02			ldy #2
   321 					EIF
   322 5480 B1 FA			lda (nt),y
   323 5482 9D F0 2F			sta trackn_instrlen,x
   324 5485 C8				iny
   325 5486 B1 FA			lda (nt),y
   326 5488 9D F4 2F			sta trackn_instrlop,x
   327 548B C8				iny
   328 548C B1 FA			lda (nt),y
   329 548E 9D 10 30			sta trackn_tabletypespeed,x
   330 					IFT FEAT_TABLETYPE||FEAT_TABLEMODE
   331 5491 29 3F			and #$3f
   332 					EIF
   333 5493 9D 20 30			sta trackn_tablespeeda,x
   334 					IFT FEAT_TABLEMODE
   335 					lda (nt),y
   336 					and #$40
   337 					sta trackn_tablemode,x
   338 					EIF
   339 					IFT FEAT_AUDCTLMANUALSET
   340 5496 C8				iny
   341 5497 B1 FA			lda (nt),y
   342 5499 9D 2C 30			sta trackn_audctl,x
   343 549C C8				iny
   344 					ELS
   345 					ldy #6
   346 					EIF
   347 549D B1 FA			lda (nt),y
   348 549F 9D FC 2F			sta trackn_volumeslidedepth,x
   349 					IFT FEAT_VOLUMEMIN
   350 					iny
   351 					lda (nt),y
   352 					sta trackn_volumemin,x
   353 					IFT FEAT_EFFECTS
   354 					iny
   355 					EIF
   356 					ELS
   357 					IFT FEAT_EFFECTS
   358 54A2 A0 08			ldy #8
   359 					EIF
   360 					EIF
   361 					IFT FEAT_EFFECTS
   362 54A4 B1 FA			lda (nt),y
   363 54A6 9D 04 30			sta trackn_effdelay,x
   364 					IFT FEAT_EFFECTVIBRATO
   365 54A9 C8				iny
   366 54AA B1 FA			lda (nt),y
   367 54AC A8				tay
   368 54AD B9 11 40			lda vibtabbeg,y
   369 54B0 9D 08 30			sta trackn_effvibratoa,x
   370 					EIF
   371 					IFT FEAT_EFFECTFSHIFT
   372 54B3 A0 0A			ldy #10
   373 54B5 B1 FA			lda (nt),y
   374 54B7 9D 0C 30			sta trackn_effshift,x
   375 					EIF
   376 					EIF
   377 54BA A9 80			lda #128
   378 54BC 9D 00 30			sta trackn_volumeslidevalue,x
   379 54BF 9D E0 2F			sta trackn_instrx2,x
   380 54C2 0A				asl @
   381 54C3 9D F8 2F			sta trackn_instrreachend,x
   382 54C6 9D DC 2F			sta trackn_shiftfrq,x
   383 54C9 A8				tay
   384 54CA B1 FA			lda (nt),y
   385 54CC 9D 1C 30			sta trackn_tableend,x
   386 54CF 69 00			adc #0
   387 54D1 9D EC 2F			sta trackn_instridx,x
   388 54D4 A9 0C			lda #INSTRPAR
   389 54D6 9D 18 30			sta trackn_tablea,x
   390 54D9 A8				tay
   391 54DA B1 FA			lda (nt),y
   392 54DC 9D 14 30			sta trackn_tablenote,x
   393 54DF			xata_rtshere
   394 					IFT FEAT_SFX
   395 54DF 60				rts
   396 					ELS
   397 					jmp p2x0
   398 					EIF
   399 54E0			rmt_play
   400 54E0			rmt_p0
   401 54E0 20 32 56			jsr SetPokey
   402 54E3			rmt_p1
   403 54E3			rmt_p2
   404 54E3 CE 30 30			dec v_aspeed
   405 54E6 D0 14			bne rmt_p3
   406 54E8 EE 34 30			inc v_abeat
   407 54EB AD 34 30			lda v_abeat
   408 54EE CD 35 30			cmp v_maxtracklen
   409 54F1 F0 03			beq p2o3
   410 54F3 4C B7 53			jmp GetTrackLine
   411 54F6			p2o3
   412 54F6 4C 67 53			jmp GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   413 54F9 4C 16 56		go_ppnext	jmp ppnext
   414 54FC			rmt_p3
   415 54FC A9 42			lda #>frqtab
   416 54FE 85 F9			sta nr+1
   417 5500 A2 03		xtracks05sub1	ldx #TRACKS-1
   418 5502			pp1
   419 5502 BD E8 2F			lda trackn_instrhb,x
   420 5505 F0 F2			beq go_ppnext
   421 5507 85 F7			sta ns+1
   422 5509 BD E4 2F			lda trackn_instrdb,x
   423 550C 85 F6			sta ns
   424 550E BC EC 2F			ldy trackn_instridx,x
   425 5511 B1 F6			lda (ns),y
   426 5513 85 FC			sta reg1
   427 5515 C8				iny
   428 5516 B1 F6			lda (ns),y
   429 5518 85 FD			sta reg2
   430 551A C8				iny
   431 551B B1 F6			lda (ns),y
   432 551D 85 FE			sta reg3
   433 551F C8				iny
   434 5520 98				tya
   435 5521 DD F0 2F			cmp trackn_instrlen,x
   436 5524 90 0A			bcc pp2
   437 5526 F0 08			beq pp2
   438 5528 A9 80			lda #$80
   439 552A 9D F8 2F			sta trackn_instrreachend,x
   440 552D			pp1b
   441 552D BD F4 2F			lda trackn_instrlop,x
   442 5530 9D EC 2F		pp2	sta trackn_instridx,x
   443 5533 A5 FC			lda reg1
   444 					IFT TRACKS>4
   445 					cpx #4
   446 					bcc pp2s
   447 					lsr @
   448 					lsr @
   449 					lsr @
   450 					lsr @
   451 				pp2s
   452 					EIF
   453 5535 29 0F			and #$0f
   454 5537 1D D4 2F			ora trackn_volume,x
   455 553A A8				tay
   456 553B B9 00 41			lda volumetab,y
   457 553E 85 FF			sta tmp
   458 5540 A5 FD			lda reg2
   459 5542 29 0E			and #$0e
   460 5544 A8				tay
   461 5545 B9 01 40			lda tabbeganddistor,y
   462 5548 85 F8			sta nr
   463 554A A5 FF			lda tmp
   464 554C 19 02 40			ora tabbeganddistor+1,y
   465 554F 9D 28 30			sta trackn_audc,x
   466 5552			InstrumentsEffects
   467 					IFT FEAT_EFFECTS
   468 5552 BD 04 30			lda trackn_effdelay,x
   469 5555 F0 21			beq ei2
   470 5557 C9 01			cmp #1
   471 5559 D0 1A			bne ei1
   472 555B BD DC 2F			lda trackn_shiftfrq,x
   473 					IFT FEAT_EFFECTFSHIFT
   474 555E 18				clc
   475 555F 7D 0C 30			adc trackn_effshift,x
   476 					EIF
   477 					IFT FEAT_EFFECTVIBRATO
   478 5562 18				clc
   479 5563 BC 08 30			ldy trackn_effvibratoa,x
   480 5566 79 15 40			adc vib0,y
   481 					EIF
   482 5569 9D DC 2F			sta trackn_shiftfrq,x
   483 					IFT FEAT_EFFECTVIBRATO
   484 556C B9 2A 40			lda vibtabnext,y
   485 556F 9D 08 30			sta trackn_effvibratoa,x
   486 					EIF
   487 5572 4C 78 55			jmp ei2
   488 5575			ei1
   489 5575 DE 04 30			dec trackn_effdelay,x
   490 5578			ei2
   491 					EIF
   492 5578 BC 1C 30			ldy trackn_tableend,x
   493 557B C0 0D			cpy #INSTRPAR+1
   494 557D 90 32			bcc ei3
   495 557F BD 20 30			lda trackn_tablespeeda,x
   496 5582 10 27			bpl ei2f
   497 5584			ei2c
   498 5584 98				tya
   499 5585 DD 18 30			cmp trackn_tablea,x
   500 5588 D0 07			bne ei2c2
   501 					IFT FEAT_TABLEGO
   502 					lda trackn_tablelop,x
   503 					ELS
   504 558A A9 0C			lda #INSTRPAR
   505 					EIF
   506 558C 9D 18 30			sta trackn_tablea,x
   507 558F D0 03			bne ei2a
   508 5591			ei2c2
   509 5591 FE 18 30			inc trackn_tablea,x
   510 5594			ei2a
   511 5594 BD E4 2F			lda trackn_instrdb,x
   512 5597 85 FA			sta nt
   513 5599 BD E8 2F			lda trackn_instrhb,x
   514 559C 85 FB			sta nt+1
   515 559E BC 18 30			ldy trackn_tablea,x
   516 55A1 B1 FA			lda (nt),y
   517 					IFT FEAT_TABLEMODE
   518 					ldy trackn_tablemode,x
   519 					beq ei2e
   520 					clc
   521 					adc trackn_tablenote,x
   522 				ei2e
   523 					EIF
   524 55A3 9D 14 30			sta trackn_tablenote,x
   525 55A6 BD 10 30			lda trackn_tabletypespeed,x
   526 					IFT FEAT_TABLETYPE||FEAT_TABLEMODE
   527 55A9 29 3F			and #$3f
   528 					EIF
   529 55AB			ei2f
   530 55AB 38				sec
   531 55AC E9 01			sbc #1
   532 55AE 9D 20 30			sta trackn_tablespeeda,x
   533 55B1			ei3
   534 55B1 BD F8 2F			lda trackn_instrreachend,x
   535 55B4 10 18			bpl ei4
   536 55B6 BD D4 2F			lda trackn_volume,x
   537 55B9 F0 13			beq ei4
   538 					IFT FEAT_VOLUMEMIN
   539 					cmp trackn_volumemin,x
   540 					beq ei4
   541 					bcc ei4
   542 					EIF
   543 55BB A8				tay
   544 55BC BD 00 30			lda trackn_volumeslidevalue,x
   545 55BF 18				clc
   546 55C0 7D FC 2F			adc trackn_volumeslidedepth,x
   547 55C3 9D 00 30			sta trackn_volumeslidevalue,x
   548 55C6 90 06			bcc ei4
   549 55C8 98				tya
   550 55C9 E9 10			sbc #16
   551 55CB 9D D4 2F			sta trackn_volume,x
   552 55CE			ei4
   553 					IFT FEAT_COMMAND2
   554 					lda #0
   555 					sta frqaddcmd2
   556 					EIF
   557 					IFT FEAT_COMMAND1||FEAT_COMMAND2||FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   558 55CE A5 FD			lda reg2
   559 					IFT FEAT_FILTER||FEAT_BASS16
   560 					sta trackn_command,x
   561 					EIF
   562 55D0 29 70			and #$70
   563 					IFT 1==[FEAT_COMMAND1+FEAT_COMMAND2+FEAT_COMMAND3+FEAT_COMMAND4+FEAT_COMMAND5+FEAT_COMMAND6+[FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY]]
   564 55D2 F0 05			beq cmd0
   565 					ELS
   566 					lsr @
   567 					lsr @
   568 					sta jmx+1
   569 				jmx	bcc *
   570 					jmp cmd0
   571 					nop
   572 					jmp cmd1
   573 					IFT FEAT_COMMAND2||FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   574 					nop
   575 					jmp cmd2
   576 					EIF
   577 					IFT FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   578 					nop
   579 					jmp cmd3
   580 					EIF
   581 					IFT FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   582 					nop
   583 					jmp cmd4
   584 					EIF
   585 					IFT FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   586 					nop
   587 					jmp cmd5
   588 					EIF
   589 					IFT FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   590 					nop
   591 					jmp cmd6
   592 					EIF
   593 					IFT FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   594 					nop
   595 					jmp cmd7
   596 					EIF
   597 					EIF
   598 					ELS
   599 					IFT FEAT_FILTER||FEAT_BASS16
   600 					lda reg2
   601 					sta trackn_command,x
   602 					EIF
   603 					EIF
   604 55D4			cmd1
   605 					IFT FEAT_COMMAND1
   606 55D4 A5 FE			lda reg3
   607 55D6 4C 13 56			jmp cmd0c
   608 					EIF
   609 55D9			cmd2
   610 					IFT FEAT_COMMAND2
   611 					lda reg3
   612 					sta frqaddcmd2
   613 					lda trackn_note,x
   614 					jmp cmd0a
   615 					EIF
   616 55D9			cmd3
   617 					IFT FEAT_COMMAND3
   618 					lda trackn_note,x
   619 					clc
   620 					adc reg3
   621 					sta trackn_note,x
   622 					jmp cmd0a
   623 					EIF
   624 55D9			cmd4
   625 					IFT FEAT_COMMAND4
   626 					lda trackn_shiftfrq,x
   627 					clc
   628 					adc reg3
   629 					sta trackn_shiftfrq,x
   630 					lda trackn_note,x
   631 					jmp cmd0a
   632 					EIF
   633 55D9			cmd5
   634 					IFT FEAT_COMMAND5&&FEAT_PORTAMENTO
   635 					IFT FEAT_TABLETYPE
   636 					lda trackn_tabletypespeed,x
   637 					bpl cmd5a1
   638 					ldy trackn_note,x
   639 					lda (nr),y
   640 					clc
   641 					adc trackn_tablenote,x
   642 					jmp cmd5ax
   643 					EIF
   644 				cmd5a1
   645 					lda trackn_note,x
   646 					clc
   647 					adc trackn_tablenote,x
   648 					cmp #61
   649 					bcc cmd5a2
   650 					lda #63
   651 				cmd5a2
   652 					tay
   653 					lda (nr),y
   654 				cmd5ax
   655 					sta trackn_portafrqc,x
   656 					ldy reg3
   657 					bne cmd5a
   658 					sta trackn_portafrqa,x
   659 				cmd5a
   660 					tya
   661 					lsr @
   662 					lsr @
   663 					lsr @
   664 					lsr @
   665 					sta trackn_portaspeed,x
   666 					sta trackn_portaspeeda,x
   667 					lda reg3
   668 					and #$0f
   669 					sta trackn_portadepth,x
   670 					lda trackn_note,x
   671 					jmp cmd0a
   672 					ELI FEAT_COMMAND5
   673 					lda trackn_note,x
   674 					jmp cmd0a
   675 					EIF
   676 55D9			cmd6
   677 					IFT FEAT_COMMAND6&&FEAT_FILTER
   678 					lda reg3
   679 					clc
   680 					adc trackn_filter,x
   681 					sta trackn_filter,x
   682 					lda trackn_note,x
   683 					jmp cmd0a
   684 					ELI FEAT_COMMAND6
   685 					lda trackn_note,x
   686 					jmp cmd0a
   687 					EIF
   688 55D9			cmd7
   689 					IFT FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   690 					IFT FEAT_COMMAND7SETNOTE
   691 					lda reg3
   692 					IFT FEAT_COMMAND7VOLUMEONLY
   693 					cmp #$80
   694 					beq cmd7a
   695 					EIF
   696 					sta trackn_note,x
   697 					jmp cmd0a
   698 					EIF
   699 					IFT FEAT_COMMAND7VOLUMEONLY
   700 				cmd7a
   701 					lda trackn_audc,x
   702 					ora #$f0
   703 					sta trackn_audc,x
   704 					lda trackn_note,x
   705 					jmp cmd0a
   706 					EIF
   707 					EIF
   708 55D9			cmd0
   709 55D9 BD D0 2F			lda trackn_note,x
   710 55DC 18				clc
   711 55DD 65 FE			adc reg3
   712 55DF			cmd0a
   713 					IFT FEAT_TABLETYPE
   714 55DF BC 10 30			ldy trackn_tabletypespeed,x
   715 55E2 30 19			bmi cmd0b
   716 					EIF
   717 55E4 18				clc
   718 55E5 7D 14 30			adc trackn_tablenote,x
   719 55E8 C9 3D			cmp #61
   720 55EA 90 07			bcc cmd0a1
   721 55EC A9 00			lda #0
   722 55EE 9D 28 30			sta trackn_audc,x
   723 55F1 A9 3F			lda #63
   724 55F3			cmd0a1
   725 					IFT FEAT_BASS16
   726 					sta trackn_outnote,x
   727 					EIF
   728 55F3 A8				tay
   729 55F4 B1 F8			lda (nr),y
   730 55F6 18				clc
   731 55F7 7D DC 2F			adc trackn_shiftfrq,x
   732 					IFT FEAT_COMMAND2
   733 					clc
   734 					adc frqaddcmd2
   735 					EIF
   736 					IFT FEAT_TABLETYPE
   737 55FA 4C 13 56			jmp cmd0c
   738 55FD			cmd0b
   739 55FD C9 3D			cmp #61
   740 55FF 90 07			bcc cmd0b1
   741 5601 A9 00			lda #0
   742 5603 9D 28 30			sta trackn_audc,x
   743 5606 A9 3F			lda #63
   744 5608			cmd0b1
   745 5608 A8				tay
   746 5609 BD DC 2F			lda trackn_shiftfrq,x
   747 560C 18				clc
   748 560D 7D 14 30			adc trackn_tablenote,x
   749 5610 18				clc
   750 5611 71 F8			adc (nr),y
   751 					IFT FEAT_COMMAND2
   752 					clc
   753 					adc frqaddcmd2
   754 					EIF
   755 					EIF
   756 5613			cmd0c
   757 5613 9D 24 30			sta trackn_audf,x
   758 5616			pp9
   759 					IFT FEAT_PORTAMENTO
   760 					lda trackn_portaspeeda,x
   761 					beq pp10
   762 					dec trackn_portaspeeda,x
   763 					bne pp10
   764 					lda trackn_portaspeed,x
   765 					sta trackn_portaspeeda,x
   766 					lda trackn_portafrqa,x
   767 					cmp trackn_portafrqc,x
   768 					beq pp10
   769 					bcs pps1
   770 					adc trackn_portadepth,x
   771 					bcs pps8
   772 					cmp trackn_portafrqc,x
   773 					bcs pps8
   774 					jmp pps9
   775 				pps1
   776 					sbc trackn_portadepth,x
   777 					bcc pps8
   778 					cmp trackn_portafrqc,x
   779 					bcs pps9
   780 				pps8
   781 					lda trackn_portafrqc,x
   782 				pps9
   783 					sta trackn_portafrqa,x
   784 				pp10
   785 					lda reg2
   786 					and #$01
   787 					beq pp11
   788 					lda trackn_portafrqa,x
   789 					clc
   790 					adc trackn_shiftfrq,x
   791 					sta trackn_audf,x
   792 				pp11
   793 					EIF
   794 5616			ppnext
   795 5616 CA				dex
   796 5617 30 03			bmi rmt_p4
   797 5619 4C 02 55			jmp pp1
   798 561C			rmt_p4
   799 					IFT FEAT_AUDCTLMANUALSET
   800 561C AD 2C 30			lda trackn_audctl+0
   801 561F 0D 2D 30			ora trackn_audctl+1
   802 5622 0D 2E 30			ora trackn_audctl+2
   803 5625 0D 2F 30			ora trackn_audctl+3
   804 5628 AA				tax
   805 					ELS
   806 					ldx #0
   807 					EIF
   808 5629			qq1
   809 5629 8E 39 30			stx v_audctl
   810 					IFT FEAT_FILTER
   811 					IFT FEAT_FILTERG0L
   812 					lda trackn_command+0
   813 					bpl qq2
   814 					lda trackn_audc+0
   815 					and #$0f
   816 					beq qq2
   817 					lda trackn_audf+0
   818 					clc
   819 					adc trackn_filter+0
   820 					sta trackn_audf+2
   821 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   822 					lda trackn_audc+2
   823 					and #$10
   824 					bne qq1a
   825 					EIF
   826 					lda #0
   827 					sta trackn_audc+2
   828 				qq1a
   829 					txa
   830 					ora #4
   831 					tax
   832 					EIF
   833 				qq2
   834 					IFT FEAT_FILTERG1L
   835 					lda trackn_command+1
   836 					bpl qq3
   837 					lda trackn_audc+1
   838 					and #$0f
   839 					beq qq3
   840 					lda trackn_audf+1
   841 					clc
   842 					adc trackn_filter+1
   843 					sta trackn_audf+3
   844 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3L
   845 					lda trackn_audc+3
   846 					and #$10
   847 					bne qq2a
   848 					EIF
   849 					lda #0
   850 					sta trackn_audc+3
   851 				qq2a
   852 					txa
   853 					ora #2
   854 					tax
   855 					EIF
   856 				qq3
   857 					IFT FEAT_FILTERG0L||FEAT_FILTERG1L
   858 					cpx v_audctl
   859 					bne qq5
   860 					EIF
   861 					EIF
   862 					IFT FEAT_BASS16
   863 					IFT FEAT_BASS16G1L
   864 					lda trackn_command+1
   865 					and #$0e
   866 					cmp #6
   867 					bne qq4
   868 					lda trackn_audc+1
   869 					and #$0f
   870 					beq qq4
   871 					ldy trackn_outnote+1
   872 					lda frqtabbasslo,y
   873 					sta trackn_audf+0
   874 					lda frqtabbasshi,y
   875 					sta trackn_audf+1
   876 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0L
   877 					lda trackn_audc+0
   878 					and #$10
   879 					bne qq3a
   880 					EIF
   881 					lda #0
   882 					sta trackn_audc+0
   883 				qq3a
   884 					txa
   885 					ora #$50
   886 					tax
   887 					EIF
   888 				qq4
   889 					IFT FEAT_BASS16G3L
   890 					lda trackn_command+3
   891 					and #$0e
   892 					cmp #6
   893 					bne qq5
   894 					lda trackn_audc+3
   895 					and #$0f
   896 					beq qq5
   897 					ldy trackn_outnote+3
   898 					lda frqtabbasslo,y
   899 					sta trackn_audf+2
   900 					lda frqtabbasshi,y
   901 					sta trackn_audf+3
   902 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   903 					lda trackn_audc+2
   904 					and #$10
   905 					bne qq4a
   906 					EIF
   907 					lda #0
   908 					sta trackn_audc+2
   909 				qq4a
   910 					txa
   911 					ora #$28
   912 					tax
   913 					EIF
   914 					EIF
   915 562C			qq5
   916 562C 8E 39 30			stx v_audctl
   917 					IFT TRACKS>4
   918 					IFT FEAT_AUDCTLMANUALSET
   919 					lda trackn_audctl+4
   920 					ora trackn_audctl+5
   921 					ora trackn_audctl+6
   922 					ora trackn_audctl+7
   923 					tax
   924 					ELS
   925 					ldx #0
   926 					EIF
   927 					stx v_audctl2
   928 					IFT FEAT_FILTER
   929 					IFT FEAT_FILTERG0R
   930 					lda trackn_command+0+4
   931 					bpl qs2
   932 					lda trackn_audc+0+4
   933 					and #$0f
   934 					beq qs2
   935 					lda trackn_audf+0+4
   936 					clc
   937 					adc trackn_filter+0+4
   938 					sta trackn_audf+2+4
   939 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
   940 					lda trackn_audc+2+4
   941 					and #$10
   942 					bne qs1a
   943 					EIF
   944 					lda #0
   945 					sta trackn_audc+2+4
   946 				qs1a
   947 					txa
   948 					ora #4
   949 					tax
   950 					EIF
   951 				qs2
   952 					IFT FEAT_FILTERG1R
   953 					lda trackn_command+1+4
   954 					bpl qs3
   955 					lda trackn_audc+1+4
   956 					and #$0f
   957 					beq qs3
   958 					lda trackn_audf+1+4
   959 					clc
   960 					adc trackn_filter+1+4
   961 					sta trackn_audf+3+4
   962 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3R
   963 					lda trackn_audc+3+4
   964 					and #$10
   965 					bne qs2a
   966 					EIF
   967 					lda #0
   968 					sta trackn_audc+3+4
   969 				qs2a
   970 					txa
   971 					ora #2
   972 					tax
   973 					EIF
   974 				qs3
   975 					IFT FEAT_FILTERG0R||FEAT_FILTERG1R
   976 					cpx v_audctl2
   977 					bne qs5
   978 					EIF
   979 					EIF
   980 					IFT FEAT_BASS16
   981 					IFT FEAT_BASS16G1R
   982 					lda trackn_command+1+4
   983 					and #$0e
   984 					cmp #6
   985 					bne qs4
   986 					lda trackn_audc+1+4
   987 					and #$0f
   988 					beq qs4
   989 					ldy trackn_outnote+1+4
   990 					lda frqtabbasslo,y
   991 					sta trackn_audf+0+4
   992 					lda frqtabbasshi,y
   993 					sta trackn_audf+1+4
   994 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0R
   995 					lda trackn_audc+0+4
   996 					and #$10
   997 					bne qs3a
   998 					EIF
   999 					lda #0
  1000 					sta trackn_audc+0+4
  1001 				qs3a
  1002 					txa
  1003 					ora #$50
  1004 					tax
  1005 					EIF
  1006 				qs4
  1007 					IFT FEAT_BASS16G3R
  1008 					lda trackn_command+3+4
  1009 					and #$0e
  1010 					cmp #6
  1011 					bne qs5
  1012 					lda trackn_audc+3+4
  1013 					and #$0f
  1014 					beq qs5
  1015 					ldy trackn_outnote+3+4
  1016 					lda frqtabbasslo,y
  1017 					sta trackn_audf+2+4
  1018 					lda frqtabbasshi,y
  1019 					sta trackn_audf+3+4
  1020 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
  1021 					lda trackn_audc+2+4
  1022 					and #$10
  1023 					bne qs4a
  1024 					EIF
  1025 					lda #0
  1026 					sta trackn_audc+2+4
  1027 				qs4a
  1028 					txa
  1029 					ora #$28
  1030 					tax
  1031 					EIF
  1032 					EIF
  1033 				qs5
  1034 					stx v_audctl2
  1035 					EIF
  1036 562F			rmt_p5
  1037 					IFT FEAT_INSTRSPEED==0||FEAT_INSTRSPEED>1
  1038 					lda v_ainstrspeed
  1039 					ELS
  1040 562F A9 01			lda #1
  1041 					EIF	
  1042 5631 60				rts
  1043 5632			SetPokey	
  1044 5632 AC 39 30			ldy v_audctl
  1045 5635 AD 24 30			lda trackn_audf+0
  1046 5638 AE 28 30			ldx trackn_audc+0
  1047 563B 8D 00 E8			sta $e800
  1048 563E 8E 01 E8			stx $e801
  1049 5641 AD 25 30			lda trackn_audf+1
  1050 5644 AE 29 30			ldx trackn_audc+1
  1051 5647 8D 02 E8			sta $e800+2
  1052 564A 8E 03 E8			stx $e801+2
  1053 564D AD 26 30			lda trackn_audf+2
  1054 5650 AE 2A 30			ldx trackn_audc+2
  1055 5653 8D 04 E8			sta $e800+4
  1056 5656 8E 05 E8			stx $e801+4
  1057 5659 AD 27 30			lda trackn_audf+3
  1058 565C AE 2B 30			ldx trackn_audc+3
  1059 565F 8D 06 E8			sta $e800+6
  1060 5662 8E 07 E8			stx $e801+6
  1061 5665 8C 08 E8			sty $e808
  1062 5668 60				rts
  1063 					
  1064 5669			rmt_copy
  1065 5669 AD 24 30			lda trackn_audf+0
  1066 566C 8D D2 32			sta _vbsnd1 
  1067 566F AD 28 30			lda trackn_audc+0
  1068 5672 8D D7 32			sta _vbsnd2
  1069 5675 AD 25 30			lda trackn_audf+1
  1070 5678 8D DC 32			sta _vbsnd3
  1071 567B AD 29 30			lda trackn_audc+1
  1072 567E 8D E1 32			sta _vbsnd4
  1073 5681 AD 26 30			lda trackn_audf+2
  1074 5684 8D E6 32			sta _vbsnd5
  1075 5687 AD 2A 30			lda trackn_audc+2
  1076 568A 8D EB 32			sta _vbsnd6
  1077 					;lda v_audctl
  1078 					;sta _vbsnd7
  1079 568D 60				rts
  1080 					
  1081 568E			RMTPLAYEREND
    78
    79 568E			alive_wav	
    80 568E 8D FD 73 68 AB 84 + 	ins 'samples/alive1.wav'
    81 5B57 00				dta b(0)
    82 5B58			blastoff_wav
    83 5B58 88 88 33 38 EE 83 + 	ins 'samples/blastoff.wav'
    84 645A 00				dta b(0)
    85 645B			conred_wav
    86 645B 88 88 87 46 56 DA + 	ins 'samples/conred.wav'
    87 6E10 00				dta b(0)
    88 6E11			formation_wav
    89 6E11 83 35 55 BF C8 51 + 	ins 'samples/formation.wav'
    90 75E0 00				dta b(0)
    91 75E1			gameover_wav	
    92 75E1 77 76 77 78 8B CD + 	ins 'samples/gameover.wav'
    93 7E4B 00				dta b(0)
    94 7E4C			spy_wav
    95 7E4C 4D FA 41 46 BE C8 + 	ins 'samples/spy.wav'
    96 8615 00				dta b(0)
    97 						
    98 = 8616			e1		equ *
    99 8616 00 00 00 00 00 00 + 		:$c000-e1 dta b(0)
   100 						
   758 C000					icl 'bank2.asm'
Source: bank2.asm
     1 				//bank2, 14 bank pamiÄ™ci
     2
     3 C000					org $4000
     4 						
     5 4000 D8					dta b($d8)		;nr banku $bfd8
     6 4001 00 00 00				dta b(0,0,0)		;wyrownanie czworki
     7
     8 4004 1A 18 19 00		kCannon		dta b(b+23,b+21,b+22,0)
     9 4008 1A 18 00 17					dta b(b+23,b+21,0,b+20)
    10 400C 00 18 00 17					dta b(0,b+21,0,b+20)
    11 4010 00 18 19 17					dta b(0,b+21,b+22,b+20)
    12 4014 1A 00 19 17					dta b(b+23,0,b+22,b+20)
    13 4018 1A 00 19 00					dta b(b+23,0,b+22,0)
    14 							
    15 401C 1A 18 00 00					dta b(b+23,b+21,0,0)
    16 4020 1A 18 00 17					dta b(b+23,b+21,0,b+20)
    17 4024 00 18 19 17					dta b(0,b+21,b+22,b+20)
    18 4028 00 00 19 17					dta b(0,0,b+22,b+20)
    19 402C 1A 00 19 17					dta b(b+23,0,b+22,b+20)
    20 4030 1A 18 19 00					dta b(b+23,b+21,b+22,0)
    21
    22 4034 00 10 20 30 40 50 + ad_Jadra	:7 dta b(#*16)	
    23 403B 00			ksztaltJadroA0	dta b(%00000000)
    24 403C 00							dta b(%00000000)
    25 403D 7D							dta b(%01111101)
    26 403E 7D							dta b(%01111101)
    27 403F 7D							dta b(%01111101)
    28 4040 7D							dta b(%01111101)
    29 4041 7D							dta b(%01111101)
    30 4042 7D							dta b(%01111101)
    31 								
    32 4043 7D							dta b(%01111101)
    33 4044 7D							dta b(%01111101)
    34 4045 7D							dta b(%01111101)
    35 4046 7D							dta b(%01111101)
    36 4047 7D							dta b(%01111101)
    37 4048 7D							dta b(%01111101)
    38 4049 00							dta b(%00000000)
    39 404A 00							dta b(%00000000)
    40 						
    41 404B 00			ksztaltJadroA1	dta b(%00000000)
    42 404C 00							dta b(%00000000)
    43 404D 3D							dta b(%00111101)
    44 404E 3D							dta b(%00111101)
    45 404F 3D							dta b(%00111101)
    46 4050 3D							dta b(%00111101)
    47 4051 3D							dta b(%00111101)
    48 4052 3D							dta b(%00111101)
    49 								
    50 4053 3D							dta b(%00111101)
    51 4054 3D							dta b(%00111101)
    52 4055 3D							dta b(%00111101)
    53 4056 3D							dta b(%00111101)
    54 4057 3D							dta b(%00111101)
    55 4058 3D							dta b(%00111101)
    56 4059 00							dta b(%00000000)
    57 405A 00							dta b(%00000000)
    58 								
    59 405B 00			ksztaltJadroA2	dta b(%00000000)
    60 405C 00							dta b(%00000000)
    61 405D 0D							dta b(%00001101)
    62 405E 0D							dta b(%00001101)
    63 405F 0D							dta b(%00001101)
    64 4060 0D							dta b(%00001101)
    65 4061 0D							dta b(%00001101)
    66 4062 0D							dta b(%00001101)
    67 								
    68 4063 0D							dta b(%00001101)
    69 4064 0D							dta b(%00001101)
    70 4065 0D							dta b(%00001101)
    71 4066 0D							dta b(%00001101)
    72 4067 0D							dta b(%00001101)
    73 4068 0D							dta b(%00001101)
    74 4069 00							dta b(%00000000)
    75 406A 00							dta b(%00000000)
    76 								
    77 406B 00			ksztaltJadroA3	dta b(%00000000)
    78 406C 00							dta b(%00000000)
    79 406D 01							dta b(%00000001)
    80 406E 01							dta b(%00000001)
    81 406F 01							dta b(%00000001)
    82 4070 01							dta b(%00000001)
    83 4071 01							dta b(%00000001)
    84 4072 01							dta b(%00000001)
    85
    86 4073 01							dta b(%00000001)
    87 4074 01							dta b(%00000001)
    88 4075 01							dta b(%00000001)
    89 4076 01							dta b(%00000001)
    90 4077 01							dta b(%00000001)
    91 4078 01							dta b(%00000001)
    92 4079 00							dta b(%00000000)
    93 407A 00							dta b(%00000000)
    94 								
    95 407B 00			ksztaltJadroA4	dta b(%00000000)		
    96 407C 30							dta b(%00110000)
    97 407D 30							dta b(%00110000)
    98 407E 3C							dta b(%00111100)
    99 407F 3C							dta b(%00111100)
   100 4080 FF							dta b(%11111111)
   101 4081 FB							dta b(%11111011)
   102 4082 EB							dta b(%11101011)
   103 					
   104 4083 EB							dta b(%11101011)		
   105 4084 EF							dta b(%11101111)
   106 4085 FF							dta b(%11111111)
   107 4086 3C							dta b(%00111100)
   108 4087 3C							dta b(%00111100)
   109 4088 0C							dta b(%00001100)
   110 4089 0C							dta b(%00001100)
   111 408A 00							dta b(%00000000)	
   112
   113 408B 00			ksztaltJadroA5	dta b(%00000000)
   114 408C 00							dta b(%00000000)
   115 408D 2D							dta b(%00101101)
   116 408E 2D							dta b(%00101101)
   117 408F 2D							dta b(%00101101)
   118 4090 AD							dta b(%10101101)
   119 4091 AD							dta b(%10101101)
   120 4092 AD							dta b(%10101101)
   121 								
   122 4093 AD							dta b(%10101101)
   123 4094 AD							dta b(%10101101)
   124 4095 AD							dta b(%10101101)
   125 4096 2D							dta b(%00101101)
   126 4097 2D							dta b(%00101101)
   127 4098 2D							dta b(%00101101)
   128 4099 00							dta b(%00000000)
   129 409A 00							dta b(%00000000)
   130
   131 409B 00			ksztaltJadroA6	dta b(%00000000)
   132 409C 00							dta b(%00000000)
   133 409D 3D							dta b(%00111101)
   134 409E 3D							dta b(%00111101)
   135 409F 3D							dta b(%00111101)
   136 40A0 BD							dta b(%10111101)
   137 40A1 BD							dta b(%10111101)
   138 40A2 BD							dta b(%10111101)
   139 								
   140 40A3 BD							dta b(%10111101)
   141 40A4 BD							dta b(%10111101)
   142 40A5 BD							dta b(%10111101)
   143 40A6 3D							dta b(%00111101)
   144 40A7 3D							dta b(%00111101)
   145 40A8 3D							dta b(%00111101)
   146 40A9 00							dta b(%00000000)
   147 40AA 00							dta b(%00000000)
   148 								
   149 40AB 00			ksztaltJadroB0	dta b(%00000000)
   150 40AC 3F							dta b(%00111111)
   151 40AD 3F							dta b(%00111111)
   152 40AE 3F							dta b(%00111111)
   153 40AF 3F							dta b(%00111111)
   154 40B0 3F							dta b(%00111111)
   155 40B1 3F							dta b(%00111111)
   156 40B2 00							dta b(%00000000)
   157 								
   158 40B3 00							dta b(%00000000)
   159 40B4 DC							dta b(%11011100)
   160 40B5 DC							dta b(%11011100)
   161 40B6 DC							dta b(%11011100)
   162 40B7 DC							dta b(%11011100)
   163 40B8 DC							dta b(%11011100)
   164 40B9 DC							dta b(%11011100)
   165 40BA 00							dta b(%00000000)
   166 							
   167 40BB 00			ksztaltJadroB1	dta b(%00000000)
   168 40BC 3F							dta b(%00111111)
   169 40BD 3F							dta b(%00111111)
   170 40BE 3F							dta b(%00111111)
   171 40BF 3F							dta b(%00111111)
   172 40C0 00							dta b(%00000000)
   173 40C1 00							dta b(%00000000)
   174 40C2 00							dta b(%00000000)
   175 								
   176 40C3 00							dta b(%00000000)
   177 40C4 DC							dta b(%11011100)
   178 40C5 DC							dta b(%11011100)
   179 40C6 DC							dta b(%11011100)
   180 40C7 DC							dta b(%11011100)
   181 40C8 00							dta b(%00000000)
   182 40C9 00							dta b(%00000000)
   183 40CA 00							dta b(%00000000)
   184 								
   185 40CB 00			ksztaltJadroB2	dta b(%00000000)
   186 40CC 3F							dta b(%00111111)
   187 40CD 3F							dta b(%00111111)
   188 40CE 00							dta b(%00000000)
   189 40CF 00							dta b(%00000000)
   190 40D0 00							dta b(%00000000)
   191 40D1 00							dta b(%00000000)
   192 40D2 00							dta b(%00000000)
   193 								
   194 40D3 00							dta b(%00000000)
   195 40D4 DC							dta b(%11011100)
   196 40D5 DC							dta b(%11011100)
   197 40D6 00							dta b(%00000000)
   198 40D7 00							dta b(%00000000)
   199 40D8 00							dta b(%00000000)
   200 40D9 00							dta b(%00000000)
   201 40DA 00							dta b(%00000000)
   202 								
   203 40DB 00			ksztaltJadroB3	dta b(%00000000)
   204 40DC 3F							dta b(%00111111)
   205 40DD 00							dta b(%00000000)
   206 40DE 00							dta b(%00000000)
   207 40DF 00							dta b(%00000000)
   208 40E0 00							dta b(%00000000)
   209 40E1 00							dta b(%00000000)
   210 40E2 00							dta b(%00000000)
   211 								
   212 40E3 00							dta b(%00000000)
   213 40E4 DC							dta b(%11011100)
   214 40E5 00							dta b(%00000000)
   215 40E6 00							dta b(%00000000)
   216 40E7 00							dta b(%00000000)
   217 40E8 00							dta b(%00000000)
   218 40E9 00							dta b(%00000000)
   219 40EA 00							dta b(%00000000)
   220 								
   221 40EB 00			ksztaltJadroB4	dta b(%00000000)		
   222 40EC 03							dta b(%00000011)
   223 40ED 0F							dta b(%00001111)
   224 40EE FA							dta b(%11111010)
   225 40EF 3E							dta b(%00111110)
   226 40F0 0F							dta b(%00001111)
   227 40F1 03							dta b(%00000011)
   228 40F2 00							dta b(%00000000)
   229 					
   230 40F3 00							dta b(%00000000)			
   231 40F4 C0							dta b(%11000000)
   232 40F5 F0							dta b(%11110000)
   233 40F6 BC							dta b(%10111100)
   234 40F7 AF							dta b(%10101111)
   235 40F8 F0							dta b(%11110000)
   236 40F9 C0							dta b(%11000000)
   237 40FA 00							dta b(%00000000)
   238 								
   239 40FB 00			ksztaltJadroB5	dta b(%00000000)
   240 40FC 3F							dta b(%00111111)
   241 40FD 3F							dta b(%00111111)
   242 40FE 3F							dta b(%00111111)
   243 40FF 0A							dta b(%00001010)
   244 4100 0A							dta b(%00001010)
   245 4101 02							dta b(%00000010)
   246 4102 00							dta b(%00000000)
   247 								
   248 4103 00							dta b(%00000000)
   249 4104 DC							dta b(%11011100)
   250 4105 DC							dta b(%11011100)
   251 4106 DC							dta b(%11011100)
   252 4107 A0							dta b(%10100000)
   253 4108 A0							dta b(%10100000)
   254 4109 80							dta b(%10000000)
   255 410A 00							dta b(%00000000)
   256
   257 410B 00			ksztaltJadroB6	dta b(%00000000)
   258 410C 3F							dta b(%00111111)
   259 410D 3F							dta b(%00111111)
   260 410E 3F							dta b(%00111111)
   261 410F 3F							dta b(%00111111)
   262 4110 0A							dta b(%00001010)
   263 4111 0A							dta b(%00001010)
   264 4112 00							dta b(%00000000)
   265 								
   266 4113 00							dta b(%00000000)
   267 4114 DC							dta b(%11011100)
   268 4115 DC							dta b(%11011100)
   269 4116 DC							dta b(%11011100)
   270 4117 DC							dta b(%11011100)
   271 4118 A0							dta b(%10100000)
   272 4119 A0							dta b(%10100000)
   273 411A 00							dta b(%00000000)		
   274 						
   275 411B 00 00 00 00 00 00 + 		:512-231-1-51 dta b(0)		;zostaÅ‚o 16 bajtow
   276 						
   277
   278 4200			tabDiv100	
   279 4200 00 00 00 01 01 01 + 		:256 dta b([#*100]/256)
   280 4300			znakiL
   281 4300 00 08 10 18 20 28 + 		:128 dta b(<[znaki1+#*8])
   282 4380 00 08 10 18 20 28 + 		:128 dta b(<[znaki1+#*8])
   283 4400			znakiH
   284 4400 10 10 10 10 10 10 + 		:128 dta b(>[znaki1+#*8])	
   285 4480 10 10 10 10 10 10 + 		:128 dta b(>[znaki1+#*8])
   286 						
   287 4500 07			cyfra1	dta b(%00000111)
   288 4501 05					dta b(%00000101)
   289 4502 05					dta b(%00000101)
   290 4503 05					dta b(%00000101)
   291 4504 05					dta b(%00000101)
   292 4505 05					dta b(%00000101)
   293 4506 07					dta b(%00000111)
   294 4507 00					dta b(0)
   295 						
   296 4508 02					dta b(%00000010)
   297 4509 06					dta b(%00000110)
   298 450A 02					dta b(%00000010)
   299 450B 02					dta b(%00000010)
   300 450C 02					dta b(%00000010)
   301 450D 02					dta b(%00000010)
   302 450E 07					dta b(%00000111)
   303 450F 00					dta b(0)
   304 						
   305 4510 07					dta b(%00000111)
   306 4511 01					dta b(%00000001)
   307 4512 01					dta b(%00000001)
   308 4513 07					dta b(%00000111)
   309 4514 04					dta b(%00000100)
   310 4515 04					dta b(%00000100)
   311 4516 07					dta b(%00000111)
   312 4517 00					dta b(0)
   313 						
   314 4518 07					dta b(%00000111)
   315 4519 01					dta b(%00000001)
   316 451A 01					dta b(%00000001)
   317 451B 03					dta b(%00000011)
   318 451C 01					dta b(%00000001)
   319 451D 01					dta b(%00000001)
   320 451E 07					dta b(%00000111)
   321 451F 00					dta b(0)
   322 						
   323 4520 05					dta b(%00000101)
   324 4521 05					dta b(%00000101)
   325 4522 05					dta b(%00000101)
   326 4523 07					dta b(%00000111)
   327 4524 01					dta b(%00000001)
   328 4525 01					dta b(%00000001)
   329 4526 01					dta b(%00000001)
   330 4527 00					dta b(0)
   331 						
   332 4528 07					dta b(%00000111)
   333 4529 04					dta b(%00000100)
   334 452A 04					dta b(%00000100)
   335 452B 07					dta b(%00000111)
   336 452C 01					dta b(%00000001)
   337 452D 01					dta b(%00000001)
   338 452E 07					dta b(%00000111)
   339 452F 00					dta b(0)
   340 						
   341 4530 07					dta b(%00000111)
   342 4531 04					dta b(%00000100)
   343 4532 04					dta b(%00000100)
   344 4533 07					dta b(%00000111)
   345 4534 05					dta b(%00000101)
   346 4535 05					dta b(%00000101)
   347 4536 07					dta b(%00000111)
   348 4537 00					dta b(0)
   349 						
   350 4538 07					dta b(%00000111)
   351 4539 01					dta b(%00000001)
   352 453A 01					dta b(%00000001)
   353 453B 01					dta b(%00000001)
   354 453C 01					dta b(%00000001)
   355 453D 01					dta b(%00000001)
   356 453E 01					dta b(%00000001)
   357 453F 00					dta b(0)
   358 						
   359 4540 07					dta b(%00000111)
   360 4541 05					dta b(%00000101)
   361 4542 05					dta b(%00000101)
   362 4543 07					dta b(%00000111)
   363 4544 05					dta b(%00000101)
   364 4545 05					dta b(%00000101)
   365 4546 07					dta b(%00000111)
   366 4547 00					dta b(0)
   367 						
   368 4548 07					dta b(%00000111)
   369 4549 05					dta b(%00000101)
   370 454A 05					dta b(%00000101)
   371 454B 07					dta b(%00000111)
   372 454C 01					dta b(%00000001)
   373 454D 01					dta b(%00000001)
   374 454E 01					dta b(%00000001)
   375 454F 00					dta b(0)
   376 						
   377 4550 00 00 00 00 00 00 + 		dta b(0,0,0,0,0,0,0,0)
   378 						
   379 4558 00 00 00 00 00 00 + 		:256-88 dta b(0)		;wyrownanie do strony
   380 4600 70			cyfra2	dta b(%01110000)
   381 4601 50					dta b(%01010000)
   382 4602 50					dta b(%01010000)
   383 4603 50					dta b(%01010000)
   384 4604 50					dta b(%01010000)
   385 4605 50					dta b(%01010000)
   386 4606 70					dta b(%01110000)
   387 4607 00					dta b(0)
   388 						
   389 4608 20					dta b(%00100000)
   390 4609 60					dta b(%01100000)
   391 460A 20					dta b(%00100000)
   392 460B 20					dta b(%00100000)
   393 460C 20					dta b(%00100000)
   394 460D 20					dta b(%00100000)
   395 460E 70					dta b(%01110000)
   396 460F 00					dta b(0)
   397 						
   398 4610 70					dta b(%01110000)
   399 4611 10					dta b(%00010000)
   400 4612 10					dta b(%00010000)
   401 4613 70					dta b(%01110000)
   402 4614 40					dta b(%01000000)
   403 4615 40					dta b(%01000000)
   404 4616 70					dta b(%01110000)
   405 4617 00					dta b(0)
   406 						
   407 4618 70					dta b(%01110000)
   408 4619 10					dta b(%00010000)
   409 461A 10					dta b(%00010000)
   410 461B 30					dta b(%00110000)
   411 461C 10					dta b(%00010000)
   412 461D 10					dta b(%00010000)
   413 461E 70					dta b(%01110000)
   414 461F 00					dta b(0)
   415 						
   416 4620 50					dta b(%01010000)
   417 4621 50					dta b(%01010000)
   418 4622 50					dta b(%01010000)
   419 4623 70					dta b(%01110000)
   420 4624 10					dta b(%00010000)
   421 4625 10					dta b(%00010000)
   422 4626 10					dta b(%00010000)
   423 4627 00					dta b(0)
   424 						
   425 4628 70					dta b(%01110000)
   426 4629 40					dta b(%01000000)
   427 462A 40					dta b(%01000000)
   428 462B 70					dta b(%01110000)
   429 462C 10					dta b(%00010000)
   430 462D 10					dta b(%00010000)
   431 462E 70					dta b(%01110000)
   432 462F 00					dta b(0)
   433 						
   434 4630 70					dta b(%01110000)
   435 4631 40					dta b(%01000000)
   436 4632 40					dta b(%01000000)
   437 4633 70					dta b(%01110000)
   438 4634 50					dta b(%01010000)
   439 4635 50					dta b(%01010000)
   440 4636 70					dta b(%01110000)
   441 4637 00					dta b(0)
   442 						
   443 4638 70					dta b(%01110000)
   444 4639 10					dta b(%00010000)
   445 463A 10					dta b(%00010000)
   446 463B 10					dta b(%00010000)
   447 463C 10					dta b(%00010000)
   448 463D 10					dta b(%00010000)
   449 463E 10					dta b(%00010000)
   450 463F 00					dta b(0)
   451 						
   452 4640 70					dta b(%01110000)
   453 4641 50					dta b(%01010000)
   454 4642 50					dta b(%01010000)
   455 4643 70					dta b(%01110000)
   456 4644 50					dta b(%01010000)
   457 4645 50					dta b(%01010000)
   458 4646 70					dta b(%01110000)
   459 4647 00					dta b(0)
   460 						
   461 4648 70					dta b(%01110000)
   462 4649 50					dta b(%01010000)
   463 464A 50					dta b(%01010000)
   464 464B 70					dta b(%01110000)
   465 464C 10					dta b(%00010000)
   466 464D 10					dta b(%00010000)
   467 464E 10					dta b(%00010000)
   468 464F 00					dta b(0)
   469 						
   470 4650 00 00 00 00 00 00 + 		dta b(0,0,0,0,0,0,0,0)
   471
   472 4658 00 00		asteroid_dat	dta a(0)
   473 465A 2F 32 35 39 3C 32 + 				ins '/sfx/asteroid_audf'
   474 4663 00 00		bomba_dat		dta a(0)
   475 4665 18 18 18 18 18 18 + 				ins '/sfx/bomba_audf'
   476 469D 00			spyHit_dat	dta b(0)
   477 469E 31 30 2F 2E 2D 2C + 				ins '/sfx/spyHit_audf'
   478 46C0 00 00		enemyHit_dat dta a(0)
   479 46C2 12 12 12 12 12 12 + 				ins '/sfx/enemyHit_audf'
   480 46DD 00 00		strzal_dat	dta a(0)
   481 46DF 0B 0B 0B 0B 0B 0B + 				ins '/sfx/strzal_audf'	
   482 46F2 00 00		dzialko_dat	dta a(0)
   483 46F4 80 39 0F 1C 40 72 + 				ins '/sfx/dzialko_audf'
   484 4708 00 00		wybuch_dat	dta a(0)
   485 470A 55 55 55 55 55 55 + 				ins '/sfx/wybuch_audf'	
   486 4748 00 00		dead_dat		dta a(0)
   487 474A C5 C4 C3 C2 C1 C0 + 				ins '/sfx/dead_audf'		
   488 4790 00 00		antyair_dat	dta a(0)
   489 4792 F5 E5 D5 C5 B5 A5 + 				ins '/sfx/antyair_audf'		
   490 479F 00 00		extraLife_dat dta a(0)
   491 47A1 6F 8F AF CF EF 0F + 				ins '/sfx/extraLife_audf'
   492 47D2 00			alarm_dat		dta b(0)
   493 47D3 3C 3C 3C 2A 35 35 + 				ins '/sfx/alarm_audf'	
   494 480F 00 00		rakieta_dat	dta a(0)
   495 4811 71 71 72 72 73 73 + 				ins '/sfx/rakieta_audf'	
   496 483F 00			silnik_dat	dta b(0)
   497 4840 21 21 21 21 21 21 + 				ins '/sfx/silnik_audf'					
   498
   499 					
   500 48D0 00 00		asteroid1_dat	dta a(0)
   501 48D2 A3 A3 A3 A3 A0 A3 + 				ins '/sfx/asteroid_audc'
   502 48DB 00 00		bomba1_dat		dta a(0)
   503 48DD 01 01 01 01 01 01 + 				ins '/sfx/bomba_audc'
   504 4915 00 00		spyHit1_dat	dta a(0)
   505 4917 C1 C1 C2 C2 C1 C1 + 				ins '/sfx/spyHit_audc'
   506 4939 00 00		enemyHit1_dat dta a(0)
   507 493B 01 01 01 01 02 01 + 				ins '/sfx/enemyHit_audc'
   508 4956 00 00		strzal1_dat	dta a(0)
   509 4958 81 81 81 81 81 81 + 				ins '/sfx/strzal_audc'	
   510 496B 00 00		dzialko1_dat	dta a(0)
   511 496D A1 A0 A1 A0 A1 A1 + 				ins '/sfx/dzialko_audc'
   512 4981 00 00		wybuch1_dat	dta a(0)
   513 4983 81 81 81 81 81 81 + 				ins '/sfx/wybuch_audc'	
   514 49C1 00 00		dead1_dat		dta a(0)
   515 49C3 C1 C1 C1 C1 C1 C1 + 				ins '/sfx/dead_audc'		
   516 4A09 00 00		antyair1_dat	dta a(0)
   517 4A0B A1 A1 A1 A2 A2 A2 + 				ins '/sfx/antyair_audc'		
   518 4A18 00 00		extraLife1_dat dta a(0)
   519 4A1A C1 C1 C1 C1 C1 C1 + 				ins '/sfx/extraLife_audc'
   520 4A4B 00			alarm1_dat		dta b(0)
   521 4A4C A1 A1 A2 A4 A1 A1 + 				ins '/sfx/alarm_audc'	
   522 4A88 00 00		rakieta1_dat	dta a(0)
   523 4A8A A1 A1 A1 A1 A1 A1 + 				ins '/sfx/rakieta_audc'	
   524 4AB8 00			silnik1_dat	dta b(0)
   525 4AB9 41 41 41 41 41 41 + 				ins '/sfx/silnik_audc'			
   526 						
   527 					  	
   528 4B49						icl 'b.asm'
Source: b.asm
     1 							
     2 							;GLOWNY PROGRAM
     3
     4 = 4B49			czarp1	equ *
     5 4B49 B5 B5 B5 B5				:4 dta b(%10110101)
     6 4B4D FF FF				:2 dta b(255)
     7 4B4F A5					dta b(%10100101)
     8 4B50 FF					dta b(255)
     9 4B51 B5 B5				:2 dta b(%10110101)
    10 						
    11 = 4B53			livesRed	equ *
    12 4B53 A2 09					ldx #9
    13 4B55 BD 49 4B		@			lda czarp1,x
    14 4B58 9D D6 07					sta sprites+startWyniki+$7c6,x
    15 4B5B CA						dex
    16 4B5C 10 F7					bpl @-
    17 4B5E 60						rts
    18 							
    19 = 4B5F			livesRedOff	equ *
    20 4B5F A2 09					ldx #9
    21 4B61 A9 FF					lda #255
    22 4B63 9D D6 07		@			sta sprites+startWyniki+$7c6,x
    23 4B66 CA						dex
    24 4B67 10 FA					bpl @-
    25 4B69 60						rts
    26 						
    27 = 4B6A			czarnyPanel	equ	*
    28 4B6A A9 FF					lda #255  
    29 4B6C A2 00					ldx #0
    30 4B6E 9D 00 07		@			sta sprites+$700,x  ;wypelniamy 4 duszka
    31 4B71 CA						dex
    32 4B72 D0 FA					bne @-
    33 							
    34 4B74 A2 F0					ldx #240
    35 4B76 9D 00 0F		@			sta sprites1+$700,x
    36 4B79 CA						dex
    37 4B7A D0 FA					bne @-
    38 							
    39 							
    40 							
    41 4B7C 8D 0C 0F					sta sprites1+$700+12
    42 4B7F 8D F2 0F					sta sprites1+$700+242
    43 4B82 A9 FF					lda #255	;#126
    44 4B84 8D 0A 0F					sta sprites1+$700+10
    45 4B87 8D F4 0F					sta sprites1+$700+244
    46 4B8A A9 FF					lda #255	;#60
    47 4B8C 8D 08 0F					sta sprites1+$700+8
    48 4B8F 8D F6 0F					sta sprites1+$700+246
    49 							
    50 4B92 A9 00					lda #0
    51 4B94 8D 0D 0F					sta sprites1+$700+13
    52 4B97 8D 0B 0F					sta sprites1+$700+11
    53 4B9A 8D 09 0F					sta sprites1+$700+9
    54 4B9D 8D F1 0F					sta sprites1+$700+241
    55 4BA0 8D F3 0F					sta sprites1+$700+243
    56 4BA3 8D F5 0F					sta sprites1+$700+245
    57 4BA6 8D F7 0F					sta sprites1+$700+247
    58 							
    59 4BA9 60						rts
    60 						
    61 4BAA			waitvbl
    62 4BAA A5 6F				lda zegar
    63 4BAC C5 6F				cmp zegar
    64 4BAE F0 FC				beq *-2
    65 4BB0 60					rts
    66 						
    67 				;inicjuje efekty dzwiekowe
    68 = 4BB1			init_fx	equ *
    69 4BB1 A2 C6				ldx #<MODUL					;low byte of RMT module to X reg
    70 4BB3 A0 42				ldy #>MODUL					;hi byte of RMT module to Y reg
    71 4BB5 A9 02				lda #2						;starting song line 0-255 to A reg 	
    72 4BB7 4C 1D 38				jmp init_rmt	
    73
    74 = 4BBA			cisza	equ *
    75 4BBA D0 07				bne @+
    76 4BBC A2 02				ldx #1*2
    77 4BBE A0 1C				ldy #2*14
    78 4BC0 4C E1 52				jmp add_fx
    79 					
    80 4BC3 A9 00		@		lda #0
    81 4BC5 8D CF 36				sta kanal2
    82 4BC8 8D E1 32				sta _vbsnd4
    83 4BCB 60					rts
    84
    85 						;ldy #14*2		;wycisz alarm formacji A=128 i wlacz A=0
    86 						;ldx #1
    87 						;jmp sfx_rmt	
    88
    89 = 4BCC			wait	equ *	;czas w Y
    90 4BCC 98					tya
    91 4BCD 18					clc
    92 4BCE 65 6F				adc zegar
    93 4BD0 C5 6F		@		cmp zegar
    94 4BD2 D0 FC				bne @-
    95 4BD4 60					rts
    96
    97
    98 				;wywoÅ‚anie procedury podczas przerwania vblk			
    99 = 4BD5			vb_strzal	equ *	
   100 4BD5 08						php
   101 4BD6 D8						cld		
   102 							
   103 4BD7 86 BF					stx vblX
   104 4BD9 84 C0					sty vblY
   105 4BDB C6 BC					dec ramka
   106 4BDD A5 BD					lda ramka4
   107 4BDF 49 04					eor #4
   108 4BE1 85 BD					sta ramka4
   109 							
   110 4BE3 20 D2 9F					jsr printStrzal		
   111 							
   112 4BE6 E6 BC					inc ramka
   113 4BE8 A5 BD					lda ramka4
   114 4BEA 49 04					eor #4
   115 4BEC 85 BD					sta ramka4
   116 							
   117 4BEE C6 C1					dec vblFlaga
   118 4BF0 4C 2B 33					jmp vb_end
   119 							
   120
   121 = 4BF3			zmaz_radar	equ *
   122 4BF3 A4 D2				ldy rads		;wymaz pozycje statku/formacji na radarze
   123 4BF5 B9 64 03				lda sprites+$300+startWyniki+84,y
   124 4BF8 29 FC				and #%11111100
   125 4BFA 99 64 03				sta sprites+$300+startWyniki+84,y
   126 4BFD B9 65 03				lda sprites+$300+startWyniki+84+1,y
   127 4C00 29 FC				and #%11111100
   128 4C02 99 65 03				sta sprites+$300+startWyniki+84+1,y
   129 4C05 B9 66 03				lda sprites+$300+startWyniki+84+2,y		;dodatkowe 2 punkty zmazujemy po formacji
   130 4C08 29 FC				and #%11111100
   131 4C0A 99 66 03				sta sprites+$300+startWyniki+84+2,y
   132 4C0D 60					rts		
   133
   134 4C0E 00 E2 32 B2 00 82	panelTab	dta b(0,$e2,$32,$b2,$00,$82)		
   135 4C14 74 79 75 7B 00 00 + playerNapis2	dta b(116,121,117,123,0,0,125,118,123,124)		
   136
   137 = 4C1E			game_over	equ *
   138 4C1E A9 00 8D 01 E8			mva #0 AUDC1		;nie graj dzwiekow
   139 4C23 8D 03 E8				sta AUDC2
   140 4C26 8D 05 E8				sta AUDC3
   141 						
   142 4C29 20 FB 64				jsr sumaPunkty		;dodaj i wyÅ›wietl punkty jeÅ›li gra nie zdÄ…Å¼yÅ‚a dodaÄ‡
   143 4C2C AD 85 32				lda scoreZmiana
   144 4C2F D0 06				bne @+
   145 4C31 20 4F 65				jsr piszScore1		
   146 4C34 20 EB 65				jsr czyHscore
   147 = 4C37			@		equ *
   148 						
   149 4C37 20 5F 4B				jsr livesRedOff
   150 						
   151 4C3A A9 00 8D 17 31			mva #0 sfxlicznik1
   152
   153 4C3F A2 68		@		ldx #104		;12znakow
   154 4C41 BD DB 6B		@		lda player1chars-1,x
   155 4C44 9D 97 13				sta znaki1-1+115*8,x
   156 4C47 9D 97 17				sta znaki2-1+115*8,x
   157 4C4A CA					dex
   158 4C4B D0 F4				bne @-
   159 						
   160 4C4D A2 09				ldx #9
   161 4C4F BD 14 4C		@		lda playerNapis2,x
   162 4C52 F0 08				beq @+
   163 4C54 09 80				ora #128
   164 4C56 9D 33 1C				sta obraz1+11+14*48,x
   165 4C59 9D 2B 23				sta obraz2+11+14*48,x
   166 4C5C CA			@		dex
   167 4C5D 10 F0				bpl @-1
   168 				;sampel	
   169 4C5F 20 AA 4B				jsr waitvbl
   170
   171 						
   172 4C62 A0 14				ldy #20
   173 4C64 20 CC 4B				jsr wait
   174 						
   175 					
   176 4C67 A9 E1 85 31				mva #<gameover_wav sam
   177 4C6B 85 5B				sta sam2
   178 4C6D A9 75 85 32				mva #>gameover_wav sam+1
   179 4C71 85 5F				sta sam2s
   180 						
   181 4C73 A9 40 8D 0E D4			mva #%01000000 NMIEN
   182 4C78 A9 01 85 6E				mva #1 powtorz		;wlaczony sampel
   183 4C7C A9 04 8D CB 36			mva #4 rodzajSpeech
   184 						
   185 4C81 20 4F 87				jsr schowaj_duszki
   186 						
   187 4C84 A9 19 8D 00 02 A9 + 		mwa #pok0 irqv		;nowy wektor przerwania
   188 						
   189 4C8E A9 0F 8D 06 E8			mva #15 AUDF4		;jak czesto wywolujemy przerwanie, 64khz/16 = 4khz
   190 						
   191 4C93 A9 00 8D 0E E8			mva #0 IRQEN
   192 4C98 A9 04 85 6D				mva #4 sirq
   193 4C9C 8D 0E E8				sta IRQEN
   194 						
   195 4C9F A4 6F				ldy zegar
   196 4CA1 C4 6F		@		cpy zegar
   197 4CA3 F0 13				beq @+
   198 4CA5 A4 6F				ldy zegar
   199 						
   200 4CA7 A5 D7				lda kolorPanel
   201 4CA9 69 01				adc #1
   202 4CAB 29 0F				and #%1111
   203 4CAD 85 D7				sta kolorPanel
   204 4CAF AE CB 36				ldx rodzajSpeech
   205 4CB2 1D 0E 4C				ora panelTab,x
   206 4CB5 8D 14 C0				sta COLPM2 
   207 						
   208 4CB8 A5 6D		@		lda sirq
   209 4CBA D0 E5				bne @-1
   210 						
   211 4CBC 20 AA 4B				jsr waitvbl
   212 4CBF A9 00 8D 00 D4			mva #0 DMACTL
   213 						
   214 4CC4 A2 0F				ldx #15
   215 4CC6 A9 00				lda #0
   216 4CC8 9D 60 0E		@		sta sprites1+$660,x
   217 4CCB CA					dex
   218 4CCC 10 FA				bpl @-
   219 						
   220 							
   221 4CCE 8D 1D 34		@		sta formacja_stan		;A=0
   222 4CD1 20 E2 8E				jsr pokaz_duszki
   223 							
   224 4CD4 68			@		pla		;usuwamy adres powrotu po jsr PrintShip
   225 4CD5 68					pla
   226 						
   227 4CD6 A2 9E				ldx #<gameover1
   228 4CD8 A0 81				ldy #>gameover1
   229 4CDA A9 DC				lda #bank3m
   230 4CDC 4C 69 38				jmp jmp_bank
   231 						//jmp gameover1	;w bank3
   232 						
   233 						
   234 = 4CDF			sounds		equ *			
   235 4CDF AD 0F 36		@			lda extraLicznik
   236 4CE2 F0 06					beq @+
   237 4CE4 CE 0F 36					dec extraLicznik
   238 4CE7 4C 26 4D					jmp @+3				;pomin dzwiek silnika i strzaly
   239 							
   240 4CEA AD BF 36		@			lda sfx_extra
   241 4CED 30 17					bmi @+
   242 4CEF A9 1E 8D 0F 36				mva #30 extraLicznik		;czas trwania
   243 4CF4 A2 00					ldx #0*2
   244 4CF6 A0 1A					ldy #13*2
   245 4CF8 20 E1 52					jsr add_fx
   246 4CFB A9 FF 8D BF 36				mva #255 sfx_extra
   247 4D00 8D C1 36					sta sfx_effect
   248 4D03 4C 26 4D					jmp @+2
   249
   250 4D06 AD 88 36		@			lda licznikStrzal
   251 4D09 F0 0C					beq @+
   252 4D0B CE 88 36					dec licznikStrzal
   253 4D0E D0 07					bne @+
   254 4D10 A0 20					ldy #16*2			;dzwiek silnika statku
   255 4D12 A2 00					ldx #0*2	
   256 4D14 20 E1 52					jsr add_fx
   257
   258 4D17 AC C1 36		@			ldy sfx_effect
   259 4D1A 30 0A					bmi @+
   260 															;dzwiek strzalu statku
   261
   262 4D1C A2 00					ldx #0*2
   263 4D1E 20 E1 52					jsr add_fx
   264
   265 4D21 A9 FF					lda #$ff
   266 4D23 8D C1 36					sta sfx_effect				
   267
   268 4D26 AD 17 31		@			lda sfxlicznik1
   269 4D29 F0 03					beq @+
   270 4D2B CE 17 31					dec sfxlicznik1
   271 							
   272 4D2E AD 1D 34		@			lda formacja_stan
   273 4D31 C9 03					cmp #3
   274 4D33 F0 04					beq @+
   275 4D35 C9 04					cmp #4			;formacja gdy goni ma wartosc 3 lub 4
   276 4D37 D0 0E					bne @+1
   277 4D39 AD 17 31		@			lda sfxlicznik1
   278 4D3C C9 28					cmp #40
   279 4D3E D0 07					bne @+
   280 4D40 A0 1C					ldy #14*2			;dzwiek alarmu, wlacz po wybuchu
   281 4D42 A2 02					ldx #1*2		
   282 4D44 20 E1 52					jsr add_fx
   283 							
   284 4D47 AC C5 36		@			ldy sfx_wybuch
   285 4D4A 30 12					bmi @+
   286 							
   287 4D4C A9 46 8D 17 31				mva #70 sfxLicznik1
   288 4D51 AC C5 36					ldy sfx_wybuch
   289 4D54 A2 02					ldx #1*2
   290 4D56 20 E1 52					jsr add_fx
   291 							
   292 4D59 A9 FF					lda #$ff
   293 4D5B 8D C5 36					sta sfx_wybuch
   294
   295 4D5E AD 1D 34		@			lda formacja_stan			;czy aby nie ma dzwieku formacji?
   296 4D61 C9 03					cmp #3
   297 4D63 F0 2C					beq @+1
   298 4D65 C9 04					cmp #4
   299 4D67 F0 28					beq @+1
   300 							
   301 4D69 AC C0 36					ldy sfx_rakieta			
   302 4D6C 30 14					bmi @+
   303 4D6E AD 17 31					lda sfxlicznik1			;jesli licznik <40 to dodaj dzwiek rakiety
   304 4D71 C9 28					cmp #40
   305 4D73 B0 0D					bcs @+
   306 							
   307 4D75 A9 27 8D 17 31				mva #39 sfxlicznik1
   308 4D7A A2 02					ldx #1*2
   309 4D7C 20 E1 52					jsr add_fx
   310 4D7F 4C 91 4D					jmp @+1
   311 							
   312 							
   313 4D82 AC C7 36		@			ldy sfx_antyair
   314 4D85 30 12					bmi @+1 
   315 							
   316 4D87 AD 17 31					lda sfxlicznik1
   317 4D8A D0 05					bne @+
   318 							
   319 4D8C A2 02					ldx #1*2						;jesli nie ma zadnych innych dzwiekow to dodaj dzwiek strzalu dzialka
   320 4D8E 20 E1 52					jsr add_fx
   321 							
   322 4D91 A9 FF		@			lda #$ff
   323 4D93 8D C7 36					sta sfx_antyair
   324 4D96 8D C0 36					sta sfx_rakieta
   325 							
   326 							
   327 							
   328 4D99 AC C2 36		@			ldy sfx_dzialko		;wybuch dzialka bazy
   329 4D9C 30 08					bmi @+
   330 							
   331 4D9E A2 04					ldx #2*2
   332 4DA0 20 E1 52					jsr add_fx
   333 4DA3 4C CA 4D					jmp eChannel2
   334 							
   335 4DA6 AC C4 36		@			ldy sfx_bomba
   336 4DA9 30 08					bmi @+
   337 							
   338 4DAB A2 04					ldx #2*2
   339 4DAD 20 E1 52					jsr add_fx
   340 4DB0 4C CA 4D					jmp eChannel2			
   341 							
   342 4DB3 AC C8 36		@			ldy sfx_enemyHit
   343 4DB6 30 08					bmi @+
   344 							
   345 4DB8 A2 04					ldx #2*2
   346 4DBA 20 E1 52					jsr add_fx
   347 4DBD 4C CA 4D					jmp eChannel2
   348 							
   349 4DC0 AC C3 36		@			ldy sfx_asteroid
   350 4DC3 30 13					bmi @+
   351 							
   352 4DC5 A2 04					ldx #2*2
   353 4DC7 20 E1 52					jsr add_fx		
   354
   355
   356 = 4DCA			eChannel2	equ *
   357 4DCA A9 FF					lda #$ff
   358 4DCC 8D C3 36					sta sfx_asteroid
   359 4DCF 8D C8 36					sta sfx_enemyHit
   360 4DD2 8D C4 36					sta sfx_bomba
   361 4DD5 8D C2 36					sta sfx_dzialko
   362
   363 							
   364
   365
   366 4DD8 AC C6 36		@			ldy sfx_dead
   367 4DDB 30 0A					bmi @+
   368 							
   369 							
   370 4DDD A2 00					ldx #0*2
   371 4DDF 20 E1 52					jsr add_fx
   372 							
   373 4DE2 A9 FF					lda #$ff
   374 4DE4 8D C6 36					sta sfx_dead
   375 							
   376 							
   377 4DE7 A5 71		@			lda muzyka
   378 4DE9 F0 2B					beq graj
   379 4DEB C9 01					cmp #1
   380 4DED D0 12					bne @+
   381 							
   382 4DEF A2 5E					ldx <(rmt_goto+$0*4)		
   383 4DF1 A0 52					ldy >(rmt_goto+$0*4)
   384 4DF3 86 F4					stx p_song
   385 4DF5 84 F5					sty p_song+1
   386 4DF7 20 0B 38					jsr GetSongLine_rmt
   387 4DFA A9 00 85 E1					mva #0 sfx
   388 4DFE 4C 16 4E					jmp graj
   389 							
   390
   391 4E01 A5 71		@			lda muzyka
   392 4E03 C9 02					cmp #2
   393 4E05 D0 0F					bne @+
   394 							
   395 4E07 A2 6E					ldx <(rmt_goto+$4*4)		;$1e=30,
   396 4E09 A0 52					ldy >(rmt_goto+$4*4)
   397 4E0B 86 F4					stx p_song
   398 4E0D 84 F5					sty p_song+1
   399 4E0F 20 0B 38					jsr GetSongLine_rmt
   400 4E12 A9 00 85 E1					mva #0 sfx
   401 = 4E16			@			equ *
   402 										
   403 4E16 A9 00 85 71		graj		mva #0 muzyka
   404 4E1A 60						rts				
   405 						
   406 						
   407 = 4E1B			run		equ *	
   408 4E1B A9 40 8D 0E D4			mva #%01000000 NMIEN ;zezwolenia na przerwania dli _+ VBLK
   409 4E20 58					cli
   410
   411 4E21 A9 0A 8D 11 31			mva #10 punkty
   412 4E26 8D 14 31				sta antyairOpoznienie
   413 						
   414 4E29 A9 6A 85 E2				mva #<audf_table kanal_audf1
   415 4E2D 85 E4				sta kanal_audf2
   416 4E2F 85 E6				sta kanal_audf3
   417 4E31 A9 53 85 E3				mva #>audf_table kanal_audf1+1
   418 4E35 85 E5				sta kanal_audf2+1
   419 4E37 85 E7				sta kanal_audf3+1
   420 4E39 A9 8C 85 E8				mva #<audc_table kanal_audc1
   421 4E3D 85 EA				sta kanal_audc2
   422 4E3F 85 EC				sta kanal_audc3
   423 4E41 A9 53 85 E9				mva #>audc_table kanal_audc1+1
   424 4E45 85 EB				sta kanal_audc2+1
   425 4E47 85 ED				sta kanal_audc3+1
   426 						
   427 4E49 A2 82				ldx #<czyscObraz2
   428 4E4B A0 54				ldy #>czyscObraz2
   429 4E4D A9 DC				lda #bank3m
   430 4E4F 20 50 38				jsr go_bank		
   431 						
   432 4E52 A9 20 8D 02 D4 A9 + 		mwa #dlist dlptr
   433 4E5C A9 10 8D 09 D4			mva #>znaki1 chbase
   434 						
   435 4E61 20 AA 4B				jsr waitvbl
   436 							
   437 4E64 A9 00 8D 1A C0			mva #0 COLBAK
   438 4E69 8D 15 31				sta flagHscore
   439 						
   440 4E6C A9 00				lda #0
   441 4E6E AA					tax
   442 4E6F 9D 00 03		@		sta sprites+$300,x
   443 4E72 9D 00 04				sta sprites+$400,x
   444 4E75 9D 00 05				sta sprites+$500,x
   445 4E78 9D 00 06				sta sprites+$600,x
   446 4E7B 9D 00 0B				sta sprites1+$300,x
   447 4E7E 9D 00 0C				sta sprites1+$400,x
   448 4E81 9D 00 0D				sta sprites1+$500,x
   449 4E84 9D 00 0E				sta sprites1+$600,x
   450 4E87 CA					dex
   451 4E88 D0 E5				bne @-
   452 						
   453 4E8A 20 3F 61				jsr piszCondition
   454 4E8D 20 3A 64				jsr pisz_zycia
   455 4E90 20 76 64				jsr pisz_panel
   456 							
   457 4E93 20 6A 4B				jsr czarnyPanel
   458 						
   459 4E96 A9 03 8D 1D C0			mva #3 pmcntl   ;wlaczenie spritow
   460 4E9B A9 00 8D 07 D4			mva #>sprites pmbase	;adres obrazu duszkow
   461 4EA0 A9 01 8D 1B C0			mva #1 gtiactl
   462 4EA5 A9 03 8D 0B C0			mva #3 sizep3
   463 4EAA A9 00 8D 15 C0			mva #0 colpm3
   464
   465 						
   466 4EAF A0 00				ldy #0
   467 4EB1 20 10 5C				jsr setCondition
   468 4EB4 A9 01 8D 16 31			mva #1 poziom		
   469 4EB9 20 93 66				jsr piszPoziom
   470 4EBC 20 CD 66				jsr piszHscore1
   471 						
   472 						
   473 4EBF			Title_s	
   474 4EBF 20 AA 4B				jsr waitvbl
   475 4EC2 A9 00 8D 00 D4			mva #0 DMACTL
   476 4EC7 8D 11 C0				sta GRAFM
   477 						
   478 					
   479 4ECA 20 B1 4B				jsr init_fx
   480
   481 4ECD 20 5F 4B				jsr livesRedOff
   482 								
   483 4ED0 A9 00 8D 17 31			mva #0 sfxlicznik1
   484 4ED5 8D BE 36				sta pauza
   485 4ED8 8D 1D 34				sta formacja_stan
   486 4EDB 8D 18 31				sta formacja_radar
   487 4EDE 20 3F 61				jsr piszCondition
   488 4EE1 AC 19 31				ldy kondycja_stan		;poprzednia kondycja
   489 4EE4 20 10 5C				jsr setCondition
   490 4EE7 A9 00 85 70				mva #0 stan_gry
   491 					
   492
   493 4EEB 20 3F 38				jsr skok_Title
   494 4EEE 8D 0B E8				sta potg0
   495
   496 4EF1 AD 0B D4		@		lda VCOUNT
   497 4EF4 C9 7C				cmp #124
   498 4EF6 90 F9				bcc @-
   499 						
   500 4EF8 A9 00 8D 00 D4			mva #0 DMACTL
   501 4EFD 8D 08 E8				sta audctl
   502 4F00 8D 7F 32				sta score
   503 4F03 8D 80 32				sta score+1
   504 4F06 8D 81 32				sta score+2
   505 4F09 A9 20 8D 02 D4 A9 + 		mwa #dlist	DLPTR
   506 4F13 A9 00 8D 07 D4			mva #>SPRITES PMBASE
   507 						
   508 4F18 A9 00 85 70				mva #0 stan_gry
   509 						
   510 4F1C 20 B1 4B				jsr init_fx
   511 					
   512 4F1F 20 6A 4B				jsr czarnyPanel
   513 4F22 20 3A 64				jsr pisz_zycia
   514 						
   515 4F25 A9 88 8D 22 02 A9 + 		mwa #obraz1 dlist+2
   516
   517 4F2F A2 48				ldx #<czyscObraz1
   518 4F31 A0 49				ldy #>czyscObraz1
   519 4F33 A9 DC				lda #bank3m
   520 4F35 20 50 38				jsr go_bank
   521 						
   522 						
   523 4F38 AD 01 E8				lda pot1
   524 4F3B C9 40				cmp #114-50
   525 4F3D 90 05				bcc @+
   526 4F3F A9 01 8D 16 31			mva #1 poziom		;poziom startowy
   527 = 4F44			@		equ *
   528 					
   529 					
   530 4F44 20 E1 57				jsr wczytajLevel
   531 							
   532 4F47 20 57 5B				jsr pokazBazyRadar
   533 					    	
   534 4F4A A0 00				ldy #0
   535 4F4C 20 10 5C				jsr setCondition
   536 4F4F 20 DD 65				jsr czyscScore
   537 4F52 20 4F 65				jsr piszScore1
   538 							
   539 4F55 A9 03 8D 1A 31			mva #3	lives
   540 4F5A 20 2E 5D				jsr printLives
   541 4F5D A9 01 8D 85 32			mva #1 scoreZmiana	;nie ma nowych punktÃ³w
   542 							
   543 					
   544 4F62 20 53 4B				jsr livesRed			
   545
   546 						
   547 4F65 A9 01 85 6F				mva #1 zegar
   548 						
   549 4F69 A9 38 8D 17 C0			mva #KOLOR1 COLPF1
   550 4F6E A9 44 8D 19 C0			mva #KOLOR3 COLPF3
   551 						
   552 4F73 A9 00 8D 15 31			mva #0 flagHscore
   553 						
   554 4F78 20 AA 4B				jsr waitvbl
   555 4F7B AD 09 E8 8D BD 36			mva kbcode kbcode1
   556 4F81 A9 00 85 6F				mva #0 zegar
   557 4F85 8D C9 36				sta klatki
   558 						
   559 4F88 A9 3A 8D 00 D4			mva #58 dmactl
   560 						
   561 4F8D A9 C0 8D 0E D4			mva #%11000000 NMIEN
   562 						
   563 4F92 A9 02 85 70				mva #2 stan_gry
   564 						
   565 4F96 4C 24 50				jmp poczatek		;nie pokazuj ekranu przed narysowaniem
   566 						
   567 				;glowna petla		
   568 = 4F99			loop	equ *
   569 				;
   570 				;Czekamy na ramke 2
   571 				;		
   572
   573 4F99 A9 88 8D 22 02 A9 + 		mwa #obraz1 dlist+2
   574 4FA3 A9 10 8D 09 D4			mva #>znaki1 CHBASE
   575 4FA8 A5 C6 8D 04 D4			mva movX HSCROL
   576 4FAD A5 C7 8D 05 D4			mva movY VSCROL
   577 4FB2 A9 00 85 6F				mva #0 zegar
   578 						
   579 4FB6 A9 3A 8D 00 D4			mva #58 DMACTL		
   580 						
   581 4FBB AD 8B 36				lda speech		;jesli sampel to mrygaj 2 duszkiem
   582 4FBE F0 11				beq @+
   583 4FC0 A5 D7				lda kolorPanel
   584 4FC2 69 02				adc #2
   585 4FC4 29 0F				and #%1111
   586 4FC6 85 D7				sta kolorPanel
   587 4FC8 AE CB 36				ldx rodzajSpeech
   588 4FCB 1D 0E 4C				ora panelTab,x
   589 4FCE 8D 14 C0				sta COLPM2 
   590 = 4FD1			@		equ *		
   591 				;obsluga sampli		
   592 4FD1 AD 50 36				lda nobanner
   593 4FD4 F0 4E				jeq glos1
   594 4FD6 C9 01				cmp #1
   595 4FD8 D0 33				bne @+
   596 						
   597 						
   598 4FDA A9 40 8D 0E D4			mva #%01000000 NMIEN
   599 4FDF 78					sei
   600 4FE0 A9 19 8D 00 02 A9 + 		mwa #pok0 irqv
   601 						
   602 4FEA A9 0F				lda #15
   603 4FEC 8D 06 E8				sta AUDF4
   604 4FEF A0 00 8C 0E E8			mvy #0 IRQEN
   605 4FF4 58					cli
   606 						
   607 4FF5 20 4F 87				jsr schowaj_duszki
   608 4FF8 AD 1D 34				lda formacja_stan
   609 4FFB F0 03				beq *+5
   610 4FFD 20 79 61				jsr pisz_formation		;tylko jesli wlaczona formacja
   611 						
   612 5000 EE 50 36				inc nobanner
   613 						
   614 						
   615 5003 A9 04 85 6D				mva #4 sirq
   616 5007 8D 0E E8				sta IRQEN
   617 500A 4C 24 50				jmp glos1
   618 						
   619 500D A5 6D		@		lda sirq
   620 500F D0 13				bne glos1		;jeszcze sie nie skonczyl		
   621 						
   622 						
   623 5011 A9 00 8D 06 E8			mva #0 AUDF4
   624 5016 8D 8B 36				sta speech
   625 5019 8D 50 36				sta nobanner
   626 						
   627
   628 						
   629 501C A9 C0 8D 0E D4			mva #%11000000 NMIEN
   630 						
   631 5021 20 E2 8E				jsr pokaz_duszki
   632
   633 						
   634 = 5024			glos1		equ *
   635 = 5024			poczatek	equ *
   636
   637 5024 20 05 53				jsr play_fx
   638 						
   639 5027 A9 13 85 D3 A9 37 + 		mwa #obraz2L screenL
   640 502F A9 30 85 D5 A9 37 + 		mwa #obraz2H screenH
   641 						
   642 5037 20 F3 73				jsr printShip
   643 						
   644 503A AD 50 36				lda nobanner
   645 503D C9 02				cmp #2
   646 503F B0 03				bcs *+5
   647 5041 20 6D 5B				jsr radar
   648 						
   649 						
   650
   651 5044 A2 82				ldx #<czyscObraz2
   652 5046 A0 54				ldy #>czyscObraz2
   653 5048 A9 DC				lda #bank3m
   654 504A 20 50 38				jsr go_bank
   655 						
   656 504D 20 31 86				jsr timeEvents
   657
   658 				;rysujemy na obrazie 2
   659 5050 A9 01 85 BC				mva #1 ramka
   660 5054 85 C1				sta vblFlaga
   661 5056 A9 04 85 BD				mva #4 ramka4		;ramka*4	
   662
   663 505A 20 84 7D				jsr moveShip			;przesun i narysuj statek			
   664 505D 20 43 71				jsr gwiazdyRysuj2
   665
   666 5060 20 35 7E				jsr animacjaJadraA
   667 5063 20 0B 81				jsr animacjaJadraB
   668 					
   669 5066 20 1C 80				jsr coreWaveA
   670 5069 20 71 82				jsr coreWaveB
   671 					
   672 506C A5 C2				lda trafienie
   673 506E 05 C3				ora startMapy
   674 5070 D0 0A				bne @+
   675 5072 A5 CB				lda czyRakiety
   676 5074 F0 06				beq @+
   677 5076 20 E7 91				jsr moveRakiety		;rakiety
   678 5079 20 C1 90				jsr rakiety
   679 = 507C			@		equ *
   680 						
   681 507C 20 72 6A				jsr printEkran	
   682
   683 						
   684 507F 20 6F 85				jsr rysujWybuchy		;animuj wybuchy
   685 5082 20 D4 84				jsr rysujmWybuchy
   686 											
   687 5085 A5 C2				lda trafienie
   688 5087 05 C3				ora startMapy
   689 5089 D0 12				bne @+
   690 						
   691 508B 20 4B B5				jsr kolStatekWybuch	
   692 508E 20 97 9A				jsr movePociski1	
   693 						
   694 						
   695 5091 20 CC B4				jsr kolStatekObiekty
   696 5094 20 11 B2				jsr kolStatekBazy
   697 						
   698 						
   699 5097 20 63 B3				jsr kolRakietyStatek		
   700 509A 20 A9 B3				jsr kolRakietyObiekty 
   701 509D			@		
   702 509D 20 54 A7				jsr spy
   703 50A0 20 FF A8				jsr formacja 
   704 						
   705 						
   706 50A3 A5 C2				lda trafienie
   707 50A5 05 C3				ora startMapy
   708 50A7 D0 03				bne @+
   709 50A9 20 B2 A8				jsr printSpyScore
   710 						
   711 50AC 20 F7 94		@		jsr moveEnemy
   712 						
   713 50AF A5 C2				lda trafienie
   714 50B1 05 C3				ora startMapy
   715 50B3 D0 03				bne @+
   716 						
   717 50B5 20 20 94				jsr dodaj_przeciwnika
   718 						
   719 						
   720 = 50B8			@		equ *		
   721
   722 50B8 20 F2 95				jsr rysujEnemy
   723 						
   724 50BB A5 C2				lda trafienie
   725 50BD 05 C3				ora startMapy
   726 50BF D0 12				bne @+
   727 						
   728 50C1 20 74 AF				jsr obliczEnemyXY
   729 50C4 20 DC B1				jsr kolStatekEnemy
   730 						
   731 50C7 20 0B 9B				jsr printPociski
   732 50CA 20 29 B0				jsr kolPociskiEnemy
   733 						;jsr kolObiektyEnemy			;nie byÅ‚o w oryginale
   734 						
   735 						
   736 50CD 20 8F B5				jsr kolPociskiStatek
   737 50D0 20 C6 B5				jsr kolPociskiObiekty
   738 						
   739 = 50D3			@		equ *	
   740
   741 					
   742 50D3 AD 50 36				lda nobanner
   743 50D6 C9 02				cmp #2
   744 50D8 B0 03				bcs @+
   745 50DA 20 F8 63				jsr poprawlives2
   746 = 50DD			@		equ *
   747 						
   748 50DD A9 00				lda #0
   749 50DF C5 6F		@		cmp zegar
   750 50E1 F0 FC				beq @-
   751 						
   752 50E3 A5 C2				lda trafienie
   753 50E5 05 C3				ora startMapy
   754 50E7 D0 2A				bne @+
   755 						
   756 50E9 20 30 9E				jsr moveStrzal
   757 						
   758 50EC 20 1F 9D				jsr pushFire			;czy wcisnieto fire?
   759
   760 50EF 20 31 9F				jsr obliczStrzalXY2		;kolizje strzlow statku
   761 50F2 20 D2 9F				jsr printStrzal
   762 				  
   763 						
   764 50F5 20 A2 B0				jsr kolStrzalyEnemy
   765 50F8 20 3F AE				jsr kolStrzalyRakiety
   766 50FB 20 70 B6				jsr kolStrzalyObiekty
   767 50FE 20 9C B7				jsr kolStrzalyBazy
   768 								
   769 5101 20 30 9E				jsr moveStrzal
   770 								
   771 5104 20 31 9F				jsr obliczStrzalXY2
   772 						
   773 						
   774 5107 20 9D 9F				jsr locateStrzal2
   775 510A 20 40 B1				jsr kolStrzalyEnemy1
   776 510D 20 06 B7				jsr kolStrzalyObiekty1		;do poprawki
   777 5110 20 9C B7				jsr kolStrzalyBazy
   778
   779 						
   780 									
   781 5113 20 FB 64		@		jsr sumaPunkty		;sumuj punkty
   782 						
   783 5116 20 05 53				jsr play_fx
   784
   785 5119 20 DF 4C				jsr sounds			;dodaj wszystkie efekty
   786 511C 20 56 5D				jsr czyNowyLevel	;sprawdz czy ukonczono poziom		
   787
   788 						
   789 				;
   790 				;Czekamy na ramke		1
   791 				;		
   792 511F A5 6F		@		lda zegar
   793 5121 C5 6F		@		cmp zegar
   794 5123 F0 FC				beq @-	
   795 5125 C9 01				cmp #1
   796 5127 F0 03				beq loop2
   797 5129 EE C9 36				inc klatki
   798
   799 = 512C			loop2	equ *
   800 					
   801 512C A9 80 8D 22 02 A9 + 		mwa #obraz2 dlist+2
   802 5136 A9 14 8D 09 D4			mva #>znaki2 CHBASE
   803 513B A5 C6 8D 04 D4			mva movX HSCROL	
   804 5140 A5 C7 8D 05 D4			mva movY VSCROL
   805 						
   806 5145 A9 00 85 6F				mva #0 zegar
   807 5149 A9 3A 8D 00 D4			mva #58 DMACTL		
   808 						
   809 514E AD 8B 36				lda speech		;jesli sampel to mrygaj 2 duszkiem
   810 5151 F0 11				beq @+
   811 5153 A5 D7				lda kolorPanel
   812 5155 69 02				adc #2
   813 5157 29 0F				and #%1111
   814 5159 85 D7				sta kolorPanel
   815 515B AE CB 36				ldx rodzajSpeech
   816 515E 1D 0E 4C				ora panelTab,x
   817 5161 8D 14 C0				sta COLPM2 
   818 						
   819 5164 AD 1D 34		@		lda formacja_stan
   820 5167 F0 0C				beq @+
   821 5169 C9 05				cmp #5
   822 516B F0 08				beq @+
   823 						
   824 516D AD 7A 34				lda conditionColor
   825 5170 49 34				eor #$34
   826 5172 8D 7A 34				sta conditionColor
   827 = 5175			@		equ *
   828 					
   829 5175 20 05 53				jsr play_fx
   830 						
   831 5178 A9 D9 85 D3 A9 36 + 		mwa #obraz1L screenL
   832 5180 A9 F6 85 D5 A9 36 + 		mwa #obraz1H screenH
   833 						
   834 5188 20 F3 73				jsr printShip
   835 						
   836 518B AD 50 36				lda nobanner
   837 518E C9 02				cmp #2
   838 5190 B0 03				bcs @+
   839 5192 20 6D 5B				jsr radar
   840 = 5195			@		equ *
   841 					
   842
   843 5195 A2 48				ldx #<czyscObraz1
   844 5197 A0 49				ldy #>czyscObraz1
   845 5199 A9 DC				lda #bank3m
   846 519B 20 50 38				jsr go_bank	
   847
   848 				;rysujemy na obrazie1
   849 519E A9 00 85 BC				mva #0 ramka
   850 51A2 85 BD				sta ramka4
   851 51A4 A9 01 85 C1				mva #1 vblFlaga
   852 						
   853 51A8 20 84 7D				jsr moveShip			;przesun i narysuj statek
   854
   855 51AB 20 6A 71				jsr gwiazdyRysuj1
   856 51AE 20 35 7E				jsr animacjaJadraA
   857 51B1 20 0B 81				jsr animacjaJadraB
   858 							
   859 51B4 20 1C 80				jsr coreWaveA
   860 51B7 20 71 82				jsr coreWaveB
   861 					
   862 						
   863 51BA A5 C2				lda trafienie
   864 51BC 05 C3				ora startMapy
   865 51BE D0 0A				bne @+
   866 51C0 05 CB				ora czyRakiety
   867 51C2 F0 06				beq @+
   868 51C4 20 E7 91				jsr moveRakiety		;rakiety
   869 51C7 20 C1 90				jsr rakiety
   870 = 51CA			@		equ *
   871 						
   872 51CA 20 72 6A				jsr printEkran
   873 						
   874 51CD 20 6F 85				jsr rysujWybuchy
   875 51D0 20 D4 84				jsr rysujmWybuchy
   876 						
   877 						
   878 51D3 A5 C2				lda trafienie		
   879 51D5 05 C3				ora startMapy
   880 51D7 D0 15				bne @+
   881 						
   882 						
   883 51D9 20 4B B5				jsr kolStatekWybuch
   884 51DC 20 97 9A				jsr movePociski1
   885 51DF 20 88 97				jsr antyair1
   886 						
   887 51E2 20 CC B4				jsr kolStatekObiekty
   888 51E5 20 11 B2				jsr kolStatekBazy
   889 51E8 20 63 B3				jsr kolRakietyStatek
   890
   891 						
   892 						;jsr kolRakietyObiekty
   893 								
   894 51EB 20 8C A6				jsr losuj		;losuj spy,formacja
   895 						
   896 = 51EE			@		equ *		
   897 51EE 20 54 A7				jsr spy
   898 51F1 20 FF A8				jsr formacja
   899 						
   900 51F4 A5 C2				lda trafienie		
   901 51F6 05 C3				ora startMapy
   902 51F8 D0 03				bne @+
   903 						
   904 51FA 20 B2 A8				jsr printSpyScore
   905 						
   906 = 51FD			@		equ *		
   907 51FD 20 F7 94				jsr moveEnemy
   908
   909 5200 20 F2 95				jsr rysujEnemy
   910 						
   911 5203 A5 C2				lda trafienie		
   912 5205 05 C3				ora startMapy
   913 5207 D0 15				bne @+
   914 						
   915 5209 20 74 AF				jsr obliczEnemyXY
   916 520C 20 DC B1				jsr kolStatekEnemy	
   917 520F 20 C9 AE				jsr kolObiektyEnemy	
   918
   919 5212 20 0B 9B				jsr printPociski
   920 5215 20 29 B0				jsr kolPociskiEnemy	
   921 5218 20 8F B5				jsr kolPociskiStatek
   922 521B 20 C6 B5				jsr kolPociskiObiekty		;kolizje Pociskow z Bomami i meteorami
   923 						
   924 						
   925 = 521E			@		equ *		
   926 								
   927 521E AD 50 36				lda nobanner		;jesli sampel to nie poprawiaj lives
   928 5221 C9 02				cmp #2
   929 5223 B0 03				bcs @+
   930 5225 20 B6 63				jsr poprawlives1
   931 = 5228			@		equ *
   932
   933 						
   934 5228 A9 00				lda #0
   935 522A C5 6F		@		cmp zegar
   936 522C F0 FC				beq @-
   937 						
   938 522E A5 C2				lda trafienie
   939 5230 05 C3				ora startMapy
   940 5232 D0 2A				bne @+
   941 						
   942 5234 20 30 9E				jsr moveStrzal
   943 						
   944 5237 20 1F 9D				jsr pushFire
   945 523A 20 31 9F				jsr obliczStrzalXY2
   946 523D 20 D2 9F				jsr printStrzal
   947 						
   948 5240 20 A2 B0				jsr kolStrzalyEnemy
   949 5243 20 3F AE				jsr kolStrzalyRakiety
   950 5246 20 70 B6				jsr kolStrzalyObiekty
   951 5249 20 9C B7				jsr kolStrzalyBazy
   952
   953 524C 20 30 9E				jsr moveStrzal
   954 						
   955 524F 20 31 9F				jsr obliczStrzalXY2		
   956 						
   957 						
   958 5252 20 68 9F				jsr locateStrzal1
   959 5255 20 40 B1				jsr kolStrzalyEnemy1
   960 5258 20 06 B7				jsr kolStrzalyObiekty1		;do poprawki
   961 525B 20 9C B7				jsr kolStrzalyBazy
   962 				  
   963 							
   964 						
   965 525E AD 50 36		@		lda nobanner
   966 5261 F0 03				beq @+
   967 5263 4C CB 52				jmp loop1
   968 						
   969 5266 AD 09 E8		@		lda kbcode
   970 5269 AA					tax
   971 526A 4D BD 36				eor kbcode1
   972 526D C9 20				cmp #$20
   973 526F D0 47				bne @+1		;nic nie wciÅ›niÄ™to
   974 5271 8A					txa
   975 5272 0D BD 36				ora kbcode1
   976 5275 C9 31				cmp #$31		;czy wciÅ›niÄ™to PAUSE?
   977 5277 D0 3F				bne @+1		;nie
   978 5279 8E BD 36				stx kbcode1
   979 527C A9 01 8D BE 36			mva #1 pauza
   980 5281 A9 00 8D 01 E8			mva #0 AUDC1
   981 5286 8D 03 E8				sta AUDC2
   982 5289 8D 05 E8				sta AUDC3
   983 						
   984 528C AD 09 E8		@		lda kbcode
   985 528F AA					tax
   986 5290 4D BD 36				eor kbcode1
   987 5293 C9 20				cmp #$20
   988 5295 D0 0C				bne key_none			;nic nie wcisnieto
   989 5297 8A					txa
   990 5298 0D BD 36				ora kbcode1
   991 529B C9 39				cmp #$39
   992 529D F0 14				beq key_start
   993 529F C9 29				cmp #$29
   994 52A1 F0 06				beq key_reset
   995 52A3			key_none		
   996 52A3 8E BD 36				stx kbcode1
   997 52A6 4C 8C 52				jmp @-
   998 						
   999
  1000 						
  1001 52A9			key_reset		
  1002 52A9 A9 32 85 C3				mva #50 startMapy
  1003 						
  1004 52AD 20 F3 4B				jsr zmaz_radar
  1005 						
  1006 52B0 4C BC 4E				jmp title_s-3		;resetuj + nie zaliczaj hscore , wypisz stare
  1007 					
  1008
  1009 						
  1010 52B3			key_start		
  1011 52B3 A9 00 8D BE 36			mva #0 pauza
  1012 = 52B8			@		equ *	
  1013 52B8 8E BD 36				stx kbcode1		;zapamiÄ™taj ostatnio wciÅ›niety przycisk
  1014 						
  1015 						
  1016 52BB AD 50 36				lda nobanner
  1017 52BE D0 0B				bne loop1
  1018 52C0 AD 85 32				lda scoreZmiana
  1019 52C3 D0 06				bne @+
  1020 52C5 20 4F 65				jsr piszScore1		;wyswietlaj zmienione hscore tylko jesli nie ma sampla
  1021 52C8 20 EB 65				jsr czyHscore
  1022 = 52CB			@		equ *	
  1023
  1024 = 52CB			loop1	equ *
  1025
  1026 52CB 20 05 53				jsr play_fx
  1027 52CE 20 DF 4C				jsr sounds		;dodaj efekty
  1028 						
  1029 					
  1030 						
  1031
  1032 52D1 A5 6F		@		lda zegar
  1033 52D3 C5 6F		@		cmp zegar
  1034 52D5 F0 FC				beq @-	
  1035 52D7 C9 01				cmp #1
  1036 52D9 F0 03				beq @+
  1037 52DB EE C9 36				inc klatki
  1038 						
  1039 52DE 4C 99 4F		@		jmp loop
  1040 						
  1041 = 0001			START		equ 1
  1042 = 0002			OPTION	equ 2
  1043 						
  1044 52E1			add_fx
  1045 52E1 B9 6A 53				lda audf_table,y
  1046 52E4 95 E2				sta kanal_audf1,x
  1047 52E6 B9 6B 53				lda audf_table+1,y
  1048 52E9 95 E3				sta kanal_audf1+1,x
  1049 						
  1050 52EB B9 8C 53				lda audc_table,y
  1051 52EE 95 E8				sta kanal_audc1,x
  1052 52F0 B9 8D 53				lda audc_table+1,y
  1053 52F3 95 E9				sta kanal_audc1+1,x
  1054 						
  1055 52F5 B9 AE 53				lda len_table,y
  1056 52F8 9D CD 36				sta kanal1,x				;dlugosc
  1057 52FB 9D D3 36				sta kanal1s,x
  1058 52FE B9 AF 53				lda len_table+1,y
  1059 5301 9D CE 36				sta petla1,x			;petla
  1060 5304 60					rts
  1061 						
  1062
  1063 5305			play_fx
  1064 5305 A5 E1				lda sfx
  1065 5307 D0 09				bne @+				;=1 graj moje fxy
  1066 5309 A2 C0				ldx #<playFX
  1067 530B A0 42				ldy #>playFX
  1068 530D A9 D4				lda #bank1m
  1069 530F 4C 50 38				jmp go_bank
  1070
  1071 = 5312			@		equ *
  1072 5312 AC CD 36				ldy kanal1
  1073 5315 F0 18				beq pfx2
  1074 5317 B1 E2				lda (kanal_audf1),y
  1075 5319 8D D2 32				sta _vbsnd1
  1076 531C B1 E8				lda (kanal_audc1),y
  1077 531E 8D D7 32				sta _vbsnd2
  1078 5321 88					dey
  1079 5322 D0 08				bne @+					;jeszcze nie koniec
  1080 5324 AD CE 36				lda petla1			;czy zapetlony 0=nie
  1081 5327 F0 03				beq @+
  1082 5329 AC D3 36				ldy kanal1s
  1083 532C 8C CD 36		@		sty kanal1
  1084
  1085 532F AC CF 36		pfx2   ldy kanal2
  1086 5332 F0 18				beq pfx3
  1087 5334 B1 E4				lda (kanal_audf2),y
  1088 5336 8D DC 32				sta _vbsnd3
  1089 5339 B1 EA				lda (kanal_audc2),y
  1090 533B 8D E1 32				sta _vbsnd4
  1091 533E 88					dey
  1092 533F D0 08				bne @+					;jeszcze nie koniec
  1093 5341 AD D0 36				lda petla2			;czy zapetlony 0=nie
  1094 5344 F0 03				beq @+
  1095 5346 AC D5 36				ldy kanal2s
  1096 5349 8C CF 36		@		sty kanal2
  1097 						
  1098 534C AC D1 36		pfx3	ldy kanal3
  1099 534F F0 18				beq pfx0
  1100 5351 B1 E6				lda (kanal_audf3),y
  1101 5353 8D E6 32				sta _vbsnd5
  1102 5356 B1 EC				lda (kanal_audc3),y
  1103 5358 8D EB 32				sta _vbsnd6
  1104 535B 88					dey
  1105 535C D0 08				bne @+					;jeszcze nie koniec
  1106 535E AD D2 36				lda petla3			;czy zapetlony 0=nie
  1107 5361 F0 03				beq @+
  1108 5363 AC D7 36				ldy kanal3s
  1109 5366 8C D1 36		@		sty kanal3		
  1110
  1111 5369 60			pfx0	rts		
  1112 						
  1113 					
  1114 536A			audf_table
  1115 536A 58 46 63 46 9D 46 + 		dta a(asteroid_dat),a(bomba_dat),a(spyHit_dat),a(0),a(0)
  1116 5374 C0 46 DD 46 F2 46 + 		dta a(enemyHit_dat),a(strzal_dat),a(dzialko_dat),a(wybuch_dat),a(dead_dat)
  1117 537E 00 00 00 00 90 47 + 		dta a(0),a(0),a(antyair_dat),a(extraLife_dat),a(alarm_dat)
  1118 5388 0F 48 3F 48				dta a(rakieta_dat),a(silnik_dat)
  1119
  1120 538C			audc_table
  1121 538C D0 48 DB 48 15 49 + 		dta a(asteroid1_dat),a(bomba1_dat),a(spyHit1_dat),a(0),a(0)
  1122 5396 39 49 56 49 6B 49 + 		dta a(enemyHit1_dat),a(strzal1_dat),a(dzialko1_dat),a(wybuch1_dat),a(dead1_dat)
  1123 53A0 00 00 00 00 09 4A + 		dta a(0),a(0),a(antyair1_dat),a(extraLife1_dat),a(alarm1_dat)
  1124 53AA 88 4A B8 4A				dta a(rakieta1_dat),a(silnik1_dat)
  1125 						
  1126 53AE			len_table
  1127 53AE 0A 00 39 00 23 00 + 		dta b(9+1,0),b(56+1,0),b(34+1,0),a(0),a(0)					;+1 bo dodajemy ciszÄ™
  1128 53B8 1C 00 14 00 15 00 + 		dta b(27+1,0),b(19+1,0),b(20+1,0),b(62+1,0),b(70+1,0)
  1129 53C2 00 00 00 00 0E 00 + 		dta a(0),a(0),b(13+1,0),b(49+1,0),b(60,1)
  1130 53CC 2F 00 90 01				dta b(46+1,0),b(144,1)		
  1131 						
  1132 						
  1133 					
  1134 					
  1135
  1136
  1137
  1138 						
   529 53D0						icl 'blevele.asm'
Source: blevele.asm
     1
     2 				;poziom trudnoÅ›ci
     3 = 0003			spy_from_level			equ 3		;od ktÃ³rego poziomu pojawia siÄ™ spy
     4 = 0004			formation_from_level	equ 4		;od ktÃ³rego poziomu pojawia siÄ™ formacja
     5 = 0006			formation_speedUp_level1	equ 6		;od ktÃ³rego poziomu przyspiesza formacja
     6 = 000C			formation_speedUp_level2	equ 12		;max speed formacji
     7 = 0012			formation_speedUp_level3	equ 18
     8 = 0018			formation_speedUp_level4	equ 24
     9
    10 = 0002			enemy_show_speed2		equ 2		;od ktÃ³rego poziomu szybciej pojawiajÄ… sie przeciwnicy
    11 = 0009			enemy_show_speed3		equ 9		;od ktÃ³rego poziomu szybciej pojawiajÄ… sie przeciwnicy
    12 = 0011			enemy_show_speed4		equ 17		;od ktÃ³rego poziomu szybciej pojawiajÄ… sie przeciwnicy
    13 = 0019			enemy_show_speed5		equ 25		;od ktÃ³rego poziomu szybciej pojawiajÄ… sie przeciwnicy
    14 = 0023			enemy_show_speed6		equ 35
    15
    16 = 0006			formSpy_show_speed2		equ 6		;od ktÃ³rego poziomu szybciej pojawia siÄ™ formacja i spy
    17 = 000B			formSpy_show_speed3		equ 11		;od ktÃ³rego poziomu szybciej pojawia sie formacja i spy
    18 = 0025			formSpy_show_speed4		equ 37
    19 = 0019			show_6enemy				equ 25		;od ktÃ³rego poziomu pojawia sie dodatkowy przeciwnik podczas formacji
    20
    21 = 0008			timeLevel1_up			equ 8
    22 = 0010			timeLevel2_up			equ 16		;od ktÃ³rego poziomu zmieniajÄ… siÄ™ czasy condition
    23 = 0027			timeLevel3_up			equ 39
    24 = 003C			timeLevel4_up			equ 60
    25
    26 				//moÅ¼e tylko 2 poziomy szybkosci obrotu?
    27 = 0013			fast_rotate1			equ 19		;od ktÃ³rego leveu przyspiesza rotacja
    28 = 0015			fast_rotate2			equ 21
    29 = 0023			fast_rotate3			equ 35
    30 = 0036			fast_rotate4			equ 54
    31
    32 = 000C			ilePociskow4			equ 12		;od ktÃ³rego poziomu bedÄ… 4 pociski
    33 = 0018			ilePociskow5			equ 24		;od ktÃ³rego poziomu bedzie 5 pociskÃ³w
    34 = 0007			cannonAngle1			equ 7		;od ktÃ³rego levelu zwieksza siÄ™ kÄ…t strzalu dzialek
    35 = 0012			cannonAngle2			equ 18
    36 = 0020			cannonMaxAngle			equ 32		;maksymalny kat
    37
    38 				//moÅ¼e tylko 2 poziomy predkosci?
    39 = 0006			enemy_speedUp_level1	equ 6		;kiedy przeciwnicy przyspieszajÄ…
    40 = 0011			enemy_speedUp_level2	equ 17
    41 = 001C			enemy_speedUp_level3	equ 28
    42 = 002A			enemy_speedUp_level4	equ 42		;max speed
    43
    44 = 000F			spy_speedUp1			equ 15
    45 = 001F			spy_speedUp2			equ 31
    46 = 0034			spy_speedUp3			equ 52
    47
    48
    49
    50 53D0 58 67		levelAdr		dta a(level1)	;adresy zapisanych leveli
    51 53D2 63 67					dta a(level2)
    52 53D4 6E 67					dta a(level3)
    53 53D6 7B 67					dta a(level4)
    54 53D8 90 67					dta a(level5)
    55 53DA 9D 67					dta a(level6)
    56 53DC B2 67					dta a(level7)
    57 53DE C7 67					dta a(level8)
    58 53E0 DC 67					dta a(level9)
    59 53E2 F1 67					dta a(level10)
    60 53E4 06 68					dta a(level11)
    61 53E6 1B 68					dta a(level12)
    62 53E8 30 68					dta a(level13)
    63 53EA 45 68					dta a(level14)
    64 53EC 5C 68					dta a(level15)
    65 53EE 6F 68					dta a(level16)
    66 53F0 80 68					dta a(level17)
    67 53F2 93 68					dta a(level18)
    68 53F4 AA 68					dta a(level19)
    69 53F6 C3 68					dta a(level20)
    70 53F8 D8 68					dta a(level21)
    71 53FA ED 68					dta a(level22) 	
    72 53FC 00 69					dta a(level23)
    73 53FE 19 69					dta a(level24)
    74 5400 36 69					dta a(level25)
    75 5402 5B 69					dta a(level26)
    76 5404 78 69					dta a(level27)
    77 5406 8D 69					dta a(level28)
    78 5408 B0 69					dta a(level29)
    79 540A CD 69					dta a(level30)
    80 540C EE 69					dta a(level31)
    81 540E 0F 6A					dta a(level32)
    82
    83 5410 FF 1E 28 32 3C 46 + openTab	dta b(255,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170)
    84 5420 1E 28 32 3C 46 50 + closeTab dta b(30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180)
    85
    86 5430 80 40 20 10 08 04 + radarBazy1	dta b(128,64,32,16,8,4,2,1,0,0,0,0)   ;pozycja X bazy na radarze sprit3
    87 543C 00 00 00 00 00 00 + radarBazy2	dta b(0,0,0,0,0,0,0,0,32,16,8,4)		;pociski 3 i 2	
    88
    89 5448 20 30 40		spyScoreTab	dta b($20,$30,$40)
    90
    91 544B B3 BD C7		tablives		dta b(179,189,199)
    92 							//dta b(170,191,201)		;chyba nieuzywane
    93 							
    94
    95
    96 				;tabela kolorow
    97 = 544E			conditionC	equ *
    98 544E C8 FC 46					dta b(kolorGreen,kolorYellow,kolorRed)
    99
   100 				;1 duszek
   101 = 5451			condition1	equ * ;24b
   102 5451 F2					dta b(%11110010)		;green
   103 5452 EE EE EE				:3 dta b(%11101110)
   104 5455 EA EA				:2 dta b(%11101010)
   105 5457 E2					dta b(%11100010)
   106 5458 00					dta b(0)
   107
   108 5459 A8					   dta b(%10101000)		;yellow
   109 545A AB AB				:2 dta b(%10101011)
   110 545C 89					   dta b(%10001001)
   111 545D DB DB				:2 dta b(%11011011)
   112 545F D8					   dta b(%11011000)
   113 5460 00					dta b(0)
   114 						
   115 5461 CC					dta b(%11001100)		;red
   116 5462 D5 D5				:2 dta b(%11010101)
   117 5464 CC					dta b(%11001100)
   118 5465 D5 D5				:2 dta b(%11010101)
   119 5467 D4					dta b(%11010100)
   120 5468 00					dta b(0)
   121
   122 				;2 duszek
   123 = 5469			condition2	equ *
   124 5469 62					dta b(%01100010)	;green
   125 546A AE AE				:2 dta b(%10101110)
   126 546C 66					dta b(%01100110)
   127 546D AE AE				:2 dta b(%10101110)
   128 546F A2					dta b(%10100010)
   129 5470 00					dta b(0)
   130 						
   131 5471 BB BB BB BB BB BB			:6 dta b(%10111011)	;yellow
   132 5477 88					   dta b(%10001000)
   133 5478 00					dta b(0)
   134 					
   135 5479 4F					dta b(%01001111)		;red
   136 547A D7 D7 D7 D7 D7			:5 dta b(%11010111)
   137 547F 4F					dta b(%01001111)
   138 5480 00					dta b(0)
   139 						
   140 				;3duszek
   141 = 5481			condition3	equ *
   142 5481 27					dta b(%00100111)		;green
   143 5482 EB EB				:2 dta b(%11101011)
   144 5484 6B					dta b(%01101011)
   145 5485 EB EB				:2 dta b(%11101011)
   146 5487 2B					dta b(%00101011)
   147 5488 00					dta b(0)
   148 						
   149 5489 CA					   dta b(%11001010)		;yellow
   150 548A AA AA AA				:3 dta b(%10101010)
   151 548D A8 A8				:2 dta b(%10101000)
   152 548F 9A					   dta b(%10011010)
   153 5490 00					dta b(0)
   154 						
   155 5491 CC CC CC				:3 dta b(%11001100)			;red
   156 5494 DD					dta b(%11011101)
   157 5495 FF					dta b(255)
   158 5496 DD DD				:2 dta b(%11011101)
   159 5498 00					dta b(0)
   160 						
   161 = 5499			nap_form2	equ *
   162 5499 00 00 00			:3 dta b(0)		; strzala w gore
   163 549C 10 10			:2 dta b(%00010000)
   164 549E 00 00			:2 dta b(0)
   165 54A0 28 28			:2 dta b(%00101000)
   166 54A2 00 00			:2 dta b(0)
   167 54A4 44 44			:2 dta b(%01000100)
   168 54A6 00 00 00			:3 dta b(0)
   169
   170 54A9 00				dta b(0)				;linia
   171 54AA 10 10			:2 dta b(%00010000)
   172 54AC 00				dta b(0)
   173 54AD 10 10			:2 dta b(%00010000)
   174 54AF 00				dta b(0)
   175 54B0 10 10			:2 dta b(%00010000)
   176 54B2 00				dta b(0)
   177 54B3 10 10			:2 dta b(%00010000)
   178 54B5 00				dta b(0)
   179 54B6 10 10			:2 dta b(%00010000)
   180 54B8 00				dta b(0)
   181
   182 54B9 00 00 00			:3 dta b(0)
   183 54BC 44				dta b(%01000100)		;celownik ,kostka 5
   184 54BD 44				dta b(%01000100)
   185 54BE 00 00			:2 dta b(0)
   186 54C0 10				dta b(%00010000)
   187 54C1 10				dta b(%00010000)
   188 54C2 00 00			:2 dta b(0)
   189 54C4 44				dta b(%01000100)
   190 54C5 44				dta b(%01000100)
   191 54C6 00 00 00			:3 dta b(0)
   192 					
   193 54C9 00 00 00			:3 dta b(0)		;krzyzyk
   194 54CC 10				dta b(%00010000)
   195 54CD 10				dta b(%00010000)
   196 54CE 00 00			:2 dta b(0)
   197 54D0 92				dta b(%10010010)
   198 54D1 92				dta b(%10010010)
   199 54D2 00 00			:2 dta b(0)
   200 54D4 10				dta b(%00010000)
   201 54D5 10				dta b(%00010000)
   202 54D6 00 00 00			:3 dta b(0)
   203 					
   204 = 54D9			statek_zapas	equ *	
   205 54D9 00				dta b(%00000000)
   206 54DA 10				dta b(%00010000)
   207 54DB 10				dta b(%00010000)
   208 54DC 10				dta b(%00010000)
   209 54DD 10				dta b(%00010000)
   210 54DE 38				dta b(%00111000)
   211 54DF 28				dta b(%00101000)
   212 54E0 28				dta b(%00101000)
   213 54E1 AA				dta b(%10101010)
   214 54E2 AA				dta b(%10101010)
   215 54E3 FE				dta b(%11111110)
   216 54E4 FE				dta b(%11111110)
   217 54E5 D6				dta b(%11010110)
   218 54E6 92				dta b(%10010010)
   219 54E7 28				dta b(%00101000)
   220 54E8 28				dta b(%00101000)	
   221 					
   222 = 54E9			nap_1up	equ *
   223 54E9 25				dta b(%00100101)  ;player1
   224 54EA 65				dta b(%01100101)
   225 54EB 25				dta b(%00100101)
   226 54EC 25				dta b(%00100101)
   227 54ED 25				dta b(%00100101)
   228 54EE 25				dta b(%00100101)
   229 54EF 76				dta b(%01110110)
   230 					
   231 54F0 70				dta b(%01110000)    ;player 2
   232 54F1 50				dta b(%01010000)
   233 54F2 50				dta b(%01010000)
   234 54F3 70				dta b(%01110000)
   235 54F4 40				dta b(%01000000)
   236 54F5 40				dta b(%01000000)
   237 54F6 40				dta b(%01000000)	
   238
   239 					
   240 					
   241 					
   242 = 54F7			nap_form1	equ *
   243 54F7 36				dta b(%00110110)	;pociski
   244 54F8 25				dta b(%00100101)
   245 54F9 35				dta b(%00110101)
   246 54FA 25 25			:2 dta b(%00100101)
   247 54FC 00 00			dta b(0,0)
   248 54FE 05 05			:2 dta b(%00000101)
   249 5500 06				dta b(%00000110)
   250 5501 05 05			:2 dta b(%00000101)
   251 					
   252 5503 4C				dta b(%01001100)	;1duszek
   253 5504 AA				dta b(%10101010)
   254 5505 AC				dta b(%10101100)
   255 5506 AA				dta b(%10101010)
   256 5507 4A				dta b(%01001010)
   257 5508 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   258 					
   259 550F A4				dta b(%10100100)	;2duszek
   260 5510 EA				dta b(%11101010)
   261 5511 AE				dta b(%10101110)
   262 5512 AA AA			:2 dta b(%10101010)
   263 5514 00 00			dta b(0,0)
   264 5516 4D				dta b(%01001101)
   265 5517 A4				dta b(%10100100)
   266 5518 E4				dta b(%11100100)
   267 5519 A4 A4			:2 dta b(%10100100)
   268 					
   269 551B D2				dta b(%11010010)	;3duszek
   270 551C 55 55 55			:3 dta b(%01010101)
   271 551F 52				dta b(%01010010)
   272 5520 00 00			dta b(0,0)
   273 5522 93				dta b(%10010011)
   274 5523 AA				dta b(%10101010)
   275 5524 BA				dta b(%10111010)
   276 5525 AA				dta b(%10101010)
   277 5526 AB				dta b(%10101011)
   278
   279 					
   280 = 5527			nap_condition	equ *
   281 5527 36				   dta b(%00110110)	;pociski
   282 5528 25 25 25 25 25		:5 dta b(%00100101)
   283 552D 35				   dta b(%00110101)
   284 					
   285 552E 36				   dta b(%00110110)	;1duszek
   286 552F 55 55 55 55 55		:5 dta b(%01010101)
   287 5534 65				   dta b(%01100101)
   288 					
   289 5535 65				   dta b(%01100101)	;3duszek
   290 5536 54 54 54 54 54		:5 dta b(%01010100)
   291 553B 64				   dta b(%01100100)	
   292 					
   293 553C D3				   dta b(%11010011)	;3duszek
   294 553D 95 95 95 95 95		:5 dta b(%10010101)
   295 5542 96				   dta b(%10010110)
   296 					   
   297 = 5543			nap_hiscore	equ *
   298 5543 E7				dta b(%11100111)    ;pociski
   299 5544 D4				dta b(%11010100)
   300 5545 D4				dta b(%11010100)
   301 5546 E6				dta b(%11100110)
   302 5547 D4				dta b(%11010100)
   303 5548 D4				dta b(%11010100)
   304 5549 D7				dta b(%11010111)
   305 					
   306 554A 57				dta b(%01010111)   ;player1
   307 554B 52				dta b(%01010010)
   308 554C 52				dta b(%01010010)
   309 554D 72				dta b(%01110010)
   310 554E 52				dta b(%01010010)
   311 554F 52				dta b(%01010010)
   312 5550 57				dta b(%01010111)
   313 					
   314 5551 0C				dta b(%00001100)   ;player2
   315 5552 11				dta b(%00010001)
   316 5553 11				dta b(%00010001)
   317 5554 DD				dta b(%11011101)
   318 5555 05				dta b(%00000101)
   319 5556 05				dta b(%00000101)
   320 5557 18				dta b(%00011000)
   321 					
   322 5558 CD				dta b(%11001101)   ;player3
   323 5559 15				dta b(%00010101)
   324 555A 15				dta b(%00010101)
   325 555B 15				dta b(%00010101)
   326 555C 15				dta b(%00010101)
   327 555D 15				dta b(%00010101)
   328 555E D9				dta b(%11011001)
   329
   330
   331 = 555F			statekm_zapas	equ *
   332 555F 2A 2A 2A 2A			:4 dta b(%00101010)
   333 5563 00 00			:2 dta b(0)
   334 5565 3F				dta b(%00111111)
   335 5566 00				dta b(0)
   336 5567 2A 2A			:2 dta b(%00101010)
   337 					
   338 = 5569			nap_round	equ *
   339 5569 06				dta b(%00000110)	;pociski
   340 556A 05				dta b(%00000101)
   341 556B 05				dta b(%00000101)
   342 556C 05				dta b(%00000101)
   343 556D 05				dta b(%00000101)
   344 556E 05				dta b(%00000101)
   345 556F 06				dta b(%00000110)	
   346 					
   347 5570 63				dta b(%01100011)   ;1 duszek
   348 5571 55				dta b(%01010101)
   349 5572 55				dta b(%01010101)
   350 5573 65				dta b(%01100101)
   351 5574 55				dta b(%01010101)
   352 5575 55				dta b(%01010101)
   353 5576 56				dta b(%01010110)
   354 					
   355 5577 56				dta b(%01010110)  ;2 duszek
   356 5578 55				dta b(%01010101)
   357 5579 55				dta b(%01010101)
   358 557A 55				dta b(%01010101)
   359 557B 55				dta b(%01010101)
   360 557C 55				dta b(%01010101)
   361 557D 65				dta b(%01100101)
   362 					
   363
   364 = 557E			nap_0	equ *
   365 557E 07				dta b(%00000111)   ;0 w pociskach
   366 557F 05				dta b(%00000101)
   367 5580 05				dta b(%00000101)
   368 5581 05				dta b(%00000101)
   369 5582 05				dta b(%00000101)
   370 5583 05				dta b(%00000101)
   371 5584 07				dta b(%00000111)	
   372
   373 					
   374 				;dodaje punkty
   375 = 5585			dodajPunkty	equ *
   376 5585 C9 FF				cmp #$ff		;trafiony spy punkty od 200 do 400
   377 5587 D0 13				bne dpun1
   378 5589 AD 0A E8				lda random
   379 558C 29 03				and #%11
   380 558E 84 AC				sty pom0g
   381 5590 A8					tay
   382 5591 F0 01				beq @+
   383 5593 88					dey
   384 5594 B9 48 54		@		lda spyScoreTab,y
   385 5597 8C BD 35				sty spyScore
   386 559A A4 AC				ldy pom0g	
   387
   388 559C F8			dpun1	sed
   389 559D 18					clc
   390 559E 6D BB 35				adc plusScore
   391 55A1 8D BB 35				sta plusScore
   392 55A4 AD BC 35				lda plusScore+1
   393 55A7 69 00				adc #0
   394 55A9 8D BC 35				sta plusScore+1
   395 55AC D8					cld
   396 55AD 60					rts	
   397
   398 						
   399 = 55AE			initPoziom	equ *
   400 55AE A9 0C 85 C6				mva #12 movX
   401 55B2 A9 00 85 C7				mva #0 movY
   402 55B6 8D C2 35				sta licznikSpyScore
   403 55B9 A9 01 8D CA 36			mva #1 sJoy		;zeruj flage trafienia statku
   404 55BE 20 7C 77				jsr rstatekUp			;BRAK PROCEDURY
   405 55C1 A9 FF				lda #255
   406 55C3 8D C3 35 8D C4 35 + 		:5 sta pociski+#
   407 						
   408 55D2 8D BF 36				sta sfx_extra
   409 55D5 8D C0 36				sta sfx_rakieta
   410 55D8 8D C1 36				sta sfx_effect
   411 55DB 8D C2 36				sta sfx_dzialko
   412 55DE 8D C3 36				sta sfx_asteroid
   413 55E1 8D C4 36				sta sfx_bomba
   414 55E4 8D C5 36				sta sfx_wybuch
   415 55E7 8D C6 36				sta sfx_dead
   416 55EA 8D C7 36				sta sfx_antyair
   417 55ED 8D C8 36				sta sfx_enemyHit
   418 						
   419 55F0 A9 00 8D 0E 36			mva #0 liczbaPociskow
   420 55F5 85 C7				sta movY
   421 55F7 85 C2				sta trafienie
   422 55F9 8D 17 31				sta sfxlicznik1
   423 55FC 8D 0F 36				sta extraLicznik
   424 55FF 8D 10 36 8D 11 36 + 		:4 sta strzal+#
   425 560B 8D CB 36				sta rodzajSpeech
   426 560E 8D 4D 36				sta mwybuchystop
   427 5611 8D 4C 36				sta mwybuchystart
   428 5614 8D 4E 36				sta wybuchystart
   429 5617 8D 4F 36				sta wybuchystop
   430 561A 8D BB 35				sta plusScore
   431 561D 8D BC 35				sta plusScore+1
   432 5620 8D 50 36				sta nobanner
   433 					
   434 						
   435 					
   436 5623 8D 51 36				sta max_Enemy
   437 5626 8D 52 36				sta ile_enemy
   438 5629 8D 53 36				sta jestSpy
   439 562C 8D 54 36				sta spyScoreRysuj
   440 562F 8D 1D 34				sta formacja_stan
   441 5632 8D 18 31				sta formacja_radar
   442 						
   443 5635 A0 05				ldy #5
   444 5637 A9 00		@		lda #0
   445 5639 99 1F 32				sta enemy,y
   446 563C 99 25 32				sta enemyWybuch,y
   447 563F A9 01				lda #1
   448 5641 99 2B 32				sta enemyEkran,y
   449 5644 88					dey
   450 5645 10 F0				bpl @-
   451 						
   452 5647 A0 07				ldy #7					;wyczysc rakiety
   453 5649 A9 00				lda #0
   454 564B 99 E0 28		@		sta rakietyStan,y
   455 564E 99 88 02				sta rakietyMove,y
   456 5651 88					dey
   457 5652 10 F7				bpl @-
   458 						
   459 5654 A9 0C 85 C3				mva #12 startMapy
   460 5658 A9 07 8D 55 36			mva #opoznienieCondition punkty3
   461 565D A9 01 8D 56 36			mva #kondycja_start kondycja
   462 5662 A0 00				ldy #0
   463 5664 20 10 5C				jsr setCondition
   464 5667 20 3F 61				jsr piszCondition
   465 						
   466 566A A9 04 8D 57 36			mva #4 opozCoreA
   467 566F 8D 58 36				sta opozCoreB
   468 5672 A9 02 8D 59 36			mva #2 liczCoreA
   469 5677 8D 58 36				sta opozCoreB
   470 						
   471 						
   472 				;poziom trudnoÅ›ci
   473 				;kÄ…t strzaÅ‚u dziaÅ‚ek
   474 567A A2 0C				ldx #$0c
   475 567C AD 16 31				lda poziom
   476 567F C9 07				cmp #cannonAngle1
   477 5681 90 08				bcc @+
   478 5683 A2 0E				ldx #$0e
   479 5685 C9 12				cmp #cannonAngle2
   480 5687 90 02				bcc @+
   481 5689 A2 0F				ldx #$0f
   482 568B 8E 5B 36		@		stx kat1
   483 568E 8A					txa
   484 568F 0A 0A 0A 0A				:4 asl
   485 5693 8D 5C 36				sta kat2
   486 						
   487 5696 AD 16 31				lda poziom				;maksymalny kat
   488 5699 C9 20				cmp #cannonMaxAngle
   489 569B 90 08				bcc @+
   490 569D A9 FF				lda #255
   491 569F 8D 5B 36				sta kat1
   492 56A2 8D 5C 36				sta kat2
   493 = 56A5			@		equ *		
   494 						
   495 				;predkosc przeciwnikÃ³w
   496 56A5 A2 00				ldx #0*32
   497 56A7 AD 16 31				lda poziom
   498 56AA C9 06				cmp #enemy_speedUp_level1
   499 56AC 90 14				bcc @+
   500 56AE A2 20				ldx #1*32
   501 56B0 C9 11				cmp #enemy_speedUp_level2
   502 56B2 90 0E				bcc @+
   503 56B4 A2 40				ldx #2*32
   504 56B6 C9 1C				cmp #enemy_speedUp_level3
   505 56B8 90 08				bcc @+
   506 56BA A2 60				ldx #3*32
   507 56BC C9 2A				cmp #enemy_speedUp_level4
   508 56BE 90 02				bcc @+
   509 56C0 A2 80				ldx #4*32
   510 56C2 8E 5D 36		@		stx speedEnemy0		;poczatkowa predkoÅ›c enemy	
   511
   512 				;predkosc spy
   513 56C5 A2 60				ldx #3*32
   514 56C7 AD 16 31				lda poziom
   515 56CA C9 0F				cmp #spy_speedUp1
   516 56CC 90 0A				bcc @+
   517 56CE A2 80				ldx #4*32
   518 56D0 C9 1F				cmp #spy_speedUp2
   519 56D2 A2 A0				ldx #5*32
   520 56D4 C9 34				cmp #spy_speedUp3
   521 56D6 A2 C0				ldx #6*32
   522 56D8 8E C1 35		@		stx spySpeed
   523
   524 				;szybkosÄ‡ pojawiania sie enemy zaleznie od poziomu
   525 56DB A2 28				ldx #40				
   526 56DD AD 16 31				lda poziom
   527 56E0 C9 02				cmp #enemy_show_speed2
   528 56E2 90 1A				bcc @+
   529 56E4 A2 1E				ldx #30
   530 56E6 C9 09				cmp #enemy_show_speed3
   531 56E8 90 14				bcc @+
   532 56EA A2 1C				ldx #28
   533 56EC C9 11				cmp #enemy_show_speed4
   534 56EE 90 0E				bcc @+
   535 56F0 A2 1A				ldx #26
   536 56F2 C9 19				cmp #enemy_show_speed5
   537 56F4 90 08				bcc @+
   538 56F6 A2 18				ldx #24
   539 56F8 C9 23				cmp #enemy_show_speed6
   540 56FA 90 02				bcc @+
   541 56FC A2 16				ldx #22
   542 56FE 8E 5E 36		@		stx opoz_denemy
   543 5701 8E 5F 36				stx opoz_denemy1
   544 5704 8E 60 36				stx dlicz1
   545 						
   546 5707 A2 1E				ldx #30			;jak czÄ™sto pojawiajÄ… sie spy i formacja
   547 5709 AD 16 31				lda poziom
   548 570C C9 06				cmp #formspy_show_speed2
   549 570E 90 0E				bcc @+
   550 5710 A2 17				ldx #23
   551 5712 C9 0B				cmp #formspy_show_speed3
   552 5714 90 08				bcc @+
   553 5716 A2 11				ldx #17
   554 5718 C9 25				cmp #formspy_show_speed4
   555 571A 90 02				bcc @+
   556 571C A2 0C				ldx #12
   557 571E 8E 61 36		@		stx opoz_dlosuj
   558 5721 8E 62 36				stx losuj1
   559 						
   560 5724 A2 00				ldx #0			;typu formacji tylko 0, 0 i 1 lub wszystkie
   561 5726 AD 16 31				lda poziom
   562 5729 C9 07				cmp #formation_from_level+3
   563 572B 90 08				bcc @+
   564 572D A2 01				ldx #%1
   565 572F C9 0B				cmp #formation_from_level+7
   566 5731 90 02				bcc @+
   567 5733 A2 03				ldx #%11
   568 5735 8E 63 36		@		stx formacja_maska
   569
   570 5738 A2 60				ldx #3*32	;#64		;prÄ™dkoÅ›c formacji
   571 573A AD 16 31				lda poziom
   572 573D C9 06				cmp #formation_speedUp_level1
   573 573F 90 14				bcc @+
   574 5741 A2 80				ldx #4*32
   575 5743 C9 0C				cmp #formation_speedUp_level2
   576 5745 90 0E				bcc @+
   577 5747 A2 A0				ldx #5*32		;szybko	
   578 5749 C9 12				cmp #formation_speedUp_level3
   579 574B 90 08				bcc @+
   580 574D A2 C0				ldx #6*32
   581 574F C9 18				cmp #formation_speedUp_level4
   582 5751 90 02				bcc @+
   583 5753 A2 E0				ldx #7*32
   584 5755 8E 64 36		@		stx formacja_speed
   585
   586 5758 A2 00				ldx #0			;czy podczas formacji maja pojawic sie dodatkowi przeciwnicy
   587 575A AD 16 31				lda poziom
   588 575D C9 19				cmp #show_6enemy
   589 575F 90 02				bcc @+
   590 5761 A2 01				ldx #1
   591 5763 8E 65 36		@		stx czy_6enemy
   592
   593 5766 A2 00				ldx #0
   594 5768 AD 16 31				lda poziom
   595 576B C9 08				cmp #timeLevel1_up
   596 576D 90 10				bcc @+
   597 576F E8					inx
   598 5770 C9 10				cmp #timeLevel2_up
   599 5772 90 0B				bcc @+
   600 5774 E8					inx
   601 5775 C9 27				cmp #timeLevel3_up
   602 5777 90 06				bcc @+
   603 5779 E8					inx
   604 577A C9 3C				cmp #timeLevel4_up
   605 577C 90 01				bcc @+
   606 577E E8					inx
   607 577F 8E 66 36		@		stx timeLevel
   608
   609 				;predkoÅ›Ä‡ rotacji enemy
   610 5782 AE 16 31				ldx poziom
   611 5785 A9 0B 8D 67 36			mva #11 rotate_speed1
   612 578A A9 09 8D 68 36			mva #9 rotate_speed2
   613 578F E0 13				cpx #fast_rotate1
   614 5791 90 18				bcc @+
   615 5793 CE 67 36				dec rotate_speed1
   616 5796 E0 15				cpx #fast_rotate2
   617 5798 90 11				bcc @+
   618 579A CE 68 36				dec rotate_speed2
   619 579D E0 23				cpx #fast_rotate3
   620 579F 90 0A				bcc @+
   621 57A1 CE 67 36				dec rotate_speed1	
   622 57A4 E0 36				cpx #fast_rotate4
   623 57A6 90 03				bcc @+
   624 57A8 CE 68 36				dec rotate_speed2		
   625 57AB AD 67 36 8D 69 36	@		mva rotate_speed1 rotate_speed1d
   626 57B1 AD 68 36 8D 6A 36			mva rotate_speed2 rotate_speed2d
   627 						
   628 				;maksymalna liczba pociskow		
   629 57B7 A2 02				ldx #2
   630 57B9 AD 16 31				lda poziom
   631 57BC C9 0C				cmp #ilePociskow4
   632 57BE 90 06				bcc @+
   633 57C0 E8					inx
   634 57C1 C9 18				cmp #ilePociskow5
   635 57C3 90 01				bcc @+
   636 57C5 E8					inx
   637 57C6 8E 6B 36		@		stx maxPociskow
   638 57C9 E8					inx
   639 57CA 86 CA				stx maxPociskow1
   640 						
   641 				;szybkosc strzelania dzialka
   642 57CC A2 14				ldx #20
   643 57CE AD 16 31				lda poziom
   644 57D1 C9 0C				cmp #12
   645 57D3 90 08				bcc @+
   646 57D5 A2 0F				ldx #15
   647 57D7 C9 0F				cmp #15
   648 57D9 90 02				bcc @+
   649 57DB A2 0D				ldx #13
   650 						
   651 57DD 8E CC 36		@		stx opoznieniePocisku
   652 						
   653 57E0 60					rts
   654 						
   655 							
   656 = 57E1			wczytajLevel	equ *
   657 57E1 A9 00 8D 6C 36				mva #0 zbiteBazy
   658 57E6 85 A5					sta pom0	;liczba baz
   659 57E8 AD 16 31					lda poziom
   660 57EB 38						sec
   661 57EC E9 01					sbc #1
   662 57EE 29 1F					and #31		;zapÄ™tlamy levele		
   663 									
   664 57F0 0A						asl @
   665 57F1 AA						tax
   666 57F2 BD D0 53					lda levelAdr,x
   667 57F5 85 9B					sta pom
   668 57F7 BD D1 53					lda levelAdr+1,x
   669 57FA 85 9C					sta pom+1
   670 							
   671 57FC A0 00					ldy #0
   672 57FE B1 9B					lda (pom),y		;reset pozycji startowych
   673 5800 29 7F					and #%01111111
   674 							
   675 5802 AE 16 31					ldx poziom		
   676 5805 E0 21					cpx #33
   677 5807 90 04					bcc obrpoz3
   678 5809 49 FF					eor #255			;po zapetleniu obroc pozycje x startowa
   679 580B 69 61					adc #97
   680 = 580D			obrpoz3		equ *			
   681 							
   682 580D 8D 6D 36					sta startX
   683 5810 85 BA					sta posX
   684 5812 B1 9B					lda (pom),y
   685 5814 29 80					and #128
   686 5816 AE 16 31					ldx poziom
   687 5819 E0 21					cpx #maxPoziomow+1
   688 581B 90 02					bcc *+4
   689 581D A9 80					lda #128			; zawsze bedÄ… rakiety, jesli poziom>32
   690 581F 85 CB					sta czyRakiety
   691 5821 C8						iny
   692 5822 B1 9B					lda (pom),y
   693 5824 8D 6E 36					sta startY
   694 5827 85 BB					sta posY
   695 5829 C8						iny
   696 582A B1 9B					lda (pom),y
   697 582C 4A 4A 4A 4A					:4 lsr
   698 5830 AA						tax
   699 5831 BD 10 54					lda openTab,x
   700 5834 8D 6F 36					sta czasOtwarcia
   701 5837 B1 9B					lda (pom),y
   702 5839 29 0F					and #%00001111
   703 583B AA						tax
   704 583C BD 20 54					lda closeTab,x
   705 583F 8D 70 36					sta czasZamkniecia
   706 5842 C8						iny
   707 5843 B1 9B					lda (pom),y
   708 5845 29 F0					and #%11110000
   709 5847 09 0F					ora #$0f
   710 							
   711 5849 8D 16 C0					sta COLPF0
   712 584C B1 9B					lda (pom),y
   713 584E 0A 0A 0A 0A					:4 asl
   714 5852 09 06					ora #$06
   715 5854 8D 18 C0					sta COLPF2
   716 							
   717 5857 C8						iny
   718 5858 B1 9B					lda (pom),y
   719 585A 85 CC					sta bazyIle
   720 							
   721 585C AD 16 31					lda poziom				;jeÅ›li zapÄ™tlenie poziomÃ³w to zwiÄ™ksz poziom trudnoÅ›ci
   722 585F C9 21					cmp #33
   723 5861 90 17					bcc @+1
   724 5863 AD 70 36					lda czasZamkniecia
   725 5866 69 04					adc #4  ;c=1 -> +1
   726 5868 8D 70 36					sta czasZamkniecia
   727 586B AD 6F 36					lda czasOtwarcia
   728 586E C9 FF					cmp #255
   729 5870 D0 02					bne @+
   730 5872 A9 32					lda #50
   731 5874 38			@			sec
   732 5875 E9 05					sbc #5
   733 5877 8D 6F 36					sta czasOtwarcia
   734 = 587A			@			equ *			
   735 							
   736 587A 20 AE 55					jsr initPoziom
   737 							
   738 587D 20 E1 37					jsr mute_rmt
   739
   740
   741 5880 20 DF 7D					jsr initJadra
   742 						
   743 5883 A9 91					lda #60+85		;wydluÅ¼enie dla pierwszego poziomu
   744 5885 85 C3					sta startMapy
   745 5887 A9 01 85 71					mva #1 muzyka	;wlacz muzyke startowa
   746 							
   747 588B 18						clc
   748 588C A5 9B					lda pom
   749 588E 69 05					adc #5
   750 5890 85 9B					sta pom
   751 5892 90 02					bcc @+
   752 5894 E6 9C					inc pom+1
   753 							
   754 5896 A2 00		@			ldx #0
   755 5898 A0 00		wcl2		ldy #0
   756 589A B1 9B					lda (pom),y
   757 589C 29 80					and #128
   758 589E 0A						asl
   759 589F 2A						rol
   760 58A0 9D 90 02					sta bazyRodzaj,x		;rodzaj obiektu, 255=koniec
   761 							
   762 58A3 A9 3F					lda #%00111111		;stan bazy
   763 58A5 9D A0 02					sta bazyStan,x
   764 58A8 A9 FF					lda #255
   765 58AA 9D B0 02					sta bazyRakieta,x		;wyzeruj rakiety	
   766 58AD B1 9B					lda (pom),y		;pozycja X
   767 58AF 29 7F					and #127
   768 							
   769 58B1 48						pha
   770 58B2 AD 16 31					lda poziom 
   771 58B5 C9 21					cmp #33
   772 58B7 90 06					bcc obrpoz1
   773 58B9 68						pla					;obracamy pozycje X bazy
   774 58BA 49 FF					eor #255
   775 58BC 69 78					adc #120
   776 58BE 48						pha
   777 58BF 68			obrpoz1		pla
   778 							
   779 58C0 9D C0 02					sta bazyX,x
   780 58C3 C8						iny
   781 58C4 B1 9B					lda (pom),y		;pozycja Y
   782 58C6 9D E0 02					sta bazyY,x
   783 58C9 18						clc
   784 58CA A5 9B					lda pom
   785 58CC 69 02					adc #2
   786 58CE 85 9B					sta pom
   787 58D0 90 02					bcc @+
   788 58D2 E6 9C					inc pom+1
   789 							
   790 58D4 A9 03		@			lda #b
   791 58D6 9D 00 09					sta bazyCannon0a,x
   792 58D9 9D 40 09					sta bazyCannon1a,x
   793 58DC 9D 80 09					sta bazyCannon2a,x
   794 58DF 9D C0 09					sta bazyCannon3a,x
   795 58E2 9D 00 0A					sta bazyCannon4a,x
   796 58E5 9D 40 0A					sta bazyCannon5a,x
   797 58E8 A9 05					lda #b+2
   798 58EA 9D 10 09					sta bazyCannon0b,x
   799 58ED 9D 50 09					sta bazyCannon1b,x
   800 58F0 9D 90 09					sta bazyCannon2b,x
   801 58F3 9D D0 09					sta bazyCannon3b,x
   802 58F6 9D 10 0A					sta bazyCannon4b,x
   803 58F9 9D 50 0A					sta bazyCannon5b,x
   804 58FC A9 04					lda #b+1
   805 58FE 9D 20 09					sta bazyCannon0c,x
   806 5901 9D 60 09					sta bazyCannon1c,x
   807 5904 9D A0 09					sta bazyCannon2c,x
   808 5907 9D E0 09					sta bazyCannon3c,x
   809 590A 9D 20 0A					sta bazyCannon4c,x
   810 590D 9D 60 0A					sta bazyCannon5c,x
   811 5910 A9 06					lda #b+3
   812 5912 9D 30 09					sta bazyCannon0d,x
   813 5915 9D 70 09					sta bazyCannon1d,x
   814 5918 9D B0 09					sta bazyCannon2d,x
   815 591B 9D F0 09					sta bazyCannon3d,x
   816 591E 9D 30 0A					sta bazyCannon4d,x
   817 5921 9D 70 0A					sta bazyCannon5d,x
   818 							
   819 5924 E8			@			inx
   820 5925 E4 CC					cpx bazyIle
   821 5927 B0 03 4C 98 58				jcc wcl2	
   822 							
   823 				//losowe obiekty ;)			
   824 592C AE 16 31					ldx poziom			
   825 							;mva #128 bombile
   826 592F A9 40					lda #64
   827 5931 E0 0A					cpx #10
   828 5933 90 08					bcc @+
   829 5935 A9 60					lda #96
   830 5937 E0 14					cpx #20
   831 5939 90 02					bcc @+
   832 593B A9 80					lda #128
   833 593D 85 D1		@			sta bombile
   834
   835 593F A2 00					ldx #0
   836 							
   837 5941 AD 0A E8		@			lda random
   838 5944 29 01					and #1
   839 5946 9D 80 0A					sta bombRodzaj,x
   840 							
   841 5949 AD 0A E8		@			lda random
   842 594C 29 7E					and #%01111110	
   843 594E 9D 80 27					sta bombX,x
   844 5951 AD 0A E8					lda random
   845 5954 29 FE					and #%11111110
   846 5956 9D 00 28					sta bombY,x
   847
   848 5959 20 C0 59					jsr sprawdz_bazy
   849 595C D0 EB					bne @-		;pozycja pod bazÄ…, jeszcze raz
   850 595E 20 ED 59					jsr sprawdz_obiekty
   851 5961 D0 E6					bne @-
   852 5963 20 1E 5A					jsr sprawdz_start
   853 5966 D0 E1					bne @-
   854 							
   855 5968 E8						inx
   856 5969 E4 D1					cpx bombile
   857 596B 90 D4					bcc @-1
   858
   859 							;mva #BANK0 PORTB	;wlacz podstawowy bank
   860 							
   861 							
   862 				//segregowanie obiektÃ³w			
   863 596D A2 00		@			ldx #0
   864 596F 86 A5					stx pom0
   865 5971 E8						inx
   866 							
   867 5972 BD FF 27		@			lda bombY-1,x
   868 5975 DD 00 28					cmp bombY,x
   869 5978 90 2A					bcc segr_next
   870 597A F0 02					beq segr_rowne
   871 597C B0 0A					bcs segr_zamien
   872 							//gdy rowne
   873 597E			segr_rowne			
   874 597E BD 7F 27					lda bombX-1,x
   875 5981 DD 80 27					cmp bombX,x
   876 5984 90 1E					bcc segr_next
   877 5986 F0 1C					beq segr_next
   878 							//zamiana
   879 5988			segr_zamien
   880 5988 BD 7F 27					lda bombX-1,x
   881 598B BC 80 27					ldy bombX,x
   882 598E 9D 80 27					sta bombX,x
   883 5991 98						tya
   884 5992 9D 7F 27					sta bombX-1,x
   885 5995 BD FF 27					lda bombY-1,x
   886 5998 BC 00 28					ldy bombY,x
   887 599B 9D 00 28					sta bombY,x
   888 599E 98						tya
   889 599F 9D FF 27					sta bombY-1,x
   890 59A2 E6 A5					inc pom0
   891 59A4			segr_next	
   892 59A4 E8						inx
   893 59A5 E4 D1					cpx bombIle
   894 59A7 90 C9					bcc @-
   895 59A9 A5 A5					lda pom0
   896 59AB D0 C0					bne @-1			
   897 							
   898 59AD A4 CC					ldy bazyIle			;wyczysc rakiety w bazach
   899 59AF A9 FF					lda #255
   900 59B1 99 AF 02		@			sta bazyRakieta-1,y
   901 59B4 88						dey
   902 59B5 D0 FA					bne @-
   903 							
   904 							
   905 59B7 20 99 5A					jsr tabBazy
   906 59BA 20 93 66					jsr piszPoziom
   907 59BD 4C 49 5A					jmp tabBomby
   908 							
   909 59C0			sprawdz_bazy	
   910 59C0 A4 CC					ldy bazyIle
   911 59C2 38			@			sec
   912 59C3 B9 BF 02					lda bazyX-1,y
   913 59C6 FD 80 27					sbc bombX,x
   914 59C9 B0 04					bcs *+6
   915 59CB 49 FF					eor #255
   916 59CD 69 01					adc #1
   917 59CF C9 09					cmp #9
   918 59D1 B0 14					bcs @+
   919 							
   920 59D3 38						sec
   921 59D4 B9 DF 02					lda bazyY-1,y
   922 59D7 FD 00 28					sbc bombY,x
   923 59DA B0 04					bcs *+6
   924 59DC 49 FF					eor #255
   925 59DE 69 01					adc #1
   926 59E0 C9 09					cmp #9
   927 59E2 B0 03					bcs @+
   928 							
   929 59E4 A9 01					lda #1		;na bazie
   930 59E6 60						rts
   931 							
   932 59E7 88			@			dey
   933 59E8 D0 D8					bne @-1
   934 							
   935 59EA A9 00					lda #0		;ok
   936 59EC 60						rts
   937 							
   938 59ED			sprawdz_obiekty
   939 59ED 8A						txa
   940 59EE D0 01					bne *+3
   941 59F0 60						rts
   942 59F1 A8						tay
   943 59F2 88						dey
   944 							
   945 59F3 BD 00 28		@			lda bombY,x
   946 59F6 38						sec
   947 59F7 F9 00 28					sbc bombY,y
   948 59FA B0 04					bcs *+6
   949 59FC 49 FF					eor #255
   950 59FE 69 01					adc #1
   951 5A00 C9 03					cmp #3
   952 5A02 B0 14					bcs @+
   953 							
   954 5A04 BD 80 27					lda bombX,x
   955 5A07 38						sec
   956 5A08 F9 80 27					sbc bombX,y
   957 5A0B B0 04					bcs *+6
   958 5A0D 49 FF					eor #255
   959 5A0F 69 01					adc #1
   960 5A11 C9 03					cmp #3
   961 5A13 B0 03					bcs @+
   962 							
   963 5A15 A9 01					lda #1		;pokrywa siÄ™ z innÄ… bombÄ…
   964 5A17 60						rts
   965 							
   966 5A18 88			@			dey
   967 5A19 10 D8					bpl @-1
   968 5A1B			spr_ok			
   969 5A1B A9 00					lda #0		;ok
   970 5A1D 60						rts
   971 							
   972 5A1E			sprawdz_start	
   973 5A1E 18						clc
   974 5A1F AD 6D 36					lda startx
   975 5A22 69 0F					adc #15
   976 5A24 38						sec
   977 5A25 FD 80 27					sbc bombX,x
   978 5A28 B0 04					bcs @+
   979 5A2A 49 FF					eor #255
   980 5A2C 69 01					adc #1
   981 5A2E C9 08		@			cmp #8
   982 5A30 B0 E9					bcs spr_ok
   983 							
   984 5A32 18			@			clc
   985 5A33 AD 6E 36					lda startY
   986 5A36 69 0E					adc #14
   987 5A38 38						sec
   988 5A39 FD 00 28					sbc bombY,x
   989 5A3C B0 04					bcs @+
   990 5A3E 49 FF					eor #255
   991 5A40 69 01					adc #1
   992 5A42 C9 08		@			cmp #8
   993 5A44 B0 D5					bcs spr_ok
   994 							
   995 5A46 A9 01					lda #1		;za blisko startu
   996 5A48 60						rts			
   997
   998
   999
  1000 = 5A49			tabBomby	equ *
  1001 5A49 A6 D1					ldx bombIle
  1002 5A4B D0 01					bne @+
  1003 5A4D 60						rts
  1004 							
  1005 5A4E BD FF 27		@			lda bombY-1,x
  1006 5A51 18						clc
  1007 5A52 69 01					adc #1
  1008 5A54 A8						tay
  1009 5A55 86 A5					stx pom0			;nr bomby w pom0
  1010 							
  1011 5A57 E4 D1					cpx bombIle
  1012 5A59 D0 02					bne *+4
  1013 5A5B 84 A7					sty pom0b			;koncowy indeks, ustalany na poczatku
  1014 							
  1015 5A5D A2 1E					ldx #28+2		;licznik 28+wysokoscBomby	
  1016 							
  1017 5A5F A5 A5					lda pom0				;wypelniaj pola wartoscia danej bazy
  1018 5A61 99 00 2B		@			sta tabBomb1,y
  1019 5A64 88						dey
  1020 5A65 C4 A7					cpy pom0b
  1021 5A67 F0 03					beq @+
  1022 5A69 CA						dex
  1023 5A6A D0 F5					bne @-
  1024 							
  1025 5A6C AA			@			tax
  1026 5A6D CA						dex
  1027 5A6E D0 DE					bne @-2			;next bomba
  1028
  1029 				;ostatnia bomba
  1030 5A70 A2 01					ldx #1
  1031 							
  1032 5A72 BD FF 27		@			lda bombY-1,x		;pozycja startowa Ybomby-28
  1033 5A75 38						sec
  1034 5A76 E9 1C					sbc #28
  1035 5A78 A8						tay
  1036 							
  1037 5A79 E0 01					cpx #1
  1038 5A7B D0 02					bne *+4
  1039 5A7D 84 A7					sty pom0b			;koncowy indeks
  1040 							
  1041 5A7F 86 A5					stx pom0			;nr bomby
  1042 							
  1043 5A81 A2 1E					ldx #28+2				;licznik 28+wysokoÅ›Ä‡ bomby
  1044 							
  1045 5A83 A5 A5					lda pom0
  1046 5A85 99 00 2C		@			sta tabBomb2,y
  1047 5A88 C8						iny
  1048 5A89 C4 A7					cpy pom0b
  1049 5A8B F0 03					beq @+			;next
  1050 5A8D CA						dex
  1051 5A8E D0 F5					bne @-
  1052 							
  1053 5A90 AA			@			tax
  1054 5A91 E8						inx
  1055 5A92 E4 D1					cpx bombIle
  1056 5A94 90 DC					bcc @-2
  1057 5A96 F0 DA					beq @-2
  1058
  1059 5A98 60						rts
  1060 					
  1061 5A99 A9 FF		tabBazy		lda #255
  1062 5A9B A2 00					ldx #0
  1063 5A9D 9D 00 29		@			sta tabBazy1,x
  1064 5AA0 9D 00 2A					sta tabBazy2,x
  1065 5AA3 9D 00 2B					sta tabBomb1,x
  1066 5AA6 9D 00 2C					sta tabBomb2,x
  1067 5AA9 CA						dex
  1068 5AAA D0 F1					bne @-
  1069 							
  1070 							
  1071 5AAC A6 CC					ldx bazyIle
  1072 							
  1073 5AAE BD 8F 02		@			lda bazyRodzaj-1,x		;pozycja startowa= pozycja bazy +wysokoscBazy-1
  1074 5AB1 85 A6					sta pom0a
  1075 5AB3 18						clc
  1076 5AB4 69 07					adc #7
  1077 5AB6 7D DF 02					adc bazyY-1,x
  1078 5AB9 A8						tay
  1079 5ABA 86 A5					stx pom0			;nr bazy w pom0
  1080 							
  1081 5ABC E4 CC					cpx bazyIle
  1082 5ABE D0 02					bne *+4
  1083 5AC0 84 A7					sty pom0b			;koncowy indeks
  1084 							
  1085 5AC2 A9 24					lda #28+8		;licznik 28+wysokoscBazy
  1086 5AC4 18						clc
  1087 5AC5 65 A6					adc pom0a
  1088 5AC7 AA						tax
  1089 							
  1090 							
  1091 5AC8 A5 A5					lda pom0				;wypelniaj pola wartoscia danej bazy
  1092 5ACA 99 00 29		@			sta tabBazy1,y
  1093 5ACD 88						dey
  1094 5ACE C4 A7					cpy pom0b
  1095 5AD0 F0 03					beq @+
  1096 5AD2 CA						dex
  1097 5AD3 D0 F5					bne @-
  1098 							
  1099 5AD5 AA			@			tax
  1100 5AD6 CA						dex
  1101 5AD7 D0 D5					bne @-2			;next baza
  1102 							
  1103 							
  1104 				;ostatnia baza
  1105 5AD9 A2 01					ldx #1
  1106 							
  1107 5ADB BD DF 02		@			lda bazyY-1,x		;pozycja startowa Ybazy-28
  1108 5ADE 38						sec
  1109 5ADF E9 1C					sbc #28
  1110 5AE1 A8						tay
  1111 							
  1112 5AE2 E0 01					cpx #1
  1113 5AE4 D0 02					bne *+4
  1114 5AE6 84 A7					sty pom0b			;koncowy indeks
  1115 							
  1116 5AE8 86 A5					stx pom0			;nr bazy
  1117 							
  1118 							
  1119 5AEA BD 8F 02					lda bazyRodzaj-1,x		;licznik 28+wysokoscbazy
  1120 5AED 18						clc
  1121 5AEE 69 24					adc #8+28
  1122 5AF0 AA						tax
  1123 							
  1124 5AF1 A5 A5					lda pom0
  1125 5AF3 99 00 2A		@			sta tabBazy2,y
  1126 5AF6 C8						iny
  1127 5AF7 C4 A7					cpy pom0b
  1128 5AF9 F0 03					beq @+			;next
  1129 5AFB CA						dex
  1130 5AFC D0 F5					bne @-
  1131 							
  1132 5AFE AA			@			tax
  1133 5AFF E8						inx
  1134 5B00 E4 CC					cpx bazyIle
  1135 5B02 90 D7					bcc @-2
  1136 5B04 F0 D5					beq @-2
  1137 							
  1138 5B06 60						rts
  1139
  1140 							
  1141 							
  1142 				;pokazuje/ukrywa baze na radarze  , nr bazy w Y
  1143 = 5B07			eorBazaRadar	equ *
  1144 5B07 B9 BF 02					lda bazyX-1,y
  1145 5B0A 4A						lsr @
  1146 5B0B 4A						lsr @
  1147 5B0C 4A						lsr @
  1148 5B0D 38						sec
  1149 5B0E E9 02					sbc #2
  1150 5B10 10 02					bpl *+4
  1151 5B12 A9 00					lda #0
  1152 5B14 AA						tax
  1153 5B15 BD 30 54					lda radarBazy1,x
  1154 5B18 85 9B					sta pom
  1155 5B1A BD 3C 54					lda radarBazy2,x
  1156 5B1D 85 9C					sta pom+1
  1157 5B1F BE DF 02					ldx bazyY-1,y
  1158 5B22 BD 00 42					lda tabDiv100,x
  1159 5B25 AA						tax
  1160 5B26 BD 64 06					lda sprites+$600+startWyniki+84,x
  1161 5B29 45 9B					eor pom
  1162 5B2B 9D 64 06					sta sprites+$600+startWyniki+84,x
  1163 5B2E BD 65 06					lda sprites+$600+startWyniki+84+1,x
  1164 5B31 45 9B					eor pom
  1165 5B33 9D 65 06					sta sprites+$600+startWyniki+84+1,x
  1166 5B36 BD 66 06					lda sprites+$600+startWyniki+84+2,x
  1167 5B39 45 9B					eor pom
  1168 5B3B 9D 66 06					sta sprites+$600+startWyniki+84+2,x
  1169 5B3E BD 64 03					lda sprites+$300+startWyniki+84,x
  1170 5B41 45 9C					eor pom+1
  1171 5B43 9D 64 03					sta sprites+$300+startWyniki+84,x
  1172 5B46 BD 65 03					lda sprites+$300+startWyniki+84+1,x
  1173 5B49 45 9C					eor pom+1
  1174 5B4B 9D 65 03					sta sprites+$300+startWyniki+84+1,x
  1175 5B4E BD 66 03					lda sprites+$300+startWyniki+84+2,x
  1176 5B51 45 9C					eor pom+1
  1177 5B53 9D 66 03					sta sprites+$300+startWyniki+84+2,x
  1178 5B56 60						rts
  1179 							
  1180 				;pokazuje bazy na radarze	(wszystkie)		
  1181 = 5B57			pokazBazyRadar	equ	*
  1182 5B57 A9 00					lda #0
  1183 5B59 A0 64					ldy #100		;czyszczenie baz na radarze
  1184 5B5B 99 64 06		@			sta sprites+$600+startWyniki+84,y
  1185 5B5E 99 64 03					sta sprites+$300+startWyniki+84,y
  1186 5B61 88						dey
  1187 5B62 D0 F7					bne @-
  1188 							
  1189 5B64 A4 CC					ldy bazyIle
  1190 							
  1191 5B66 20 07 5B		@			jsr eorBazaRadar
  1192 							
  1193 5B69 88						dey
  1194 5B6A D0 FA					bne @-
  1195 							
  1196 5B6C 60						rts			
  1197
  1198 				;rysyje polozenie statku na radarze
  1199 = 5B6D			radar	equ *		
  1200 5B6D AD C0 35				lda rads1	
  1201 5B70 30 1F				bmi @+		;<0 nic nie trzeba zmazywac
  1202 						
  1203 5B72 A4 D2				ldy rads		;wymaz w poprzedniej pozycji
  1204 5B74 B9 64 03				lda sprites+$300+startWyniki+84,y
  1205 5B77 29 FC				and #%11111100
  1206 5B79 99 64 03				sta sprites+$300+startWyniki+84,y
  1207 5B7C B9 65 03				lda sprites+$300+startWyniki+84+1,y
  1208 5B7F 29 FC				and #%11111100
  1209 5B81 99 65 03				sta sprites+$300+startWyniki+84+1,y
  1210 						
  1211 5B84 AD C0 35				lda rads1
  1212 5B87 F0 08				beq @+		;wszystko juz zmazane
  1213 5B89 B9 66 03				lda sprites+$300+startWyniki+84+2,y		;dodatkowe 2 punkty zmazujemy po formacji
  1214 5B8C 29 FC				and #%11111100
  1215 5B8E 99 66 03				sta sprites+$300+startWyniki+84+2,y
  1216
  1217 = 5B91			@		equ *		
  1218 5B91 EE 86 36				inc mryganieRadarX
  1219 5B94 AD 86 36				lda mryganieRadarX
  1220 5B97 29 04				and #%100
  1221 5B99 F0 30				beq @+		;puste lub formacja
  1222 						
  1223 5B9B A5 BB				lda posY			;narysuj w nowej
  1224 5B9D 18					clc
  1225 5B9E 69 0D				adc #13
  1226 5BA0 AA					tax
  1227 5BA1 BC 00 42				ldy tabDiv100,x
  1228 						
  1229 5BA4 84 D2				sty rads
  1230 5BA6 B9 64 03				lda sprites+$300+startWyniki+84,y
  1231 5BA9 09 02				ora #2 
  1232 5BAB 99 64 03				sta sprites+$300+startWyniki+84,y
  1233 5BAE B9 65 03				lda sprites+$300+startWyniki+84+1,y
  1234 5BB1 09 02				ora #2
  1235 5BB3 99 65 03				sta sprites+$300+startWyniki+84+1,y
  1236 						
  1237 5BB6 A5 BA				lda posX  ;pozycja X dzielimy przez 4
  1238 5BB8 18					clc
  1239 5BB9 69 0F				adc #15
  1240 5BBB 29 7F				and #127
  1241 5BBD 4A					lsr @
  1242 5BBE 4A					lsr @
  1243 5BBF 18					clc
  1244 5BC0 69 B0				adc #pozWyniki-1
  1245 5BC2 8D C1 34				sta RadarX1
  1246 5BC5 A9 00 8D C0 35			mva #0 rads1		;do zmazania bedzie statek
  1247 						
  1248 5BCA 60					rts	
  1249 						
  1250 = 5BCB			@		equ *
  1251 5BCB AC 18 31				ldy formacja_radar
  1252 5BCE D0 08				bne @+
  1253 5BD0 8C C1 34				sty RadarX1		;y=0 poza ekranem
  1254 5BD3 88					dey
  1255 5BD4 8C C0 35				sty rads1		;y=-1 nic nie bÄ™dzie do zmazania
  1256 5BD7 60					rts
  1257 						
  1258 5BD8 AD 86 36		@		lda mryganieRadarX
  1259 5BDB 29 02				and #%10
  1260 5BDD D0 01				bne @+
  1261 5BDF 60					rts
  1262 5BE0 AE 42 32		@		ldx enemyY+5
  1263 5BE3 BC 00 42				ldy tabDiv100,x
  1264 						
  1265 5BE6 84 D2				sty rads
  1266 5BE8 B9 66 03				lda sprites+$300+startWyniki+84+2,y
  1267 5BEB 09 03				ora #3 
  1268 5BED 99 66 03				sta sprites+$300+startWyniki+84+2,y
  1269 5BF0 B9 64 03				lda sprites+$300+startWyniki+84,y
  1270 5BF3 09 03				ora #3
  1271 5BF5 99 64 03				sta sprites+$300+startWyniki+84,y
  1272 5BF8 B9 65 03				lda sprites+$300+startWyniki+84+1,y
  1273 5BFB 09 03				ora #3 
  1274 5BFD 99 65 03				sta sprites+$300+startWyniki+84+1,y
  1275 						
  1276 5C00 AD 36 32				lda enemyX+5
  1277 5C03 4A					lsr
  1278 5C04 4A					lsr
  1279 5C05 69 B0				adc #pozWyniki-1
  1280 5C07 8D C1 34				sta RadarX1
  1281 5C0A A9 01 8D C0 35			mva #1 rads1		;do zmazania formacja
  1282 						
  1283 5C0F 60					rts
  1284
  1285
  1286
  1287 				;condition w y 0=green,1=yellow,2=red
  1288 = 5C10			setCondition	equ *
  1289 5C10 8C 19 31				sty kondycja_stan
  1290 					
  1291 5C13 AD 1D 34				lda formacja_stan
  1292 5C16 F0 05				beq @+
  1293 5C18 C9 05				cmp #5
  1294 5C1A F0 01				beq @+
  1295 5C1C 60					rts
  1296 					
  1297 5C1D B9 4E 54		@		lda conditionC,y
  1298 5C20 8D 7A 34				sta conditionColor
  1299 5C23 8D 82 34				sta conditionColor1
  1300 5C26 98					tya
  1301 5C27 0A					asl @
  1302 5C28 0A					asl @
  1303 5C29 0A					asl @
  1304 5C2A A8					tay
  1305 						
  1306 5C2B A9 FF				lda #255
  1307 						.rept 4, #
  1308 						STA SPRITES+$400+STARTWYNIKI+60+:1
  1309 						STA SPRITES+$400+STARTWYNIKI+60+11+:1
  1310 						STA SPRITES+$500+STARTWYNIKI+60+:1
  1311 						STA SPRITES+$500+STARTWYNIKI+60+11+:1
  1312 						STA SPRITES+$600+STARTWYNIKI+60+:1
  1313 						STA SPRITES+$600+STARTWYNIKI+60+11+:1
  1314 						.ENDR
  1314 						.endr
Source: REPT
  1308 5C2D 8D 4C 04				STA SPRITES+$400+STARTWYNIKI+60+0
  1308 5C30 8D 57 04				STA SPRITES+$400+STARTWYNIKI+60+11+0
  1308 5C33 8D 4C 05				STA SPRITES+$500+STARTWYNIKI+60+0
  1308 5C36 8D 57 05				STA SPRITES+$500+STARTWYNIKI+60+11+0
  1308 5C39 8D 4C 06				STA SPRITES+$600+STARTWYNIKI+60+0
  1308 5C3C 8D 57 06				STA SPRITES+$600+STARTWYNIKI+60+11+0
  1308 5C3F 8D 4D 04				STA SPRITES+$400+STARTWYNIKI+60+1
  1308 5C42 8D 58 04				STA SPRITES+$400+STARTWYNIKI+60+11+1
  1308 5C45 8D 4D 05				STA SPRITES+$500+STARTWYNIKI+60+1
  1308 5C48 8D 58 05				STA SPRITES+$500+STARTWYNIKI+60+11+1
  1308 5C4B 8D 4D 06				STA SPRITES+$600+STARTWYNIKI+60+1
  1308 5C4E 8D 58 06				STA SPRITES+$600+STARTWYNIKI+60+11+1
  1308 5C51 8D 4E 04				STA SPRITES+$400+STARTWYNIKI+60+2
  1308 5C54 8D 59 04				STA SPRITES+$400+STARTWYNIKI+60+11+2
  1308 5C57 8D 4E 05				STA SPRITES+$500+STARTWYNIKI+60+2
  1308 5C5A 8D 59 05				STA SPRITES+$500+STARTWYNIKI+60+11+2
  1308 5C5D 8D 4E 06				STA SPRITES+$600+STARTWYNIKI+60+2
  1308 5C60 8D 59 06				STA SPRITES+$600+STARTWYNIKI+60+11+2
  1308 5C63 8D 4F 04				STA SPRITES+$400+STARTWYNIKI+60+3
  1308 5C66 8D 5A 04				STA SPRITES+$400+STARTWYNIKI+60+11+3
  1308 5C69 8D 4F 05				STA SPRITES+$500+STARTWYNIKI+60+3
  1308 5C6C 8D 5A 05				STA SPRITES+$500+STARTWYNIKI+60+11+3
  1308 5C6F 8D 4F 06				STA SPRITES+$600+STARTWYNIKI+60+3
  1308 5C72 8D 5A 06				STA SPRITES+$600+STARTWYNIKI+60+11+3
Source: blevele.asm
  1315 5C75 A9 3F				lda #63
  1316 						.rept 4, #
  1317 						STA SPRITES+$300+STARTWYNIKI+60+:1
  1318 						STA SPRITES+$300+STARTWYNIKI+60+11+:1
  1319 						.ENDR
  1319 						.endr
Source: REPT
  1317 5C77 8D 4C 03				STA SPRITES+$300+STARTWYNIKI+60+0
  1317 5C7A 8D 57 03				STA SPRITES+$300+STARTWYNIKI+60+11+0
  1317 5C7D 8D 4D 03				STA SPRITES+$300+STARTWYNIKI+60+1
  1317 5C80 8D 58 03				STA SPRITES+$300+STARTWYNIKI+60+11+1
  1317 5C83 8D 4E 03				STA SPRITES+$300+STARTWYNIKI+60+2
  1317 5C86 8D 59 03				STA SPRITES+$300+STARTWYNIKI+60+11+2
  1317 5C89 8D 4F 03				STA SPRITES+$300+STARTWYNIKI+60+3
  1317 5C8C 8D 5A 03				STA SPRITES+$300+STARTWYNIKI+60+11+3
Source: blevele.asm
  1320 						
  1321 						
  1322 5C8F 8D 50 03 8D 51 03 + 		:7 sta sprites+$300+startWyniki+64+#
  1323 						
  1324 						
  1325 						.rept 7, #
  1326 						LDA CONDITION1+:1,Y
  1327 						STA SPRITES+$400+STARTWYNIKI+64+:1
  1328 						LDA CONDITION2+:1,Y
  1329 						STA SPRITES+$500+STARTWYNIKI+64+:1
  1330 						LDA CONDITION3+:1,Y
  1331 						STA SPRITES+$600+STARTWYNIKI+64+:1
  1332 						.ENDR
  1332 						.endr
Source: REPT
  1326 5CA4 B9 51 54				LDA CONDITION1+0,Y
  1326 5CA7 8D 50 04				STA SPRITES+$400+STARTWYNIKI+64+0
  1326 5CAA B9 69 54				LDA CONDITION2+0,Y
  1326 5CAD 8D 50 05				STA SPRITES+$500+STARTWYNIKI+64+0
  1326 5CB0 B9 81 54				LDA CONDITION3+0,Y
  1326 5CB3 8D 50 06				STA SPRITES+$600+STARTWYNIKI+64+0
  1326 5CB6 B9 52 54				LDA CONDITION1+1,Y
  1326 5CB9 8D 51 04				STA SPRITES+$400+STARTWYNIKI+64+1
  1326 5CBC B9 6A 54				LDA CONDITION2+1,Y
  1326 5CBF 8D 51 05				STA SPRITES+$500+STARTWYNIKI+64+1
  1326 5CC2 B9 82 54				LDA CONDITION3+1,Y
  1326 5CC5 8D 51 06				STA SPRITES+$600+STARTWYNIKI+64+1
  1326 5CC8 B9 53 54				LDA CONDITION1+2,Y
  1326 5CCB 8D 52 04				STA SPRITES+$400+STARTWYNIKI+64+2
  1326 5CCE B9 6B 54				LDA CONDITION2+2,Y
  1326 5CD1 8D 52 05				STA SPRITES+$500+STARTWYNIKI+64+2
  1326 5CD4 B9 83 54				LDA CONDITION3+2,Y
  1326 5CD7 8D 52 06				STA SPRITES+$600+STARTWYNIKI+64+2
  1326 5CDA B9 54 54				LDA CONDITION1+3,Y
  1326 5CDD 8D 53 04				STA SPRITES+$400+STARTWYNIKI+64+3
  1326 5CE0 B9 6C 54				LDA CONDITION2+3,Y
  1326 5CE3 8D 53 05				STA SPRITES+$500+STARTWYNIKI+64+3
  1326 5CE6 B9 84 54				LDA CONDITION3+3,Y
  1326 5CE9 8D 53 06				STA SPRITES+$600+STARTWYNIKI+64+3
  1326 5CEC B9 55 54				LDA CONDITION1+4,Y
  1326 5CEF 8D 54 04				STA SPRITES+$400+STARTWYNIKI+64+4
  1326 5CF2 B9 6D 54				LDA CONDITION2+4,Y
  1326 5CF5 8D 54 05				STA SPRITES+$500+STARTWYNIKI+64+4
  1326 5CF8 B9 85 54				LDA CONDITION3+4,Y
  1326 5CFB 8D 54 06				STA SPRITES+$600+STARTWYNIKI+64+4
  1326 5CFE B9 56 54				LDA CONDITION1+5,Y
  1326 5D01 8D 55 04				STA SPRITES+$400+STARTWYNIKI+64+5
  1326 5D04 B9 6E 54				LDA CONDITION2+5,Y
  1326 5D07 8D 55 05				STA SPRITES+$500+STARTWYNIKI+64+5
  1326 5D0A B9 86 54				LDA CONDITION3+5,Y
  1326 5D0D 8D 55 06				STA SPRITES+$600+STARTWYNIKI+64+5
  1326 5D10 B9 57 54				LDA CONDITION1+6,Y
  1326 5D13 8D 56 04				STA SPRITES+$400+STARTWYNIKI+64+6
  1326 5D16 B9 6F 54				LDA CONDITION2+6,Y
  1326 5D19 8D 56 05				STA SPRITES+$500+STARTWYNIKI+64+6
  1326 5D1C B9 87 54				LDA CONDITION3+6,Y
  1326 5D1F 8D 56 06				STA SPRITES+$600+STARTWYNIKI+64+6
Source: blevele.asm
  1333 						
  1334 						
  1335 5D22 A9 00 8D 5B 04			mva #0 sprites+$400+startWyniki+75
  1336 5D27 8D 5C 04				sta sprites+$400+startWyniki+76
  1337
  1338 5D2A 60					rts	
  1339
  1340 5D2B 0A 05 00		tab5	dta b(10,5,0)		
  1341
  1342 				;Wyswietlamy liczbe zyc
  1343 = 5D2E			printLives	equ *
  1344 5D2E AD 1A 31				lda lives
  1345 5D31 C9 04				cmp #4
  1346 5D33 90 02				bcc @+
  1347 5D35 A9 03				lda #3		;maksymalnie wyswietlamy 3 statki
  1348 5D37 85 A5		@		sta pom0
  1349 						
  1350 5D39 A2 02				ldx #2
  1351 5D3B BC 2B 5D		@		ldy tab5,x
  1352 5D3E BD 4B 54				lda tablives,x
  1353 5D41 E4 A5				cpx pom0
  1354 5D43 90 02				bcc @+
  1355 5D45 A9 00				lda #0
  1356 5D47 99 3F 35		@		sta poz2lives,y
  1357 5D4A F0 03				beq @+
  1358 5D4C 18					clc
  1359 5D4D 69 02				adc #2
  1360 5D4F 99 4E 35		@		sta poz2mlives,y
  1361 5D52 CA					dex
  1362 5D53 10 E6				bpl @-2
  1363 								
  1364 5D55 60					rts
  1365
  1366
  1367 						
  1368 				;czy ukonczono level
  1369 = 5D56			czyNowyLevel	equ *
  1370 5D56 A5 C2				lda trafienie
  1371 5D58 F0 01				beq *+3
  1372 5D5A 60					rts
  1373 						
  1374 5D5B AD 6C 36				lda zbiteBazy		;czy zbito juz wszystkie bazy
  1375 5D5E C5 CC				cmp bazyIle
  1376 5D60 F0 01				beq @+ 
  1377 5D62 60					rts
  1378 5D63 AD 50 36		@		lda nobanner
  1379 5D66 C9 02				cmp #2
  1380 5D68 90 0A				bcc @+
  1381 						
  1382 5D6A A9 00				lda #0		;wylacz przerwanie
  1383 5D6C 8D 0E E8				sta IRQEN
  1384 5D6F 85 6D				sta sirq
  1385 5D71 8D 06 E8				sta AUDF4 
  1386
  1387 5D74 AD 1D 34		@		lda formacja_stan
  1388 5D77 F0 11				beq @+
  1389 5D79 A9 00 8D 1D 34			mva #0 formacja_stan
  1390 5D7E 8D 18 31				sta formacja_radar
  1391 5D81 20 3F 61				jsr piszCondition
  1392 5D84 AC 19 31				ldy kondycja_stan		;poprzednia kondycja
  1393 5D87 20 10 5C				jsr setCondition
  1394 						
  1395 5D8A A9 09 85 C3		@		mva #9 startMapy	
  1396 5D8E AD BA 35		@		lda waitWybuch
  1397 5D91 30 27				bmi @+1
  1398 5D93 C9 0E				cmp #14
  1399 5D95 D0 1F				bne @+
  1400 						
  1401 						
  1402 5D97 20 60 83				jsr exploAllEnemy
  1403 5D9A AC CA 36				ldy sJoy
  1404 5D9D A9 00 8D CA 36			mva #0 sJoy
  1405 5DA2 8D 88 36				sta licznikStrzal
  1406 5DA5 20 5A 76				jsr printShip1
  1407 5DA8 AD 7A 34				lda conditionColor		;jeÅ›li 0 to jest red condition , trzeba narysowaÄ‡
  1408 5DAB D0 09				bne @+
  1409 5DAD AD 50 54				lda conditionC+2
  1410 5DB0 8D 7A 34				sta conditionColor
  1411 5DB3 8D 82 34				sta conditionColor1	 
  1412 						
  1413 5DB6 CE BA 35		@		dec waitWybuch
  1414 5DB9 60					rts
  1415
  1416 5DBA EE 16 31		@		inc poziom			;to nastepny poziom
  1417
  1418 5DBD A9 00 8D E1 32			mva #0  _vbsnd4
  1419 						
  1420 5DC2 AD 16 31				lda poziom		;jeÅ›li poziom = 161 to ustaw 129 , zapetlamy
  1421 5DC5 C9 A1				cmp #161
  1422 5DC7 90 05				bcc skpoz2
  1423 5DC9 A9 81				lda #129
  1424 5DCB 8D 16 31				sta poziom
  1425 = 5DCE			skpoz2	equ *
  1426
  1427 5DCE 20 E1 57				jsr wczytajLevel
  1428 						
  1429 5DD1 A9 02 85 71				mva #2 muzyka
  1430 5DD5 A9 3C 85 C3				mva #60 startMapy
  1431 5DD9 A9 36 8D 88 36			mva #54 licznikStrzal	;opoznienie dzwieku silnika
  1432 5DDE 20 57 5B				jsr pokazBazyRadar
  1433 5DE1 A9 01 85 6F				mva #1 zegar
  1434 5DE5 68					pla			;zdejmij po jsr
  1435 5DE6 68					pla
  1436 5DE7 20 AA 4B				jsr waitvbl
  1437 5DEA A5 C7 8D 05 D4			mva movy vscrol
  1438 5DEF A5 C6 8D 04 D4			mva movx hscrol		
  1439 5DF4 4C 24 50				jmp poczatek
  1440
  1441 = 5DF7			graj_sampla		equ *
  1442 5DF7 A5 6F				lda zegar
  1443 5DF9 C5 6F		@		cmp zegar
  1444 5DFB F0 FC				beq @-
  1445 						
  1446 5DFD A9 00				lda #0
  1447 5DFF 8D 12 C0				sta COLPM0
  1448 5E02 8D 13 C0				sta COLPM1
  1449 5E05 8D 14 C0				sta COLPM2
  1450 5E08 8D 15 C0				sta COLPM3
  1451 						
  1452 5E0B 8D CD 36				sta kanal1
  1453 5E0E 8D D7 32				sta _vbsnd2
  1454 5E11 8D CF 36				sta kanal2
  1455 5E14 8D E1 32				sta _vbsnd4
  1456 5E17 8D D1 36				sta kanal3
  1457 5E1A 8D EB 32				sta _vbsnd6
  1458 5E1D A9 01 85 E1				mva #1 sfx
  1459 						
  1460 5E21 A9 58 85 31 A9 5B + 		mwa #blastoff_wav sam		;poczatek sampla
  1461 						
  1462 5E29 20 AA 4B				jsr waitvbl
  1463 5E2C A9 40 8D 0E D4			mva #%01000000 NMIEN
  1464 5E31 A9 01 8D 8B 36			mva #1 speech		;wlaczony sampel
  1465 5E36 85 6E				sta powtorz			;odtwarzaj 1x
  1466 						
  1467 5E38 20 4F 87				jsr schowaj_duszki
  1468 5E3B A9 3A				lda #$3a
  1469 5E3D 8D 12 C0				sta COLPM0
  1470 5E40 A9 8A				lda #$8a
  1471 5E42 8D 13 C0				sta COLPM1
  1472 5E45 A9 B0				lda #pozWyniki-1
  1473 5E47 8D 00 C0				sta HPOSP0
  1474 5E4A A9 C8				lda #pozWyniki-1+24
  1475 5E4C 8D 01 C0				sta HPOSP1
  1476 5E4F A9 00				lda #0
  1477 5E51 8D 01 E8				sta AUDC1
  1478 5E54 8D 03 E8				sta AUDC2
  1479 5E57 8D 05 E8				sta AUDC3
  1480 						
  1481 5E5A A9 00 8D 02 C0			mva #0 HPOSP2
  1482 5E5F A9 D0 8D 15 C0			mva #$d0 COLPM3
  1483 						
  1484 				;przygotuj napis
  1485 5E64 A0 00				ldy #0
  1486 5E66 A2 00				ldx #0
  1487 						
  1488 						
  1489 5E68 86 A5		@		stx pom0
  1490 5E6A BD 36 61				lda t_blastoff,x
  1491 5E6D 0A 0A 0A				:3 asl
  1492 5E70 AA					tax
  1493 						
  1494 						
  1495 5E71 BD BB 64		@		lda znakiBosc1,x
  1496 5E74 99 30 0C				sta sprites1+$430,y
  1497 5E77 99 31 0D				sta sprites1+$531,y
  1498 5E7A C8					iny
  1499 5E7B A9 00				lda #0
  1500 5E7D 99 30 0C				sta sprites1+$430,y
  1501 5E80 99 31 0D				sta sprites1+$531,y
  1502 5E83 C8					iny
  1503 5E84 E8					inx
  1504 5E85 8A					txa
  1505 5E86 29 07				and #7
  1506 5E88 D0 E7				bne @-
  1507 						
  1508 5E8A A6 A5				ldx pom0
  1509 5E8C E8					inx
  1510 5E8D E0 09				cpx #9
  1511 5E8F 90 D7				bcc @-1
  1512 						
  1513 						
  1514 5E91 A9 00				lda #0
  1515 5E93 A2 0E				ldx #14
  1516 5E95 9D 77 0C		@		sta sprites1+$400+119,x
  1517 5E98 9D 78 0D				sta sprites1+$500+119+1,x
  1518 5E9B CA					dex
  1519 5E9C CA					dex
  1520 5E9D 10 F6				bpl @-
  1521 						
  1522 5E9F A9 19 8D 00 02 A9 + 		mwa #pok0 irqv		;nowy wektor przerwania
  1523 						
  1524 5EA9 A9 0F 8D 06 E8			mva #15 AUDF4		;jak czesto wywolujemy przerwanie, 64khz/16 = 4khz
  1525 						
  1526 5EAE A9 00 8D 0E E8			mva #0 IRQEN
  1527 5EB3 8D CB 36				sta rodzajSpeech
  1528 5EB6 A9 04 85 6D				mva #4 sirq
  1529 5EBA 8D 0E E8				sta IRQEN
  1530 5EBD A9 14 85 A5				mva #>znaki2 pom0
  1531 						
  1532 5EC1 A2 0C				ldx #12
  1533 5EC3 A5 6F		@		lda zegar
  1534 5EC5 C5 6F				cmp zegar
  1535 5EC7 F0 FC				beq *-2
  1536 						
  1537 5EC9 8A					txa
  1538 5ECA 49 FF				eor #255
  1539 5ECC 18					clc
  1540 5ECD 69 BD				adc #pozWyniki+12
  1541 5ECF 8D 00 C0				sta HPOSP0
  1542 5ED2 8A					txa
  1543 5ED3 18					clc
  1544 5ED4 69 BC				adc #pozWyniki+11
  1545 5ED6 8D 01 C0				sta HPOSP1
  1546 5ED9 CA					dex
  1547 5EDA 10 E7				bpl @-
  1548 						
  1549 5EDC A9 24 85 6F				mva #$24 zegar
  1550 5EE0 A8					tay
  1551 5EE1 0A					asl
  1552 						
  1553 						
  1554 5EE2 C4 6F		@		cpy zegar
  1555 5EE4 F0 07				beq @+
  1556 5EE6 20 2B 5F				jsr mryg_bomb
  1557 5EE9 A4 6F				ldy zegar
  1558 5EEB 98					tya
  1559 5EEC 0A					asl
  1560 						
  1561 5EED 8D 12 C0		@		sta COLPM0
  1562 5EF0 8D 13 C0				sta COLPM1
  1563 5EF3 18					clc
  1564 5EF4 69 03				adc #3
  1565 						
  1566 5EF6 A6 6D		@		ldx sirq
  1567 5EF8 D0 E8				bne @-2
  1568 						
  1569 5EFA A9 00 8D 8B 36			mva #0 speech
  1570 5EFF 8D 06 E8				sta AUDF4
  1571 						
  1572 5F02 A5 6F				lda zegar
  1573 5F04 C5 6F		@		cmp zegar
  1574 5F06 F0 FC				beq @-
  1575 						
  1576 5F08 A9 C0 8D 0E D4			mva #%11000000 NMIEN
  1577 						
  1578 5F0D A9 00 8D 15 C0			mva #0 COLPM3
  1579 						
  1580 5F12 20 E2 8E				jsr pokaz_duszki
  1581 5F15 A9 00				lda #0
  1582 5F17 AA					tax
  1583 5F18 A8					tay
  1584 5F19 99 30 0C		@		sta sprites1+$430,y
  1585 5F1C 99 31 0D				sta sprites1+$531,y
  1586 5F1F C8					iny
  1587 5F20 C8					iny
  1588 5F21 E8					inx
  1589 5F22 E0 48				cpx #72
  1590 5F24 D0 F3				bne @-
  1591 						
  1592 5F26 A9 00 85 6F				mva #0 zegar
  1593 						
  1594 5F2A 60					rts 
  1595
  1596 5F2B			mryg_bomb
  1597 5F2B 48					pha
  1598 5F2C A5 6F				lda zegar
  1599 5F2E 29 01				and #1
  1600 5F30 D0 02				bne @+
  1601 5F32 68					pla
  1602 5F33 60					rts
  1603 = 5F34			@		equ *
  1604 				.rept 32, #		
  1605 						LDA ZNAKI1+FIRSTBOMBACHAR*8+:1
  1606 						STA STRZ0
  1607 						LDA ZNAKI2+FIRSTBOMBACHAR*8+:1
  1608 						STA ZNAKI1+FIRSTBOMBACHAR*8+:1
  1609 						LDA STRZ0
  1610 						STA ZNAKI2+FIRSTBOMBACHAR*8+:1
  1611 				.ENDR		
  1611 				.endr		
Source: REPT
  1605 5F34 AD F8 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+0
  1605 5F37 85 AD				STA STRZ0
  1605 5F39 AD F8 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+0
  1605 5F3C 8D F8 10				STA ZNAKI1+FIRSTBOMBACHAR*8+0
  1605 5F3F A5 AD				LDA STRZ0
  1605 5F41 8D F8 14				STA ZNAKI2+FIRSTBOMBACHAR*8+0
  1605 5F44 AD F9 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+1
  1605 5F47 85 AD				STA STRZ0
  1605 5F49 AD F9 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+1
  1605 5F4C 8D F9 10				STA ZNAKI1+FIRSTBOMBACHAR*8+1
  1605 5F4F A5 AD				LDA STRZ0
  1605 5F51 8D F9 14				STA ZNAKI2+FIRSTBOMBACHAR*8+1
  1605 5F54 AD FA 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+2
  1605 5F57 85 AD				STA STRZ0
  1605 5F59 AD FA 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+2
  1605 5F5C 8D FA 10				STA ZNAKI1+FIRSTBOMBACHAR*8+2
  1605 5F5F A5 AD				LDA STRZ0
  1605 5F61 8D FA 14				STA ZNAKI2+FIRSTBOMBACHAR*8+2
  1605 5F64 AD FB 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+3
  1605 5F67 85 AD				STA STRZ0
  1605 5F69 AD FB 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+3
  1605 5F6C 8D FB 10				STA ZNAKI1+FIRSTBOMBACHAR*8+3
  1605 5F6F A5 AD				LDA STRZ0
  1605 5F71 8D FB 14				STA ZNAKI2+FIRSTBOMBACHAR*8+3
  1605 5F74 AD FC 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+4
  1605 5F77 85 AD				STA STRZ0
  1605 5F79 AD FC 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+4
  1605 5F7C 8D FC 10				STA ZNAKI1+FIRSTBOMBACHAR*8+4
  1605 5F7F A5 AD				LDA STRZ0
  1605 5F81 8D FC 14				STA ZNAKI2+FIRSTBOMBACHAR*8+4
  1605 5F84 AD FD 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+5
  1605 5F87 85 AD				STA STRZ0
  1605 5F89 AD FD 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+5
  1605 5F8C 8D FD 10				STA ZNAKI1+FIRSTBOMBACHAR*8+5
  1605 5F8F A5 AD				LDA STRZ0
  1605 5F91 8D FD 14				STA ZNAKI2+FIRSTBOMBACHAR*8+5
  1605 5F94 AD FE 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+6
  1605 5F97 85 AD				STA STRZ0
  1605 5F99 AD FE 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+6
  1605 5F9C 8D FE 10				STA ZNAKI1+FIRSTBOMBACHAR*8+6
  1605 5F9F A5 AD				LDA STRZ0
  1605 5FA1 8D FE 14				STA ZNAKI2+FIRSTBOMBACHAR*8+6
  1605 5FA4 AD FF 10				LDA ZNAKI1+FIRSTBOMBACHAR*8+7
  1605 5FA7 85 AD				STA STRZ0
  1605 5FA9 AD FF 14				LDA ZNAKI2+FIRSTBOMBACHAR*8+7
  1605 5FAC 8D FF 10				STA ZNAKI1+FIRSTBOMBACHAR*8+7
  1605 5FAF A5 AD				LDA STRZ0
  1605 5FB1 8D FF 14				STA ZNAKI2+FIRSTBOMBACHAR*8+7
  1605 5FB4 AD 00 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+8
  1605 5FB7 85 AD				STA STRZ0
  1605 5FB9 AD 00 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+8
  1605 5FBC 8D 00 11				STA ZNAKI1+FIRSTBOMBACHAR*8+8
  1605 5FBF A5 AD				LDA STRZ0
  1605 5FC1 8D 00 15				STA ZNAKI2+FIRSTBOMBACHAR*8+8
  1605 5FC4 AD 01 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+9
  1605 5FC7 85 AD				STA STRZ0
  1605 5FC9 AD 01 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+9
  1605 5FCC 8D 01 11				STA ZNAKI1+FIRSTBOMBACHAR*8+9
  1605 5FCF A5 AD				LDA STRZ0
  1605 5FD1 8D 01 15				STA ZNAKI2+FIRSTBOMBACHAR*8+9
  1605 5FD4 AD 02 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+10
  1605 5FD7 85 AD				STA STRZ0
  1605 5FD9 AD 02 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+10
  1605 5FDC 8D 02 11				STA ZNAKI1+FIRSTBOMBACHAR*8+10
  1605 5FDF A5 AD				LDA STRZ0
  1605 5FE1 8D 02 15				STA ZNAKI2+FIRSTBOMBACHAR*8+10
  1605 5FE4 AD 03 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+11
  1605 5FE7 85 AD				STA STRZ0
  1605 5FE9 AD 03 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+11
  1605 5FEC 8D 03 11				STA ZNAKI1+FIRSTBOMBACHAR*8+11
  1605 5FEF A5 AD				LDA STRZ0
  1605 5FF1 8D 03 15				STA ZNAKI2+FIRSTBOMBACHAR*8+11
  1605 5FF4 AD 04 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+12
  1605 5FF7 85 AD				STA STRZ0
  1605 5FF9 AD 04 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+12
  1605 5FFC 8D 04 11				STA ZNAKI1+FIRSTBOMBACHAR*8+12
  1605 5FFF A5 AD				LDA STRZ0
  1605 6001 8D 04 15				STA ZNAKI2+FIRSTBOMBACHAR*8+12
  1605 6004 AD 05 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+13
  1605 6007 85 AD				STA STRZ0
  1605 6009 AD 05 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+13
  1605 600C 8D 05 11				STA ZNAKI1+FIRSTBOMBACHAR*8+13
  1605 600F A5 AD				LDA STRZ0
  1605 6011 8D 05 15				STA ZNAKI2+FIRSTBOMBACHAR*8+13
  1605 6014 AD 06 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+14
  1605 6017 85 AD				STA STRZ0
  1605 6019 AD 06 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+14
  1605 601C 8D 06 11				STA ZNAKI1+FIRSTBOMBACHAR*8+14
  1605 601F A5 AD				LDA STRZ0
  1605 6021 8D 06 15				STA ZNAKI2+FIRSTBOMBACHAR*8+14
  1605 6024 AD 07 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+15
  1605 6027 85 AD				STA STRZ0
  1605 6029 AD 07 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+15
  1605 602C 8D 07 11				STA ZNAKI1+FIRSTBOMBACHAR*8+15
  1605 602F A5 AD				LDA STRZ0
  1605 6031 8D 07 15				STA ZNAKI2+FIRSTBOMBACHAR*8+15
  1605 6034 AD 08 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+16
  1605 6037 85 AD				STA STRZ0
  1605 6039 AD 08 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+16
  1605 603C 8D 08 11				STA ZNAKI1+FIRSTBOMBACHAR*8+16
  1605 603F A5 AD				LDA STRZ0
  1605 6041 8D 08 15				STA ZNAKI2+FIRSTBOMBACHAR*8+16
  1605 6044 AD 09 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+17
  1605 6047 85 AD				STA STRZ0
  1605 6049 AD 09 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+17
  1605 604C 8D 09 11				STA ZNAKI1+FIRSTBOMBACHAR*8+17
  1605 604F A5 AD				LDA STRZ0
  1605 6051 8D 09 15				STA ZNAKI2+FIRSTBOMBACHAR*8+17
  1605 6054 AD 0A 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+18
  1605 6057 85 AD				STA STRZ0
  1605 6059 AD 0A 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+18
  1605 605C 8D 0A 11				STA ZNAKI1+FIRSTBOMBACHAR*8+18
  1605 605F A5 AD				LDA STRZ0
  1605 6061 8D 0A 15				STA ZNAKI2+FIRSTBOMBACHAR*8+18
  1605 6064 AD 0B 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+19
  1605 6067 85 AD				STA STRZ0
  1605 6069 AD 0B 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+19
  1605 606C 8D 0B 11				STA ZNAKI1+FIRSTBOMBACHAR*8+19
  1605 606F A5 AD				LDA STRZ0
  1605 6071 8D 0B 15				STA ZNAKI2+FIRSTBOMBACHAR*8+19
  1605 6074 AD 0C 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+20
  1605 6077 85 AD				STA STRZ0
  1605 6079 AD 0C 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+20
  1605 607C 8D 0C 11				STA ZNAKI1+FIRSTBOMBACHAR*8+20
  1605 607F A5 AD				LDA STRZ0
  1605 6081 8D 0C 15				STA ZNAKI2+FIRSTBOMBACHAR*8+20
  1605 6084 AD 0D 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+21
  1605 6087 85 AD				STA STRZ0
  1605 6089 AD 0D 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+21
  1605 608C 8D 0D 11				STA ZNAKI1+FIRSTBOMBACHAR*8+21
  1605 608F A5 AD				LDA STRZ0
  1605 6091 8D 0D 15				STA ZNAKI2+FIRSTBOMBACHAR*8+21
  1605 6094 AD 0E 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+22
  1605 6097 85 AD				STA STRZ0
  1605 6099 AD 0E 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+22
  1605 609C 8D 0E 11				STA ZNAKI1+FIRSTBOMBACHAR*8+22
  1605 609F A5 AD				LDA STRZ0
  1605 60A1 8D 0E 15				STA ZNAKI2+FIRSTBOMBACHAR*8+22
  1605 60A4 AD 0F 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+23
  1605 60A7 85 AD				STA STRZ0
  1605 60A9 AD 0F 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+23
  1605 60AC 8D 0F 11				STA ZNAKI1+FIRSTBOMBACHAR*8+23
  1605 60AF A5 AD				LDA STRZ0
  1605 60B1 8D 0F 15				STA ZNAKI2+FIRSTBOMBACHAR*8+23
  1605 60B4 AD 10 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+24
  1605 60B7 85 AD				STA STRZ0
  1605 60B9 AD 10 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+24
  1605 60BC 8D 10 11				STA ZNAKI1+FIRSTBOMBACHAR*8+24
  1605 60BF A5 AD				LDA STRZ0
  1605 60C1 8D 10 15				STA ZNAKI2+FIRSTBOMBACHAR*8+24
  1605 60C4 AD 11 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+25
  1605 60C7 85 AD				STA STRZ0
  1605 60C9 AD 11 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+25
  1605 60CC 8D 11 11				STA ZNAKI1+FIRSTBOMBACHAR*8+25
  1605 60CF A5 AD				LDA STRZ0
  1605 60D1 8D 11 15				STA ZNAKI2+FIRSTBOMBACHAR*8+25
  1605 60D4 AD 12 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+26
  1605 60D7 85 AD				STA STRZ0
  1605 60D9 AD 12 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+26
  1605 60DC 8D 12 11				STA ZNAKI1+FIRSTBOMBACHAR*8+26
  1605 60DF A5 AD				LDA STRZ0
  1605 60E1 8D 12 15				STA ZNAKI2+FIRSTBOMBACHAR*8+26
  1605 60E4 AD 13 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+27
  1605 60E7 85 AD				STA STRZ0
  1605 60E9 AD 13 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+27
  1605 60EC 8D 13 11				STA ZNAKI1+FIRSTBOMBACHAR*8+27
  1605 60EF A5 AD				LDA STRZ0
  1605 60F1 8D 13 15				STA ZNAKI2+FIRSTBOMBACHAR*8+27
  1605 60F4 AD 14 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+28
  1605 60F7 85 AD				STA STRZ0
  1605 60F9 AD 14 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+28
  1605 60FC 8D 14 11				STA ZNAKI1+FIRSTBOMBACHAR*8+28
  1605 60FF A5 AD				LDA STRZ0
  1605 6101 8D 14 15				STA ZNAKI2+FIRSTBOMBACHAR*8+28
  1605 6104 AD 15 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+29
  1605 6107 85 AD				STA STRZ0
  1605 6109 AD 15 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+29
  1605 610C 8D 15 11				STA ZNAKI1+FIRSTBOMBACHAR*8+29
  1605 610F A5 AD				LDA STRZ0
  1605 6111 8D 15 15				STA ZNAKI2+FIRSTBOMBACHAR*8+29
  1605 6114 AD 16 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+30
  1605 6117 85 AD				STA STRZ0
  1605 6119 AD 16 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+30
  1605 611C 8D 16 11				STA ZNAKI1+FIRSTBOMBACHAR*8+30
  1605 611F A5 AD				LDA STRZ0
  1605 6121 8D 16 15				STA ZNAKI2+FIRSTBOMBACHAR*8+30
  1605 6124 AD 17 11				LDA ZNAKI1+FIRSTBOMBACHAR*8+31
  1605 6127 85 AD				STA STRZ0
  1605 6129 AD 17 15				LDA ZNAKI2+FIRSTBOMBACHAR*8+31
  1605 612C 8D 17 11				STA ZNAKI1+FIRSTBOMBACHAR*8+31
  1605 612F A5 AD				LDA STRZ0
  1605 6131 8D 17 15				STA ZNAKI2+FIRSTBOMBACHAR*8+31
Source: blevele.asm
  1612 						
  1613 = 6134			mr_b1	equ *
  1614 6134 68					pla
  1615 6135 60					rts		
  1616
  1617 6136 02 04 01 06 07 00 + t_blastoff .he 02,04,01,06,07,00,05,03,03
  1618
  1619 				;pisze napis CONDITION
  1620 = 613F			piszCondition	equ *
  1621 613F A2 06		@		ldx #6
  1622 6141 BD 27 55		@		lda nap_condition,x
  1623 6144 9D 40 03				sta sprites+startWyniki+$300+48,x
  1624 6147 BD 2E 55				lda nap_condition+7,x
  1625 614A 9D 40 04				sta sprites+startWyniki+$400+48,x
  1626 614D BD 35 55				lda nap_condition+14,x
  1627 6150 9D 40 05				sta sprites+startWyniki+$500+48,x
  1628 6153 BD 3C 55				lda nap_condition+21,x
  1629 6156 9D 40 06				sta sprites+startWyniki+$600+48,x
  1630 6159 CA					dex
  1631 615A 10 E5				bpl @-
  1632 						
  1633 615C A9 00				lda #0
  1634 615E 8D 3F 03				sta sprites+startWyniki+$300+47
  1635 6161 8D 3F 04				sta sprites+startWyniki+$400+47
  1636 6164 8D 3F 05				sta sprites+startWyniki+$500+47
  1637 6167 8D 3F 06				sta sprites+startWyniki+$600+47
  1638 						
  1639 616A A2 03				ldx #3
  1640 616C 9D 47 03		@		sta sprites+startWyniki+$300+55,x
  1641 616F 9D 47 05				sta sprites+startWyniki+$500+55,x
  1642 6172 9D 47 06				sta sprites+startWyniki+$600+55,x
  1643 6175 CA					dex
  1644 6176 10 F4				bpl @-
  1645 							
  1646 6178 60					rts
  1647 						
  1648 						
  1649 				;formation Attack
  1650 = 6179			pisz_formation	equ *		
  1651 						.rept 12, #
  1652 						LDA NAP_FORM1+:1
  1653 						STA SPRITES+STARTWYNIKI+$300+48-1+:1
  1654 						LDA NAP_FORM1+12+:1
  1655 						STA SPRITES+STARTWYNIKI+$400+48-1+:1
  1656 						LDA NAP_FORM1+24+:1
  1657 						STA SPRITES+STARTWYNIKI+$500+48-1+:1
  1658 						LDA NAP_FORM1+36+:1
  1659 						STA SPRITES+STARTWYNIKI+$600+48-1+:1
  1660 						.ENDR
  1660 						.endr
Source: REPT
  1652 6179 AD F7 54				LDA NAP_FORM1+0
  1652 617C 8D 3F 03				STA SPRITES+STARTWYNIKI+$300+48-1+0
  1652 617F AD 03 55				LDA NAP_FORM1+12+0
  1652 6182 8D 3F 04				STA SPRITES+STARTWYNIKI+$400+48-1+0
  1652 6185 AD 0F 55				LDA NAP_FORM1+24+0
  1652 6188 8D 3F 05				STA SPRITES+STARTWYNIKI+$500+48-1+0
  1652 618B AD 1B 55				LDA NAP_FORM1+36+0
  1652 618E 8D 3F 06				STA SPRITES+STARTWYNIKI+$600+48-1+0
  1652 6191 AD F8 54				LDA NAP_FORM1+1
  1652 6194 8D 40 03				STA SPRITES+STARTWYNIKI+$300+48-1+1
  1652 6197 AD 04 55				LDA NAP_FORM1+12+1
  1652 619A 8D 40 04				STA SPRITES+STARTWYNIKI+$400+48-1+1
  1652 619D AD 10 55				LDA NAP_FORM1+24+1
  1652 61A0 8D 40 05				STA SPRITES+STARTWYNIKI+$500+48-1+1
  1652 61A3 AD 1C 55				LDA NAP_FORM1+36+1
  1652 61A6 8D 40 06				STA SPRITES+STARTWYNIKI+$600+48-1+1
  1652 61A9 AD F9 54				LDA NAP_FORM1+2
  1652 61AC 8D 41 03				STA SPRITES+STARTWYNIKI+$300+48-1+2
  1652 61AF AD 05 55				LDA NAP_FORM1+12+2
  1652 61B2 8D 41 04				STA SPRITES+STARTWYNIKI+$400+48-1+2
  1652 61B5 AD 11 55				LDA NAP_FORM1+24+2
  1652 61B8 8D 41 05				STA SPRITES+STARTWYNIKI+$500+48-1+2
  1652 61BB AD 1D 55				LDA NAP_FORM1+36+2
  1652 61BE 8D 41 06				STA SPRITES+STARTWYNIKI+$600+48-1+2
  1652 61C1 AD FA 54				LDA NAP_FORM1+3
  1652 61C4 8D 42 03				STA SPRITES+STARTWYNIKI+$300+48-1+3
  1652 61C7 AD 06 55				LDA NAP_FORM1+12+3
  1652 61CA 8D 42 04				STA SPRITES+STARTWYNIKI+$400+48-1+3
  1652 61CD AD 12 55				LDA NAP_FORM1+24+3
  1652 61D0 8D 42 05				STA SPRITES+STARTWYNIKI+$500+48-1+3
  1652 61D3 AD 1E 55				LDA NAP_FORM1+36+3
  1652 61D6 8D 42 06				STA SPRITES+STARTWYNIKI+$600+48-1+3
  1652 61D9 AD FB 54				LDA NAP_FORM1+4
  1652 61DC 8D 43 03				STA SPRITES+STARTWYNIKI+$300+48-1+4
  1652 61DF AD 07 55				LDA NAP_FORM1+12+4
  1652 61E2 8D 43 04				STA SPRITES+STARTWYNIKI+$400+48-1+4
  1652 61E5 AD 13 55				LDA NAP_FORM1+24+4
  1652 61E8 8D 43 05				STA SPRITES+STARTWYNIKI+$500+48-1+4
  1652 61EB AD 1F 55				LDA NAP_FORM1+36+4
  1652 61EE 8D 43 06				STA SPRITES+STARTWYNIKI+$600+48-1+4
  1652 61F1 AD FC 54				LDA NAP_FORM1+5
  1652 61F4 8D 44 03				STA SPRITES+STARTWYNIKI+$300+48-1+5
  1652 61F7 AD 08 55				LDA NAP_FORM1+12+5
  1652 61FA 8D 44 04				STA SPRITES+STARTWYNIKI+$400+48-1+5
  1652 61FD AD 14 55				LDA NAP_FORM1+24+5
  1652 6200 8D 44 05				STA SPRITES+STARTWYNIKI+$500+48-1+5
  1652 6203 AD 20 55				LDA NAP_FORM1+36+5
  1652 6206 8D 44 06				STA SPRITES+STARTWYNIKI+$600+48-1+5
  1652 6209 AD FD 54				LDA NAP_FORM1+6
  1652 620C 8D 45 03				STA SPRITES+STARTWYNIKI+$300+48-1+6
  1652 620F AD 09 55				LDA NAP_FORM1+12+6
  1652 6212 8D 45 04				STA SPRITES+STARTWYNIKI+$400+48-1+6
  1652 6215 AD 15 55				LDA NAP_FORM1+24+6
  1652 6218 8D 45 05				STA SPRITES+STARTWYNIKI+$500+48-1+6
  1652 621B AD 21 55				LDA NAP_FORM1+36+6
  1652 621E 8D 45 06				STA SPRITES+STARTWYNIKI+$600+48-1+6
  1652 6221 AD FE 54				LDA NAP_FORM1+7
  1652 6224 8D 46 03				STA SPRITES+STARTWYNIKI+$300+48-1+7
  1652 6227 AD 0A 55				LDA NAP_FORM1+12+7
  1652 622A 8D 46 04				STA SPRITES+STARTWYNIKI+$400+48-1+7
  1652 622D AD 16 55				LDA NAP_FORM1+24+7
  1652 6230 8D 46 05				STA SPRITES+STARTWYNIKI+$500+48-1+7
  1652 6233 AD 22 55				LDA NAP_FORM1+36+7
  1652 6236 8D 46 06				STA SPRITES+STARTWYNIKI+$600+48-1+7
  1652 6239 AD FF 54				LDA NAP_FORM1+8
  1652 623C 8D 47 03				STA SPRITES+STARTWYNIKI+$300+48-1+8
  1652 623F AD 0B 55				LDA NAP_FORM1+12+8
  1652 6242 8D 47 04				STA SPRITES+STARTWYNIKI+$400+48-1+8
  1652 6245 AD 17 55				LDA NAP_FORM1+24+8
  1652 6248 8D 47 05				STA SPRITES+STARTWYNIKI+$500+48-1+8
  1652 624B AD 23 55				LDA NAP_FORM1+36+8
  1652 624E 8D 47 06				STA SPRITES+STARTWYNIKI+$600+48-1+8
  1652 6251 AD 00 55				LDA NAP_FORM1+9
  1652 6254 8D 48 03				STA SPRITES+STARTWYNIKI+$300+48-1+9
  1652 6257 AD 0C 55				LDA NAP_FORM1+12+9
  1652 625A 8D 48 04				STA SPRITES+STARTWYNIKI+$400+48-1+9
  1652 625D AD 18 55				LDA NAP_FORM1+24+9
  1652 6260 8D 48 05				STA SPRITES+STARTWYNIKI+$500+48-1+9
  1652 6263 AD 24 55				LDA NAP_FORM1+36+9
  1652 6266 8D 48 06				STA SPRITES+STARTWYNIKI+$600+48-1+9
  1652 6269 AD 01 55				LDA NAP_FORM1+10
  1652 626C 8D 49 03				STA SPRITES+STARTWYNIKI+$300+48-1+10
  1652 626F AD 0D 55				LDA NAP_FORM1+12+10
  1652 6272 8D 49 04				STA SPRITES+STARTWYNIKI+$400+48-1+10
  1652 6275 AD 19 55				LDA NAP_FORM1+24+10
  1652 6278 8D 49 05				STA SPRITES+STARTWYNIKI+$500+48-1+10
  1652 627B AD 25 55				LDA NAP_FORM1+36+10
  1652 627E 8D 49 06				STA SPRITES+STARTWYNIKI+$600+48-1+10
  1652 6281 AD 02 55				LDA NAP_FORM1+11
  1652 6284 8D 4A 03				STA SPRITES+STARTWYNIKI+$300+48-1+11
  1652 6287 AD 0E 55				LDA NAP_FORM1+12+11
  1652 628A 8D 4A 04				STA SPRITES+STARTWYNIKI+$400+48-1+11
  1652 628D AD 1A 55				LDA NAP_FORM1+24+11
  1652 6290 8D 4A 05				STA SPRITES+STARTWYNIKI+$500+48-1+11
  1652 6293 AD 26 55				LDA NAP_FORM1+36+11
  1652 6296 8D 4A 06				STA SPRITES+STARTWYNIKI+$600+48-1+11
Source: blevele.asm
  1661
  1662 						
  1663 6299 AD 8C 36				lda formacja_typ
  1664 629C 0A					asl
  1665 629D 0A					asl
  1666 629E 0A					asl
  1667 629F 0A					asl
  1668 62A0 A8					tay
  1669 62A1 A2 00				ldx #0
  1670 62A3 8E 4C 04				stx sprites+startWyniki+$400+60
  1671 62A6 8E 4D 04				stx sprites+startWyniki+$400+61
  1672 62A9 8E 4C 03				stx sprites+startWyniki+$300+60
  1673 62AC 8E 4D 03				stx sprites+startWyniki+$300+61
  1674 62AF 8E 55 03				stx sprites+startWyniki+$300+69
  1675 62B2 8E 56 03				stx sprites+startWyniki+$300+70
  1676 62B5 8E 57 03				stx sprites+startWyniki+$300+71
  1677 62B8 8E 58 03				stx sprites+startWyniki+$300+72
  1678 62BB 8E 59 03				stx sprites+startWyniki+$300+73
  1679 62BE 8E 5A 03				stx sprites+startWyniki+$300+74
  1680 62C1 8E 5B 03				stx sprites+startWyniki+$300+75
  1681 						
  1682 						.rept 16, #
  1683 						LDA NAP_FORM2-16+:1,Y
  1684 						STA SPRITES+STARTWYNIKI+$400+62+:1
  1685 						.ENDR
  1685 						.endr
Source: REPT
  1683 62C4 B9 89 54				LDA NAP_FORM2-16+0,Y
  1683 62C7 8D 4E 04				STA SPRITES+STARTWYNIKI+$400+62+0
  1683 62CA B9 8A 54				LDA NAP_FORM2-16+1,Y
  1683 62CD 8D 4F 04				STA SPRITES+STARTWYNIKI+$400+62+1
  1683 62D0 B9 8B 54				LDA NAP_FORM2-16+2,Y
  1683 62D3 8D 50 04				STA SPRITES+STARTWYNIKI+$400+62+2
  1683 62D6 B9 8C 54				LDA NAP_FORM2-16+3,Y
  1683 62D9 8D 51 04				STA SPRITES+STARTWYNIKI+$400+62+3
  1683 62DC B9 8D 54				LDA NAP_FORM2-16+4,Y
  1683 62DF 8D 52 04				STA SPRITES+STARTWYNIKI+$400+62+4
  1683 62E2 B9 8E 54				LDA NAP_FORM2-16+5,Y
  1683 62E5 8D 53 04				STA SPRITES+STARTWYNIKI+$400+62+5
  1683 62E8 B9 8F 54				LDA NAP_FORM2-16+6,Y
  1683 62EB 8D 54 04				STA SPRITES+STARTWYNIKI+$400+62+6
  1683 62EE B9 90 54				LDA NAP_FORM2-16+7,Y
  1683 62F1 8D 55 04				STA SPRITES+STARTWYNIKI+$400+62+7
  1683 62F4 B9 91 54				LDA NAP_FORM2-16+8,Y
  1683 62F7 8D 56 04				STA SPRITES+STARTWYNIKI+$400+62+8
  1683 62FA B9 92 54				LDA NAP_FORM2-16+9,Y
  1683 62FD 8D 57 04				STA SPRITES+STARTWYNIKI+$400+62+9
  1683 6300 B9 93 54				LDA NAP_FORM2-16+10,Y
  1683 6303 8D 58 04				STA SPRITES+STARTWYNIKI+$400+62+10
  1683 6306 B9 94 54				LDA NAP_FORM2-16+11,Y
  1683 6309 8D 59 04				STA SPRITES+STARTWYNIKI+$400+62+11
  1683 630C B9 95 54				LDA NAP_FORM2-16+12,Y
  1683 630F 8D 5A 04				STA SPRITES+STARTWYNIKI+$400+62+12
  1683 6312 B9 96 54				LDA NAP_FORM2-16+13,Y
  1683 6315 8D 5B 04				STA SPRITES+STARTWYNIKI+$400+62+13
  1683 6318 B9 97 54				LDA NAP_FORM2-16+14,Y
  1683 631B 8D 5C 04				STA SPRITES+STARTWYNIKI+$400+62+14
  1683 631E B9 98 54				LDA NAP_FORM2-16+15,Y
  1683 6321 8D 5D 04				STA SPRITES+STARTWYNIKI+$400+62+15
Source: blevele.asm
  1686 						
  1687 6324 8A					txa
  1688 						.rept 16, #
  1689 						STA SPRITES+STARTWYNIKI+$300+62+:1
  1690 						STA SPRITES+STARTWYNIKI+$500+60+:1
  1691 						STA SPRITES+STARTWYNIKI+$600+60+:1
  1692 						.ENDR
  1692 						.endr
Source: REPT
  1689 6325 8D 4E 03				STA SPRITES+STARTWYNIKI+$300+62+0
  1689 6328 8D 4C 05				STA SPRITES+STARTWYNIKI+$500+60+0
  1689 632B 8D 4C 06				STA SPRITES+STARTWYNIKI+$600+60+0
  1689 632E 8D 4F 03				STA SPRITES+STARTWYNIKI+$300+62+1
  1689 6331 8D 4D 05				STA SPRITES+STARTWYNIKI+$500+60+1
  1689 6334 8D 4D 06				STA SPRITES+STARTWYNIKI+$600+60+1
  1689 6337 8D 50 03				STA SPRITES+STARTWYNIKI+$300+62+2
  1689 633A 8D 4E 05				STA SPRITES+STARTWYNIKI+$500+60+2
  1689 633D 8D 4E 06				STA SPRITES+STARTWYNIKI+$600+60+2
  1689 6340 8D 51 03				STA SPRITES+STARTWYNIKI+$300+62+3
  1689 6343 8D 4F 05				STA SPRITES+STARTWYNIKI+$500+60+3
  1689 6346 8D 4F 06				STA SPRITES+STARTWYNIKI+$600+60+3
  1689 6349 8D 52 03				STA SPRITES+STARTWYNIKI+$300+62+4
  1689 634C 8D 50 05				STA SPRITES+STARTWYNIKI+$500+60+4
  1689 634F 8D 50 06				STA SPRITES+STARTWYNIKI+$600+60+4
  1689 6352 8D 53 03				STA SPRITES+STARTWYNIKI+$300+62+5
  1689 6355 8D 51 05				STA SPRITES+STARTWYNIKI+$500+60+5
  1689 6358 8D 51 06				STA SPRITES+STARTWYNIKI+$600+60+5
  1689 635B 8D 54 03				STA SPRITES+STARTWYNIKI+$300+62+6
  1689 635E 8D 52 05				STA SPRITES+STARTWYNIKI+$500+60+6
  1689 6361 8D 52 06				STA SPRITES+STARTWYNIKI+$600+60+6
  1689 6364 8D 55 03				STA SPRITES+STARTWYNIKI+$300+62+7
  1689 6367 8D 53 05				STA SPRITES+STARTWYNIKI+$500+60+7
  1689 636A 8D 53 06				STA SPRITES+STARTWYNIKI+$600+60+7
  1689 636D 8D 56 03				STA SPRITES+STARTWYNIKI+$300+62+8
  1689 6370 8D 54 05				STA SPRITES+STARTWYNIKI+$500+60+8
  1689 6373 8D 54 06				STA SPRITES+STARTWYNIKI+$600+60+8
  1689 6376 8D 57 03				STA SPRITES+STARTWYNIKI+$300+62+9
  1689 6379 8D 55 05				STA SPRITES+STARTWYNIKI+$500+60+9
  1689 637C 8D 55 06				STA SPRITES+STARTWYNIKI+$600+60+9
  1689 637F 8D 58 03				STA SPRITES+STARTWYNIKI+$300+62+10
  1689 6382 8D 56 05				STA SPRITES+STARTWYNIKI+$500+60+10
  1689 6385 8D 56 06				STA SPRITES+STARTWYNIKI+$600+60+10
  1689 6388 8D 59 03				STA SPRITES+STARTWYNIKI+$300+62+11
  1689 638B 8D 57 05				STA SPRITES+STARTWYNIKI+$500+60+11
  1689 638E 8D 57 06				STA SPRITES+STARTWYNIKI+$600+60+11
  1689 6391 8D 5A 03				STA SPRITES+STARTWYNIKI+$300+62+12
  1689 6394 8D 58 05				STA SPRITES+STARTWYNIKI+$500+60+12
  1689 6397 8D 58 06				STA SPRITES+STARTWYNIKI+$600+60+12
  1689 639A 8D 5B 03				STA SPRITES+STARTWYNIKI+$300+62+13
  1689 639D 8D 59 05				STA SPRITES+STARTWYNIKI+$500+60+13
  1689 63A0 8D 59 06				STA SPRITES+STARTWYNIKI+$600+60+13
  1689 63A3 8D 5C 03				STA SPRITES+STARTWYNIKI+$300+62+14
  1689 63A6 8D 5A 05				STA SPRITES+STARTWYNIKI+$500+60+14
  1689 63A9 8D 5A 06				STA SPRITES+STARTWYNIKI+$600+60+14
  1689 63AC 8D 5D 03				STA SPRITES+STARTWYNIKI+$300+62+15
  1689 63AF 8D 5B 05				STA SPRITES+STARTWYNIKI+$500+60+15
  1689 63B2 8D 5B 06				STA SPRITES+STARTWYNIKI+$600+60+15
Source: blevele.asm
  1693 						
  1694 63B5 60					rts
  1695
  1696 = 63B6			poprawlives1	equ *
  1697 63B6 A9 00			lda #0
  1698 63B8 8D 29 1E 8D 2A 1E + 	:7 sta obraz1+33+24*48+#
  1699 63CD 8D 59 1E 8D 5A 1E + 	:7 sta obraz1+33+25*48+#
  1700 63E2 8D 89 1E 8D 8A 1E + 	:7 sta obraz1+33+26*48+#
  1701 					
  1702 63F7 60				rts
  1703 					
  1704 = 63F8			poprawlives2	equ *
  1705 63F8 A9 00			lda #0
  1706 63FA 8D 21 25 8D 22 25 + 	:7 sta obraz2+33+24*48+#
  1707 640F 8D 51 25 8D 52 25 + 	:7 sta obraz2+33+25*48+#
  1708 6424 8D 81 25 8D 82 25 + 	:7 sta obraz2+33+26*48+#
  1709 					
  1710 6439 60				rts	
  1711 					   
  1712 = 643A			pisz_zycia	equ *
  1713 643A A2 0F			ldx #15
  1714 643C BD D9 54		@	lda statek_zapas,x
  1715 643F 9D D0 04			sta sprites+startWyniki+$4c0,x
  1716 6442 9D D0 05			sta sprites+startWyniki+$5c0,x
  1717 6445 9D D0 06			sta sprites+startWyniki+$6c0,x
  1718 6448 CA				dex
  1719 6449 10 F1			bpl @-
  1720 					
  1721 644B A2 09			ldx #9
  1722 644D BD 5F 55		@	lda statekm_zapas,x
  1723 6450 9D D6 03			sta sprites+startWyniki+$3c6,x
  1724 6453 CA				dex
  1725 6454 10 F7			bpl @-
  1726 					
  1727 6456 60				rts
  1728
  1729 = 6457			czysc_duszki	equ *
  1730 6457 A9 00			lda #0
  1731 6459 AA				tax
  1732 645A 9D 00 03		@	sta sprites+$300,x
  1733 645D 9D 00 04			sta sprites+$400,x
  1734 6460 9D 00 05			sta sprites+$500,x
  1735 6463 9D 00 06			sta sprites+$600,x
  1736 6466 9D 00 0B			sta sprites1+$300,x
  1737 6469 9D 00 0C			sta sprites1+$400,x
  1738 646C 9D 00 0D			sta sprites1+$500,x
  1739 646F 9D 00 0E			sta sprites1+$600,x
  1740 6472 CA				dex
  1741 6473 D0 E5			bne @-
  1742 6475 60				rts	
  1743
  1744 = 6476			pisz_panel	equ *
  1745 6476 A2 06			ldx #6
  1746 6478 BD 43 55		@	lda nap_hiscore,x
  1747 647B 9D 10 03			sta sprites+startWyniki+$300,x
  1748 647E BD 4A 55			lda nap_hiscore+7,x
  1749 6481 9D 10 04			sta sprites+startWyniki+$400,x
  1750 6484 BD 51 55			lda nap_hiscore+14,x
  1751 6487 9D 10 05			sta sprites+startWyniki+$500,x
  1752 648A BD 58 55			lda nap_hiscore+21,x
  1753 648D 9D 10 06			sta sprites+startWyniki+$600,x
  1754 6490 BD E9 54			lda nap_1up,x
  1755 6493 9D 22 04			sta sprites+$421+1,x
  1756 6496 BD F0 54			lda nap_1up+7,x
  1757 6499 9D 22 05			sta sprites+$521+1,x
  1758 649C BD 7E 55			lda nap_0,x
  1759 649F 9D 19 03			sta sprites+$319,x
  1760 64A2 9D 2A 03			sta sprites+$32A,x
  1761 64A5 BD 69 55			lda nap_round,x
  1762 64A8 9D E6 03			sta sprites+$3e9-3,x
  1763 64AB BD 70 55			lda nap_round+7,x
  1764 64AE 9D E6 04			sta sprites+$4e9-3,x
  1765 64B1 BD 77 55			lda nap_round+14,x
  1766 64B4 9D E6 05			sta sprites+$5e9-3,x
  1767 64B7 CA				dex
  1768 64B8 10 BE			bpl @-
  1769
  1770 64BA 60				rts
  1771
  1772 64BB			znakibosc1	
  1773 64BB 00 00 00 00 00 00 + 		:8 dta b(0)
  1774
  1775 64C3 00					dta b(0)
  1776 64C4 38					dta b(%00111000)
  1777 64C5 6C					dta b(%01101100)		;a
  1778 64C6 C6					dta b(%11000110)
  1779 64C7 C6					dta b(%11000110)
  1780 64C8 FE					dta b(%11111110)
  1781 64C9 C6					dta b(%11000110)
  1782 64CA C6					dta b(%11000110)
  1783
  1784 64CB 00					dta b(0)
  1785 64CC FC					dta b(%11111100)		;b
  1786 64CD C6 C6				:2 dta b(%11000110)
  1787 64CF FC					dta b(%11111100)
  1788 64D0 C6 C6				:2 dta b(%11000110)
  1789 64D2 FE					dta b(%11111110)	
  1790
  1791 64D3 00					dta b(0)
  1792 64D4 FE					dta b(%11111110)		;f
  1793 64D5 C0 C0				:2 dta b(%11000000)
  1794 64D7 FC					dta b(%11111100)
  1795 64D8 C0 C0 C0				:3 dta b(%11000000)		
  1796 						
  1797 64DB 00					dta b(0)
  1798 64DC C0 C0 C0 C0 C0 C0			:6 dta b(%11000000)	;l
  1799 64E2 FC					dta b(%11111100)
  1800 						
  1801 64E3 00					dta b(0)	
  1802 64E4 7C					dta b(%01111100)
  1803 64E5 C6 C6 C6 C6 C6			:5 dta b(%11000110)		;o
  1804 64EA 7C					dta b(%01111100)
  1805
  1806 64EB 00					dta b(0)
  1807 64EC 78					dta b(%01111000)
  1808 64ED CC					dta b(%11001100)
  1809 64EE C0					dta b(%11000000)		;s
  1810 64EF 7C					dta b(%01111100)
  1811 64F0 06					dta b(%00000110)
  1812 64F1 C6					dta b(%11000110)
  1813 64F2 7C					dta b(%01111100)
  1814 						
  1815 64F3 00					dta b(0)
  1816 64F4 7E					dta b(%01111110)
  1817 64F5 18 18 18 18 18 18			:6 dta b(%00011000)	;t
   530 64FB						icl 'bliczby.asm'
Source: bliczby.asm
     1
     2
     3 				;jesli gracz zarobil jakies punkty to sa dodawane do score i wyswietlane
     4 = 64FB			sumaPunkty	equ	*
     5 64FB AD BB 35				lda plusScore
     6 64FE 0D BC 35				ora plusScore+1
     7 6501 D0 01				bne @+
     8 6503 60					rts
     9 6504 F8			@		sed
    10 6505 18					clc
    11 6506 AD BB 35				lda plusScore
    12 6509 6D 7F 32				adc score
    13 650C 8D 7F 32				sta score
    14 650F AD 80 32				lda score+1
    15 6512 48					pha
    16 6513 29 F0				and #$f0
    17 6515 85 A5				sta pom0
    18 6517 68					pla
    19 6518 6D BC 35				adc plusScore+1
    20 651B 8D 80 32				sta score+1
    21 651E AD 81 32				lda score+2
    22 6521 69 00				adc #0
    23 6523 8D 81 32				sta score+2
    24 6526 D8					cld
    25 						
    26 6527 AD 80 32				lda score+1
    27 652A 29 F0				and #$f0
    28 652C C9 20				cmp #$20
    29 652E F0 04				beq @+
    30 6530 C9 70				cmp #$70
    31 6532 D0 0F				bne @+1
    32 6534 C5 A5		@		cmp pom0
    33 6536 F0 0B				beq @+		;obecne=poprzedniemu
    34 						
    35 6538 EE 1A 31				inc lives
    36 653B 20 2E 5D				jsr printLives
    37 						
    38 653E A9 1A 8D BF 36			mva #13*2 SFX_EXTRA		;extra life
    39 						
    40 6543 A9 00 8D BB 35	@		mva #0 plusScore
    41 6548 8D BC 35				sta plusScore+1
    42 654B 8D 85 32				sta scoreZmiana
    43 654E 60					rts
    44 						
    45 				;punkty
    46 = 654F			piszScore1	equ *
    47 654F A9 45 85 A0				mva #>cyfra1	pom2+1
    48 6553 A9 46 85 9E				mva #>cyfra2	pom1+1
    49 6557 EE 85 32				inc scoreZmiana
    50 						
    51 655A A2 00				ldx #0
    52 655C AD 81 32				lda score+2
    53 655F F0 20				beq @+2		;score+2=0
    54 						
    55 6561 E8					inx		;sÄ… juÅ¼ z przodu cyfry (wyswietlaj wszystkie 0)
    56 6562 29 0F				and #%1111		;tysiace
    57 6564 0A 0A 0A				:3 asl
    58 6567 85 9F				sta pom2
    59 						
    60 6569 AD 81 32				lda score+2
    61 656C 29 F0				and #%11110000
    62 656E 4A					lsr
    63 656F D0 02				bne @+
    64 6571 A9 50				lda #10*8	;puste
    65 6573 85 9D		@		sta pom1		
    66 						
    67 6575 A0 06				ldy #6
    68 = 6577			@		equ *
    69 6577 B1 9F		_poz5	lda (pom2),y
    70 6579 11 9D		_poz6	ora (pom1),y
    71 657B 99 2A 04				sta sprites+$400+startWyniki+26,y
    72 657E 88					dey
    73 657F 10 F6				bpl @-	
    74 						
    75 6581 AD 80 32		@		lda score+1
    76 6584 D0 04				bne @+
    77 6586 E0 00				cpx #0
    78 6588 F0 24				beq @+3		;rysuj wszystkie cyfry
    79 						
    80 658A 29 0F		@		and #%1111		;setki
    81 658C 0A 0A 0A				:3 asl
    82 658F 85 9F				sta pom2
    83 					
    84 6591 AD 80 32				lda score+1
    85 6594 29 F0				and #%11110000
    86 6596 4A					lsr
    87 6597 D0 06				bne @+		;nie zero
    88 6599 E0 00				cpx #0	
    89 659B D0 02				bne @+
    90 659D A9 50				lda #10*8		;pusty znak
    91 659F 85 9D		@		sta pom1	
    92 65A1 E8					inx
    93 						
    94 65A2 A0 06				ldy #6
    95 = 65A4			@		equ *
    96 65A4 B1 9F		_poz3	lda (pom2),y
    97 65A6 11 9D		_poz4	ora (pom1),y
    98 65A8 99 2A 05				sta sprites+$500+startWyniki+26,y
    99 65AB 88					dey
   100 65AC 10 F6				bpl @-	
   101 						
   102 65AE AD 7F 32		@		lda score
   103 65B1 D0 06				bne @+
   104 65B3 E0 00				cpx #0
   105 65B5 D0 02				bne @+
   106 65B7 A9 0A				lda #10
   107 						
   108 65B9 29 0F		@		and #%1111
   109 65BB 0A 0A 0A				:3 asl
   110 65BE 85 9F				sta pom2
   111 						
   112 65C0 AD 7F 32				lda score
   113 65C3 29 F0				and #%11110000
   114 65C5 4A					lsr
   115 						
   116 						
   117 65C6 D0 06				bne @+		;nie zero
   118 65C8 E0 00				cpx #0	
   119 65CA D0 02				bne @+
   120 65CC A9 50				lda #10*8		;pusty znak
   121 65CE 85 9D		@		sta pom1	
   122 						
   123 65D0 A0 06				ldy #6
   124 = 65D2			@		equ *
   125 65D2 B1 9F		_poz1	lda (pom2),y
   126 65D4 11 9D		_poz2	ora (pom1),y
   127 65D6 99 2A 06				sta sprites+$600+startWyniki+26,y
   128 65D9 88					dey
   129 65DA 10 F6				bpl @-
   130 						
   131 65DC 60					rts
   132
   133 						
   134 				;czysc setki i tysiace
   135 = 65DD			czyscScore	equ *
   136 65DD A9 00				lda #0
   137 65DF A2 06				ldx #6
   138 65E1 9D 2A 04		@		sta sprites+$400+startWyniki+26,x 
   139 65E4 9D 2A 05				sta sprites+$500+startWyniki+26,x
   140 65E7 CA					dex
   141 65E8 10 F7				bpl @-
   142 						
   143 65EA 60					rts
   144 						
   145 = 65EB			czyHscore	equ *
   146 65EB AD 15 31				lda flagHscore
   147 65EE D0 24				bne czyH0		;score zliczamy razem z hscore
   148
   149 65F0 AD 81 32				lda score+2
   150 65F3 CD 84 32				cmp hscore+2
   151 65F6 B0 01				bcs *+3
   152 65F8 60					rts	;score<hscore
   153 						
   154 65F9 D0 14				bne czyH1		;score>hscore
   155
   156 				;score=hscore
   157 65FB AD 80 32				lda score+1
   158 65FE CD 83 32				cmp hscore+1
   159 6601 B0 01				bcs *+3
   160 6603 60					rts	;score<hscore
   161 						
   162 6604 D0 09				bne czyH1	;score>hscore
   163 						
   164 6606 AD 7F 32				lda score
   165 6609 CD 82 32				cmp hscore
   166 660C B0 01				bcs *+3
   167 660E 60					rts
   168 						
   169 660F A9 01 8D 15 31	czyH1	mva #1 flagHscore
   170 						
   171 = 6614			czyH0	equ *
   172 						.rept 7, #
   173 						LDA SPRITES+$600+STARTWYNIKI+26+:1
   174 						STA SPRITES+$600+STARTWYNIKI+9+:1
   175 						LDA SPRITES+$500+STARTWYNIKI+26+:1
   176 						STA SPRITES+$500+STARTWYNIKI+9+:1
   177 						LDA SPRITES+$400+STARTWYNIKI+26+:1
   178 						STA SPRITES+$400+STARTWYNIKI+9+:1
   179 						.ENDR
   179 						.endr
Source: REPT
   173 6614 AD 2A 06				LDA SPRITES+$600+STARTWYNIKI+26+0
   173 6617 8D 19 06				STA SPRITES+$600+STARTWYNIKI+9+0
   173 661A AD 2A 05				LDA SPRITES+$500+STARTWYNIKI+26+0
   173 661D 8D 19 05				STA SPRITES+$500+STARTWYNIKI+9+0
   173 6620 AD 2A 04				LDA SPRITES+$400+STARTWYNIKI+26+0
   173 6623 8D 19 04				STA SPRITES+$400+STARTWYNIKI+9+0
   173 6626 AD 2B 06				LDA SPRITES+$600+STARTWYNIKI+26+1
   173 6629 8D 1A 06				STA SPRITES+$600+STARTWYNIKI+9+1
   173 662C AD 2B 05				LDA SPRITES+$500+STARTWYNIKI+26+1
   173 662F 8D 1A 05				STA SPRITES+$500+STARTWYNIKI+9+1
   173 6632 AD 2B 04				LDA SPRITES+$400+STARTWYNIKI+26+1
   173 6635 8D 1A 04				STA SPRITES+$400+STARTWYNIKI+9+1
   173 6638 AD 2C 06				LDA SPRITES+$600+STARTWYNIKI+26+2
   173 663B 8D 1B 06				STA SPRITES+$600+STARTWYNIKI+9+2
   173 663E AD 2C 05				LDA SPRITES+$500+STARTWYNIKI+26+2
   173 6641 8D 1B 05				STA SPRITES+$500+STARTWYNIKI+9+2
   173 6644 AD 2C 04				LDA SPRITES+$400+STARTWYNIKI+26+2
   173 6647 8D 1B 04				STA SPRITES+$400+STARTWYNIKI+9+2
   173 664A AD 2D 06				LDA SPRITES+$600+STARTWYNIKI+26+3
   173 664D 8D 1C 06				STA SPRITES+$600+STARTWYNIKI+9+3
   173 6650 AD 2D 05				LDA SPRITES+$500+STARTWYNIKI+26+3
   173 6653 8D 1C 05				STA SPRITES+$500+STARTWYNIKI+9+3
   173 6656 AD 2D 04				LDA SPRITES+$400+STARTWYNIKI+26+3
   173 6659 8D 1C 04				STA SPRITES+$400+STARTWYNIKI+9+3
   173 665C AD 2E 06				LDA SPRITES+$600+STARTWYNIKI+26+4
   173 665F 8D 1D 06				STA SPRITES+$600+STARTWYNIKI+9+4
   173 6662 AD 2E 05				LDA SPRITES+$500+STARTWYNIKI+26+4
   173 6665 8D 1D 05				STA SPRITES+$500+STARTWYNIKI+9+4
   173 6668 AD 2E 04				LDA SPRITES+$400+STARTWYNIKI+26+4
   173 666B 8D 1D 04				STA SPRITES+$400+STARTWYNIKI+9+4
   173 666E AD 2F 06				LDA SPRITES+$600+STARTWYNIKI+26+5
   173 6671 8D 1E 06				STA SPRITES+$600+STARTWYNIKI+9+5
   173 6674 AD 2F 05				LDA SPRITES+$500+STARTWYNIKI+26+5
   173 6677 8D 1E 05				STA SPRITES+$500+STARTWYNIKI+9+5
   173 667A AD 2F 04				LDA SPRITES+$400+STARTWYNIKI+26+5
   173 667D 8D 1E 04				STA SPRITES+$400+STARTWYNIKI+9+5
   173 6680 AD 30 06				LDA SPRITES+$600+STARTWYNIKI+26+6
   173 6683 8D 1F 06				STA SPRITES+$600+STARTWYNIKI+9+6
   173 6686 AD 30 05				LDA SPRITES+$500+STARTWYNIKI+26+6
   173 6689 8D 1F 05				STA SPRITES+$500+STARTWYNIKI+9+6
   173 668C AD 30 04				LDA SPRITES+$400+STARTWYNIKI+26+6
   173 668F 8D 1F 04				STA SPRITES+$400+STARTWYNIKI+9+6
Source: bliczby.asm
   180 6692 60					rts
   181 					
   182 				;Wyswietla numer poziomu
   183 = 6693			piszPoziom	equ *
   184 6693 A9 45 85 A0				mva #>cyfra1 pom2+1
   185 6697 A9 46 85 9E				mva #>cyfra2	pom1+1
   186 669B A2 00				ldx #0
   187 669D AD 16 31				lda poziom
   188 66A0 C9 64				cmp #100			;jesli poziom jest >= 100 to wyÅ›wietl 99
   189 66A2 90 02				bcc @+
   190 66A4 A9 63				lda #99
   191 						
   192 66A6 C9 0A		@		cmp #10
   193 66A8 90 05				bcc @+
   194 66AA E8					inx
   195 66AB E9 0A				sbc #10
   196 66AD B0 F7				bcs @-
   197 						
   198 66AF 0A 0A 0A		@		:3 asl
   199 66B2 85 9F				sta pom2
   200 						;sta _lev1+1
   201 							
   202 66B4 E0 00				cpx #0
   203 66B6 D0 02				bne @+
   204 66B8 A2 0A				ldx #10
   205 						
   206 66BA 8A			@		txa
   207 66BB 0A 0A 0A				:3 asl
   208 66BE 85 9D				sta pom1
   209 						;sta _lev2+1
   210 						
   211 66C0 A0 06				ldy #6
   212 = 66C2			@		equ *
   213 66C2 B1 9F		_lev1	lda (pom2),y
   214 66C4 11 9D		_lev2	ora (pom1),y
   215 66C6 99 E6 06				sta sprites+$600+startWyniki+217-3,y
   216 66C9 88					dey
   217 66CA 10 F6				bpl @-
   218
   219 66CC 60					rts
   220 						
   221 = 66CD			piszHscore1	equ *	
   222 66CD A9 45 85 A0				mva #>cyfra1	pom2+1
   223 66D1 A9 46 85 9E				mva #>cyfra2	pom1+1
   224 66D5 A2 00				ldx #0
   225 66D7 AD 84 32				lda hscore+2
   226 66DA F0 20				beq @+2		;score+2=0
   227 						
   228 66DC E8					inx		;sÄ… juÅ¼ z przodu cyfry (wyswietlaj wszystkie 0)
   229 66DD 29 0F				and #%1111		;tysiace
   230 66DF 0A 0A 0A				:3 asl
   231 66E2 85 9F				sta pom2
   232 						;sta _pozh5+1
   233 					
   234 66E4 AD 84 32				lda hscore+2
   235 66E7 25 F0				and %11110000
   236 66E9 4A					lsr
   237 66EA D0 02				bne @+
   238 66EC A9 50				lda #10*8
   239 66EE			@		;sta _pozh6+1
   240 66EE 85 9D				sta pom1
   241 						
   242 66F0 A0 06				ldy #6
   243 = 66F2			@		equ *
   244 66F2 B1 9F		_pozh5	lda (pom2),y
   245 66F4 11 9D		_pozh6	ora (pom1),y
   246 66F6 99 19 04				sta sprites+$400+startWyniki+9,y
   247 66F9 88					dey
   248 66FA 10 F6				bpl @-	
   249 						
   250 66FC AD 83 32		@		lda hscore+1
   251 66FF D0 04				bne @+
   252 6701 E0 00				cpx #0
   253 6703 F0 24				beq @+3		;rysuj wszystkie cyfry
   254 						
   255 6705 29 0F		@		and #%1111		;setki
   256 6707 0A 0A 0A				:3 asl
   257 670A 85 9F				sta pom2
   258 						;sta _pozh3+1
   259
   260 670C AD 83 32				lda hscore+1
   261 670F 29 F0				and #%11110000
   262 6711 4A					lsr
   263 6712 D0 06				bne @+
   264 6714 E0 00				cpx #0
   265 6716 D0 02				bne @+
   266 6718 A9 50				lda #10*8
   267 671A			@		;sta _pozh4+1
   268 671A 85 9D				sta pom1
   269 671C E8					inx
   270 						
   271 671D A0 06				ldy #6
   272 = 671F			@		equ *
   273 671F B1 9F		_pozh3	lda (pom2),y
   274 6721 11 9D		_pozh4	ora (pom1),y
   275 6723 99 19 05				sta sprites+$500+startWyniki+9,y
   276 6726 88					dey
   277 6727 10 F6				bpl @-	
   278 						
   279 6729 AD 82 32		@		lda hscore
   280 672C D0 06				bne @+
   281 672E E0 00				cpx #0
   282 6730 D0 02				bne @+
   283 6732 A9 0A				lda #10
   284 						
   285 6734 29 0F		@		and #%1111
   286 6736 0A 0A 0A				:3 asl
   287 6739 85 9F				sta pom2
   288 						;sta _pozh1+1
   289
   290 673B AD 82 32				lda hscore
   291 673E 29 F0				and #%11110000
   292 6740 4A					lsr
   293 6741 D0 06				bne @+
   294 6743 E0 00				cpx #0
   295 6745 D0 02				bne @+
   296 6747 A9 50				lda #10*8
   297 6749			@		;sta _pozh2+1
   298 6749 85 9D				sta pom1
   299 						
   300
   301 674B A0 06				ldy #6
   302 = 674D			@		equ *
   303 674D B1 9F		_pozh1	lda (pom2),y
   304 674F 11 9D		_pozh2	ora (pom1),y
   305 6751 99 19 06				sta sprites+$600+startWyniki+9,y
   306 6754 88					dey
   307 6755 10 F6				bpl @-
   308 						
   309 6757 60					rts
   310
   311 						
   312 						
   313
   314 						
   531 6758						icl 'poziomy.asm'
Source: poziomy.asm
     1
     2
     3 6758 30 DC 03 9B 03 20 + level1		ins 'levels/level1.bin'
     4 6763 3C 63 C1 9B 03 DF + level2		ins 'levels/level2.bin'
     5 676E 2D 8C 92 9C 04 12 + level3		ins 'levels/level3.bin'
     6 677B 30 55 65 9C 08 BC + level4		ins 'levels/level4.bin'
     7 6790 27 6F 59 8D 04 29 + level5		ins 'levels/level5.bin'
     8 679D 42 DE 54 9D 08 A7 + level6		ins 'levels/level6.bin'	
     9 67B2 22 9B 46 9D 08 1F + level7		ins 'levels/level7.bin'		
    10 67C7 B1 6F 53 98 08 90 + level8		ins 'levels/level8.bin'
    11 67DC C3 C4 63 98 08 10 + level9		ins 'levels/level9.bin'
    12 67F1 BD 6F 55 9A 08 1D + level10		ins 'levels/level10.bin'
    13 6806 C4 DD 46 9A 08 50 + level11		ins 'levels/level11.bin'
    14 681B B0 E7 55 99 08 2D + level12		ins 'levels/level12.bin'
    15 6830 BE 6D 54 99 08 6F + level13		ins 'levels/level13.bin'
    16 6845 C5 DC 56 A9 09 32 + level14		ins 'levels/level14.bin'
    17 685C C9 CA 54 9E 07 10 + level15		ins 'levels/level15.bin'
    18 686F B6 60 55 9E 06 15 + level16		ins 'levels/level16.bin'
    19 6880 B0 7C 46 A7 07 2E + level17		ins 'levels/level17.bin'
    20 6893 B9 A7 54 98 09 3B + level18		ins 'levels/level18.bin'
    21 68AA A5 9B 56 97 0A 53 + level19		ins 'levels/level19.bin'
    22 68C3 AD 5F 56 D7 08 3C + level20		ins 'levels/level20.bin'
    23 68D8 B0 C5 54 96 08 4A + level21		ins 'levels/level21.bin'			
    24 68ED B8 59 42 86 07 3B + level22		ins 'levels/level22.bin'
    25 6900 AD 61 56 90 0A 12 + level23		ins 'levels/level23.bin'
    26 6919 CC D5 45 90 0C DE + level24		ins 'levels/level24.bin'			
    27 6936 BD B0 44 92 10 E5 + level25		ins 'levels/level25.bin'
    28 695B B5 AF 44 82 0C 2A + level26		ins 'levels/level26.bin'
    29 6978 B1 CE 54 93 08 57 + level27		ins 'levels/level27.bin'			
    30 698D A9 D2 46 93 0F C0 + level28		ins 'levels/level28.bin'
    31 69B0 91 70 46 94 0C 36 + level29		ins 'levels/level29.bin'
    32 69CD B0 74 35 94 0E 94 + level30		ins 'levels/level30.bin'			
    33 69EE B5 B8 35 85 0E 2A + level31		ins 'levels/level31.bin'
    34 6A0F B1 5A 36 95 0C 40 + level32		ins 'levels/level32.bin'
   532 6A2C						icl 'bmove.asm'
Source: bmove.asm
     1 = 0000			joy			equ 0
     2
     3
     4 = 0020			maxBombyEkran	equ 32
     5 = 0012			ileGwiazd 	equ 18
     6
     7 6A2C 03 0C 30 C0		gwiazdyPixel	dta b(%11,%1100,%110000,%11000000)
     8
     9 6A30 1C			znakUp1		dta b(28)
    10 6A31 00 01 02 03 04 05 + 			:29 dta b(#)
    11 6A4E 00						dta b(0)
    12 							
    13 = 6A32			znakDown1	equ znakUp1+2
    14
    15 6A4F 20			znakMinus1	dta b(32)
    16 6A50 00 01 02 03 04 05 + 			:33 dta b(#)
    17 6A71 00						dta b(0)
    18 							
    19 = 6A51			znakPlus1 	equ znakMinus1+2
    20 							
    21 				;rysuje obiekty na ekranie (bazy,meteory,bomby)
    22 = 6A72			printEkran	equ *
    23 6A72 A9 00 8D 71 36			mva #0 licznikBazyEkran		;zerujemy licznik widocznych baz
    24 6A77 8D 72 36				sta licznikBombyEkran
    25 6A7A A4 BB				ldy posY
    26 6A7C BE 00 29				ldx tabBazy1,y	;poczatek
    27 6A7F 30 22				bmi pre1a	;brak baz na ekranie
    28 6A81 B9 00 2A				lda tabBazy2,y
    29 6A84 85 DC				sta _pre0a		;end
    30 6A86 BD 8F 02		pre0	lda bazyRodzaj-1,x	
    31 6A89 30 08				bmi pre0a		;negatyw to nie ma bazy
    32 6A8B D0 03				bne @+
    33 6A8D 4C 3C 6C				jmp printBazaA1
    34 6A90 4C BA 6E		@		jmp printBazaB1
    35 6A93 E4 DC		pre0a	cpx _pre0a
    36 6A95 F0 0C				beq pre1a		;jesli juz narysowany to koniec
    37 6A97 E8					inx
    38 6A98 E4 CC				cpx bazyIle
    39 6A9A 90 EA				bcc pre0
    40 6A9C F0 E8				beq pre0
    41 6A9E A2 01				ldx #1			;gdy X>bazyIle
    42 6AA0 4C 86 6A				jmp pre0		;jmp
    43 						
    44 						
    45 6AA3 A4 BB		pre1a	ldy posY	
    46 6AA5 BE 00 2B				ldx tabBomb1,y
    47 6AA8 E0 FF				cpx #255
    48 6AAA D0 03				bne pre2a		;nie ma zadnej bomby na ekranie
    49 6AAC 4C 5D 6B		pre2b	jmp pre3
    50 6AAF B9 00 2C		pre2a	lda tabBomb2,y
    51 6AB2 85 DD				sta _pre2
    52 6AB4 A5 D1 85 DE				mva bombIle pre2_b
    53 6AB8 BD 7F 0A		pre1	lda bombRodzaj-1,x
    54 6ABB 10 10				bpl @+
    55 6ABD E4 DD		pre2	cpx _pre2
    56 6ABF F0 EB				beq pre2b	;narysowano juz wszystkie
    57 6AC1 E8					inx
    58 6AC2 E4 DE		pre2_	cpx pre2_b
    59 6AC4 90 F2				bcc pre1
    60 6AC6 F0 F0				beq pre1
    61 6AC8 A2 01				ldx #1
    62 6ACA 4C B8 6A				jmp pre1	
    63 						
    64 6ACD 38			@		sec
    65 6ACE BD 7F 27				lda bombX-1,x
    66 6AD1 E5 BA				sbc posX
    67 6AD3 A8					tay
    68 6AD4 B9 00 08				lda tabX,y
    69 6AD7 18					clc
    70 6AD8 69 01				adc #1
    71 6ADA C9 22				cmp #34
    72 6ADC B0 DF				bcs pre2
    73 						
    74 6ADE AC 72 36				ldy licznikBombyEkran
    75 6AE1 99 A0 28				sta bombX0,y		;pozycja x+1 na ekranie
    76 						
    77 6AE4 69 07				adc #7
    78 6AE6 85 A5				sta pom0
    79 						
    80 6AE8 38					sec
    81 6AE9 BD FF 27				lda bombY-1,x
    82 6AEC E5 BB				sbc posY
    83 6AEE 18					clc
    84 6AEF 69 01				adc #1
    85 6AF1 C9 1E				cmp #lenDlist+1
    86 						
    87 6AF3 99 C0 28				sta bombY0,y		;pozycja y+1 na ekranie
    88 6AF6 85 9D				sta pom1
    89 							
    90 6AF8 8A					txa
    91 6AF9 99 80 28				sta bombyEkran,y	;nr+1
    92 6AFC EE 72 36				inc licznikBombyEkran
    93 						
    94 6AFF A4 9D				ldy pom1
    95 						
    96 6B01 A5 BC				lda ramka
    97 6B03 D0 12				bne @+
    98 						
    99 6B05 18					clc
   100 6B06 B9 54 37				lda obraz1La+7,y
   101 6B09 65 A5				adc pom0
   102 6B0B 85 9B				sta pom
   103 6B0D B9 79 37				lda obraz1Ha+7,y
   104 6B10 69 00				adc #0
   105 6B12 85 9C				sta pom+1
   106 6B14 4C 26 6B				jmp @+1	;skok bezwarunkowy
   107 6B17 18			@		clc
   108 6B18 B9 9E 37				lda obraz2La+7,y
   109 6B1B 65 A5				adc pom0
   110 6B1D 85 9B				sta pom
   111 6B1F B9 C3 37				lda obraz2Ha+7,y
   112 6B22 69 00				adc #0
   113 6B24 85 9C				sta pom+1
   114
   115 6B26 BD 7F 0A		@		lda bombRodzaj-1,x
   116 6B29 D0 19				bne @+
   117 						
   118 						
   119 6B2B A0 00				ldy #0
   120 6B2D A9 1F				lda #firstBombaChar
   121 6B2F 91 9B				sta (pom),y
   122 						
   123 6B31 C8					iny
   124 6B32 A9 21				lda #firstBombaChar+2
   125 6B34 91 9B				sta (pom),y
   126 						
   127 6B36 A0 30				ldy #48
   128 6B38 A9 20				lda #firstBombaChar+1
   129 6B3A 91 9B				sta (pom),y
   130 						
   131 6B3C C8					iny
   132 6B3D A9 22				lda #firstBombaChar+3
   133 6B3F 91 9B				sta (pom),y
   134 6B41 4C BD 6A				jmp pre2
   135 						
   136 6B44 A0 00		@		ldy #0
   137 6B46 A9 A3				lda #firstMeteorChar+128		
   138 6B48 91 9B				sta (pom),y
   139 						
   140 6B4A C8					iny
   141 6B4B A9 A5				lda #firstMeteorChar+128+2
   142 6B4D 91 9B				sta (pom),y
   143 						
   144 6B4F A0 30				ldy #48
   145 6B51 A9 A4				lda #firstMeteorChar+128+1
   146 6B53 91 9B				sta (pom),y
   147 						
   148 6B55 C8					iny
   149 6B56 A9 A6				lda #firstMeteorChar+128+3
   150 6B58 91 9B				sta (pom),y
   151 6B5A 4C BD 6A				jmp pre2
   152 						
   153 						
   154 6B5D A5 C3		pre3	lda startMapy
   155 6B5F D0 01				bne *+3
   156 6B61 60					rts
   157
   158 6B62 C9 91				cmp #145
   159 6B64 F0 08				beq @+
   160 						
   161 6B66 C9 3C				cmp #60
   162 6B68 F0 04				beq @+
   163 						
   164 6B6A C9 0C				cmp #12
   165 6B6C D0 0E				bne @+2
   166 						
   167 6B6E A2 68		@		ldx #104		;12znakow
   168 6B70 BD DB 6B		@		lda player1chars-1,x
   169 6B73 9D 97 13				sta znaki1-1+115*8,x
   170 6B76 9D 97 17				sta znaki2-1+115*8,x
   171 6B79 CA					dex
   172 6B7A D0 F4				bne @-
   173 						
   174 6B7C C6 C3		@		dec startMapy
   175 						
   176 6B7E A5 C3				lda startMapy
   177 6B80 C9 0A				cmp #10
   178 6B82 D0 08				bne @+
   179 						
   180 6B84 20 F7 5D				jsr graj_sampla
   181 6B87 A9 01 8D 88 36			mva #1 licznikStrzal
   182 						
   183 6B8C A5 C3		@		lda startMapy
   184 6B8E C9 0B				cmp #11
   185 6B90 B0 01				bcs *+3
   186 6B92 60					rts
   187 						
   188 6B93 A5 BC				lda ramka
   189 6B95 D0 1B				bne @+2
   190 						
   191 6B97 A2 09				ldx #9
   192 6B99 BD CD 6B		@		lda playerNapis1,x
   193 6B9C 09 80				ora #128
   194 6B9E 9D 03 1C				sta obraz1+11+13*48,x
   195 6BA1 CA					dex
   196 6BA2 10 F5				bpl @-
   197 						
   198 6BA4 A2 04				ldx #4
   199 6BA6 BD D7 6B		@		lda playerNapis1+10,x
   200 6BA9 09 80				ora #128
   201 6BAB 9D 65 1C				sta obraz1+13+15*48,x
   202 6BAE CA					dex
   203 6BAF 10 F5				bpl @-
   204 						
   205 6BB1 60					rts
   206 						
   207 6BB2 A2 09		@		ldx #9
   208 6BB4 BD CD 6B		@		lda playerNapis1,x
   209 6BB7 09 80				ora #128
   210 6BB9 9D FB 22				sta obraz2+11+13*48,x
   211 6BBC CA					dex
   212 6BBD 10 F5				bpl @-
   213 						
   214 6BBF A2 04				ldx #4
   215 6BC1 BD D7 6B		@		lda playerNapis1+10,x
   216 6BC4 09 80				ora #128
   217 6BC6 9D 5D 23				sta obraz2+13+15*48,x
   218 6BC9 CA					dex
   219 6BCA 10 F5				bpl @-
   220 						
   221 6BCC 60					rts
   222 						
   223 6BCD 77 78 79 7A 7B 7C + playerNapis1	dta b(119,120,121,122,123,124,0,125,126,123,124,123,121,115,122)
   224
   225 								
   226 6BDC 50			player1chars	dta b(%01010000)		;115 D
   227 6BDD 74							dta b(%01110100)
   228 6BDE 44							dta b(%01000100)
   229 6BDF 44							dta b(%01000100)
   230 6BE0 44							dta b(%01000100)
   231 6BE1 44							dta b(%01000100)
   232 6BE2 5C							dta b(%01011100)
   233 6BE3 F0							dta b(%11110000)	
   234 								
   235 6BE4 14							dta b(%00010100)		;116 G
   236 6BE5 7C							dta b(%01111100)
   237 6BE6 40							dta b(%01000000)
   238 6BE7 40							dta b(%01000000)
   239 6BE8 44							dta b(%01000100)
   240 6BE9 44							dta b(%01000100)
   241 6BEA 54							dta b(%01010100)
   242 6BEB FC							dta b(%11111100)
   243
   244 6BEC 44							dta b(%01000100)		;117 M
   245 6BED 54							dta b(%01010100)
   246 6BEE 74							dta b(%01110100)
   247 6BEF 44							dta b(%01000100)
   248 6BF0 44							dta b(%01000100)
   249 6BF1 44							dta b(%01000100)
   250 6BF2 44							dta b(%01000100)
   251 6BF3 CC							dta b(%11001100)
   252 								
   253 6BF4 44							dta b(%01000100)		;118 V
   254 6BF5 44							dta b(%01000100)
   255 6BF6 44							dta b(%01000100)
   256 6BF7 44							dta b(%01000100)
   257 6BF8 44							dta b(%01000100)
   258 6BF9 44							dta b(%01000100)
   259 6BFA DC							dta b(%11011100)
   260 6BFB 30							dta b(%00110000)
   261 								
   262 6BFC 54							dta b(%01010100)		;119 P
   263 6BFD 74							dta b(%01110100)
   264 6BFE 44							dta b(%01000100)
   265 6BFF 54							dta b(%01010100)
   266 6C00 7C							dta b(%01111100)
   267 6C01 40							dta b(%01000000)
   268 6C02 40							dta b(%01000000)
   269 6C03 C0							dta b(%11000000)
   270 								
   271 6C04 40							dta b(%01000000)		;120 L
   272 6C05 40							dta b(%01000000)
   273 6C06 40							dta b(%01000000)
   274 6C07 40							dta b(%01000000)
   275 6C08 40							dta b(%01000000)
   276 6C09 40							dta b(%01000000)
   277 6C0A 54							dta b(%01010100)
   278 6C0B FC							dta b(%11111100)
   279 								
   280 6C0C 10							dta b(%00010000)		;121 A
   281 6C0D 74							dta b(%01110100)
   282 6C0E 44							dta b(%01000100)
   283 6C0F 54							dta b(%01010100)
   284 6C10 74							dta b(%01110100)
   285 6C11 44							dta b(%01000100)
   286 6C12 44							dta b(%01000100)
   287 6C13 CC							dta b(%11001100)
   288 								
   289 6C14 44							dta b(%01000100)		;122 Y
   290 6C15 44							dta b(%01000100)
   291 6C16 44							dta b(%01000100)
   292 6C17 DC							dta b(%11011100)
   293 6C18 10							dta b(%00010000)
   294 6C19 10							dta b(%00010000)
   295 6C1A 10							dta b(%00010000)
   296 6C1B 30							dta b(%00110000)
   297 								
   298 6C1C 54							dta b(%01010100)		;123 E
   299 6C1D 7C							dta b(%01111100)
   300 6C1E 40							dta b(%01000000)
   301 6C1F 50							dta b(%01010000)
   302 6C20 70							dta b(%01110000)
   303 6C21 40							dta b(%01000000)
   304 6C22 54							dta b(%01010100)
   305 6C23 FC							dta b(%11111100)
   306 								
   307 6C24 50							dta b(%01010000)		;124 R
   308 6C25 74							dta b(%01110100)
   309 6C26 44							dta b(%01000100)
   310 6C27 50							dta b(%01010000)
   311 6C28 74							dta b(%01110100)
   312 6C29 44							dta b(%01000100)
   313 6C2A 44							dta b(%01000100)
   314 6C2B CC							dta b(%11001100)
   315 								
   316 6C2C 14							dta b(%00010100)		;125 O
   317 6C2D 74							dta b(%01110100)
   318 6C2E 44							dta b(%01000100)
   319 6C2F 44							dta b(%01000100)
   320 6C30 44							dta b(%01000100)
   321 6C31 44							dta b(%01000100)
   322 6C32 5C							dta b(%01011100)
   323 6C33 F0							dta b(%11110000)
   324 								
   325 6C34 50							dta b(%01010000)		;126 N
   326 6C35 74							dta b(%01110100)
   327 6C36 44							dta b(%01000100)
   328 6C37 44							dta b(%01000100)
   329 6C38 44							dta b(%01000100)
   330 6C39 44							dta b(%01000100)
   331 6C3A 44							dta b(%01000100)
   332 6C3B CC							dta b(%11001100)
   333 								
   334 								
   335
   336 = 6C3C			printBazaA1	equ *
   337 6C3C 38					sec
   338 6C3D BD BF 02				lda bazyX-1,x
   339 6C40 E5 BA				sbc posX
   340 6C42 A8					tay
   341 6C43 B9 00 08				lda tabX,y
   342 6C46 9D CF 02				sta bazyX0-1,x
   343 6C49 18					clc
   344 6C4A 69 08				adc #8
   345 						
   346 6C4C C9 29				cmp #41
   347 6C4E 90 03				bcc @+
   348 6C50 4C 93 6A				jmp pre0a
   349
   350 6C53 85 A5		@		sta pom0
   351 						
   352 6C55 38					sec
   353 6C56 BD DF 02				lda bazyY-1,x
   354 6C59 E5 BB				sbc posY
   355 6C5B 9D EF 02				sta bazyY0-1,x
   356 6C5E 18					clc
   357 6C5F 69 07				adc #7	
   358 						
   359 6C61 85 A6		@		sta pom0a
   360 						
   361 						
   362 6C63 A5 CB				lda czyRakiety		;czy na mapie sa rakiety?
   363 6C65 F0 5A				beq @+
   364 6C67 A5 C3				lda startMapy
   365 6C69 05 C2				ora trafienie
   366 6C6B D0 54				bne @+
   367 6C6D BD AF 02				lda bazyRakieta-1,x
   368 6C70 10 4F				bpl @+
   369 6C72					DODAJRAKIETAA
Macro: DODAJRAKIETAA [Source: rakiety.asm]
     1 6C72 AD 82 36					lda licznikJadroA
     2 6C75 C9 05					cmp #5
     3 6C77 90 48					bcc dra1
     4 6C79 C9 10					cmp #16
     5 6C7B B0 44					bcs dra1
     2 6C7D A0 07					ldy #7
     3 6C7F B9 E0 28		szrak0		lda rakietyStan,y
     4 6C82 F0 03					beq szrak1
     5 6C84 88						dey
     6 6C85 10 F8					bpl szrak0
     7 6C87 98			szrak1		tya
     8 6C88 9D AF 02					sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
    10 6C8B 8A						txa
    11 6C8C 99 E0 28					sta rakietyStan,y
    12 6C8F BD BF 02					lda bazyX-1,x
    13 6C92 18						clc
    14 6C93 69 04					adc #4
    15 6C95 99 F0 28					sta rakietyX,y
    17 6C98 BD EF 02					lda bazyY0-1,x		;nad czy pod statkiem ?
    18 6C9B 18						clc
    19 6C9C 69 08					adc #8
    20 6C9E C9 12					cmp #10+8
    21 6CA0 90 11					bcc dra2
    23 6CA2 A9 00 99 E8 28				mva #0 rakietyTyp,y		;w gore
    24 6CA7 BD DF 02					lda bazyY-1,x
    25 6CAA 18						clc
    26 6CAB 69 02					adc #2
    27 6CAD 99 78 02					sta rakietyY,y
    28 6CB0 4C C1 6C					jmp dra1
    30 6CB3 A9 01 99 E8 28	dra2		mva #1 rakietyTyp,y		;w dol
    31 6CB8 BD DF 02					lda bazyY-1,x
    32 6CBB 18						clc
    33 6CBC 69 04					adc #4
    34 6CBE 99 78 02					sta rakietyY,y
    36 = 6CC1			dra1		equ *
Source: bmove.asm
   370 6CC1 8A			@		txa
   371 6CC2 AC 71 36				ldy licznikBazyEkran
   372 6CC5 99 73 36				sta BazyEkran,y
   373 6CC8 EE 71 36				inc licznikBazyEkran
   374 						
   375 6CCB A4 A6		@		ldy pom0a
   376 6CCD A5 BC				lda ramka
   377 6CCF D0 18				bne @+
   378 						
   379 6CD1 18					clc
   380 6CD2 B9 4E 37				lda obraz1La+1,y
   381 6CD5 65 A5				adc pom0
   382 6CD7 85 9B				sta pom
   383 6CD9 85 9D				sta pom1
   384 6CDB B9 73 37				lda obraz1Ha+1,y
   385 6CDE 69 00				adc #0
   386 6CE0 85 9C				sta pom+1
   387 6CE2 69 01				adc #1
   388 6CE4 85 9E				sta pom1+1
   389 6CE6 4C FE 6C				jmp @+1	;skok bezwarunkowy
   390 6CE9 18			@		clc
   391 6CEA B9 98 37				lda obraz2La+1,y
   392 6CED 65 A5				adc pom0
   393 6CEF 85 9B				sta pom
   394 6CF1 85 9D				sta pom1
   395 6CF3 B9 BD 37				lda obraz2Ha+1,y
   396 6CF6 69 00				adc #0
   397 6CF8 85 9C				sta pom+1
   398 6CFA 69 01				adc #1
   399 6CFC 85 9E				sta pom1+1
   400
   401 6CFE BD 9F 02		@		lda bazystan-1,x
   402 6D01 85 A7				sta pom0b
   403
   404 6D03 C0 1D				cpy #29
   405 6D05 90 0A				bcc @+
   406 						
   407 6D07 A9 01				lda #1
   408 6D09 99 E3 00				sta tabLineA-29,y
   409 6D0C 84 A5				sty pom0
   410 6D0E 4C 3A 6D				jmp _rysBazA
   411 						
   412 						
   413 						
   414 6D11 C0 07		@		cpy #7
   415 6D13 B0 25				bcs _rysBazA
   416 						
   417 6D15 B9 22 6D				lda tab_prbaz1,y
   418 6D18 85 A3				sta pom4
   419 6D1A B9 29 6D				lda tab_prbaz1+7,y
   420 6D1D 85 A4				sta pom4+1
   421 6D1F 6C A3 00				jmp (pom4)
   422
   423 6D22 8D 6E 39 FC B9 7E + tab_prbaz1	dta b(<lin7a,<lin6a,<lin5a,<lin4a,<lin3a,<lin2a,<lin1a)		
   424 6D29 6E 6E 6E 6D 6D 6D + 			dta b(>lin7a,>lin6a,>lin5a,>lin4a,>lin3a,>lin2a,>lin1a)		
   425
   426 6D30			prb1a		
   427 6D30 A4 A5				ldy pom0
   428 6D32 A9 00				lda #0
   429 6D34 99 E3 00				sta tabLineA-29,y
   430 6D37 4C 93 6A				jmp pre0a
   431 							
   432 = 6D3A			_rysBazA	equ *			
   433 6D3A BD FF 08		@		lda bazyCannon0a-1,x
   434 6D3D F0 04				beq @+
   435 6D3F A0 02				ldy #2
   436 6D41 91 9B				sta (pom),y
   437 6D43 A0 03		@		ldy #3
   438 6D45 BD 0F 09				lda bazyCannon0b-1,x
   439 6D48 91 9B				sta (pom),y
   440 6D4A A0 05				ldy #5
   441 6D4C BD 3F 09				lda bazyCannon1a-1,x
   442 6D4F 91 9B				sta (pom),y
   443 						
   444 6D51 BD 4F 09				lda bazyCannon1b-1,x
   445 6D54 F0 04				beq @+	;lin1a
   446 6D56 A0 06				ldy #6
   447 6D58 91 9B				sta (pom),y
   448 						
   449 6D5A AD 06 01		@		lda tabLineA+6
   450 6D5D D0 D1				bne prb1a
   451 						
   452 6D5F A0 32		lin1a	ldy #50
   453 6D61 BD 1F 09				lda bazyCannon0c-1,x
   454 6D64 91 9B				sta (pom),y
   455 6D66 C8					iny
   456 6D67 BD 2F 09				lda bazyCannon0d-1,x
   457 6D6A 91 9B				sta (pom),y
   458 6D6C A0 35				ldy #53
   459 6D6E BD 5F 09				lda bazyCannon1c-1,x
   460 6D71 91 9B				sta (pom),y
   461 6D73 C8					iny
   462 6D74 BD 6F 09				lda bazyCannon1d-1,x
   463 6D77 91 9B				sta (pom),y
   464 						
   465 6D79 AD 05 01				lda tabLineA+5
   466 6D7C D0 B2				bne prb1a
   467 						
   468 6D7E A0 61		lin2a	ldy #97
   469 6D80 A9 0C				lda #b+9
   470 6D82 91 9B				sta (pom),y
   471
   472 6D84 A5 A7				lda pom0b		;jesli zbite dzialko 0
   473 6D86 29 01				and #%1
   474 6D88 F0 06				beq @+
   475 						
   476 6D8A A0 62				ldy #98
   477 6D8C A9 0B				lda #b+8
   478 6D8E 91 9B				sta (pom),y
   479 6D90 A0 63		@		ldy #99
   480 6D92 A9 0D				lda #b+10
   481 6D94 91 9B				sta (pom),y
   482 6D96 A0 65				ldy #101
   483 6D98 A9 0E				lda #b+11
   484 6D9A 91 9B				sta (pom),y
   485
   486 6D9C A5 A7				lda pom0b		;jesli zbite dzialko 1
   487 6D9E 29 02				and #%10
   488 6DA0 F0 06				beq @+
   489 						
   490 6DA2 A0 66				ldy #102
   491 6DA4 A9 09				lda #b+6
   492 6DA6 91 9B				sta (pom),y
   493 						
   494 6DA8 A0 67		@		ldy #103
   495 6DAA A9 0A				lda #b+7
   496 6DAC 91 9B				sta (pom),y
   497 						
   498 6DAE AD 04 01				lda tabLineA+4
   499 6DB1 F0 06				beq lin3a
   500 6DB3 CE 04 01				dec tabLineA+4
   501 6DB6 4C 93 6A				jmp pre0a
   502 						
   503 6DB9 BD 3F 0A		lin3a	lda bazyCannon5a-1,x
   504 6DBC F0 04				beq @+
   505 6DBE A0 90				ldy #144
   506 6DC0 91 9B				sta (pom),y
   507 6DC2 A0 91		@		ldy #145
   508 6DC4 BD 4F 0A				lda bazyCannon5b-1,x
   509 6DC7 91 9B				sta (pom),y
   510 6DC9 C8					iny
   511 6DCA A9 07				lda #b+4
   512 6DCC 91 9B				sta (pom),y
   513 6DCE C8					iny
   514 6DCF A9 03				lda #b
   515 6DD1 91 9B				sta (pom),y
   516 6DD3 C8					iny
   517 6DD4 A5 CD				lda _bazaAJadro0
   518 6DD6 91 9B				sta (pom),y
   519 6DD8 C8					iny
   520 6DD9 A9 05				lda #b+2
   521 6DDB 91 9B				sta (pom),y
   522 6DDD C8					iny
   523 6DDE A9 07				lda #b+4
   524 6DE0 91 9B				sta (pom),y
   525 6DE2 C8					iny
   526 6DE3 BD 7F 09				lda bazyCannon2a-1,x
   527 6DE6 91 9B				sta (pom),y
   528 						
   529 6DE8 BD 8F 09				lda bazyCannon2b-1,x
   530 6DEB F0 04				beq @+	;lin4a
   531 6DED A0 98				ldy #152
   532 6DEF 91 9B				sta (pom),y
   533 						
   534 6DF1 AD 03 01		@		lda tabLineA+3
   535 6DF4 F0 06				beq lin4a
   536 6DF6 CE 03 01				dec tabLineA+3
   537 6DF9 4C 93 6A				jmp pre0a
   538 						
   539 6DFC BD 5F 0A		lin4a	lda bazyCannon5c-1,x
   540 6DFF F0 04				beq @+
   541 6E01 A0 C0				ldy #192
   542 6E03 91 9B				sta (pom),y
   543 6E05 A0 C1		@		ldy #193
   544 6E07 BD 6F 0A				lda bazyCannon5d-1,x
   545 6E0A 91 9B				sta (pom),y
   546 6E0C C8					iny
   547 6E0D A9 08				lda #b+5
   548 6E0F 91 9B				sta (pom),y
   549 6E11 C8					iny
   550 6E12 A9 04				lda #b+1
   551 6E14 91 9B				sta (pom),y
   552 6E16 C8					iny
   553 6E17 A5 CE				lda _bazaAJadro1	;#b+17+128
   554 6E19 91 9B				sta (pom),y
   555 6E1B C8					iny
   556 6E1C A9 06				lda #b+3
   557 6E1E 91 9B				sta (pom),y
   558 6E20 C8					iny
   559 6E21 A9 08				lda #b+5
   560 6E23 91 9B				sta (pom),y
   561 6E25 C8					iny
   562 6E26 BD 9F 09				lda bazyCannon2c-1,x
   563 6E29 91 9B				sta (pom),y
   564 						
   565 6E2B BD AF 09				lda bazyCannon2d-1,x
   566 6E2E F0 04				beq @+		;lin5a
   567 6E30 A0 C8				ldy #200
   568 6E32 91 9B				sta (pom),y
   569 						
   570 6E34 AD 02 01		@		lda tabLineA+2
   571 6E37 D0 77				bne prb2a
   572 						
   573 6E39 A0 F1		lin5a	ldy #241
   574 6E3B A9 09				lda #b+6
   575 6E3D 91 9B				sta (pom),y
   576
   577 6E3F A5 A7				lda pom0b		;jesli zbite dzialko 4
   578 6E41 29 10				and #%10000
   579 6E43 F0 06				beq @+
   580 						
   581 6E45 A0 F2				ldy #242
   582 6E47 A9 0A				lda #b+7
   583 6E49 91 9B				sta (pom),y
   584 6E4B A0 F3		@		ldy #243
   585 6E4D A9 0E				lda #b+11
   586 6E4F 91 9B				sta (pom),y
   587 6E51 A0 F5				ldy #245
   588 6E53 A9 0D				lda #b+10
   589 6E55 91 9B				sta (pom),y
   590
   591 6E57 A5 A7				lda pom0b	;jesli zbite dzialko 3
   592 6E59 29 08				and #%1000
   593 6E5B F0 06				beq @+
   594 						
   595 6E5D A0 F6				ldy #246
   596 6E5F A9 0C				lda #b+9
   597 6E61 91 9B				sta (pom),y
   598 6E63 A0 F7		@		ldy #247
   599 6E65 A9 0B				lda #b+8
   600 6E67 91 9B				sta (pom),y
   601 						
   602 6E69 AD 01 01				lda tabLineA+1
   603 6E6C D0 42				bne prb2a
   604 						
   605 6E6E A0 22		lin6a	ldy #34
   606 6E70 BD FF 09				lda bazyCannon4a-1,x
   607 6E73 91 9D				sta (pom1),y
   608 6E75 C8					iny
   609 6E76 BD 0F 0A				lda bazyCannon4b-1,x
   610 6E79 91 9D				sta (pom1),y
   611 6E7B A0 25				ldy #37
   612 6E7D BD BF 09				lda bazyCannon3a-1,x
   613 6E80 91 9D				sta (pom1),y
   614 6E82 C8					iny
   615 6E83 BD CF 09				lda bazyCannon3b-1,x
   616 6E86 91 9D				sta (pom1),y
   617 						
   618 6E88 AD 00 01				lda tabLineA
   619 6E8B D0 23				bne prb2a
   620 						
   621 6E8D BD 1F 0A		lin7a	lda bazyCannon4c-1,x
   622 6E90 F0 04				beq @+
   623 6E92 A0 52				ldy #82
   624 6E94 91 9D				sta (pom1),y
   625 6E96 A0 53		@		ldy #83
   626 6E98 BD 2F 0A				lda bazyCannon4d-1,x
   627 6E9B 91 9D				sta (pom1),y
   628 6E9D A0 55				ldy #85
   629 6E9F BD DF 09				lda bazyCannon3c-1,x
   630 6EA2 91 9D				sta (pom1),y
   631 						
   632 6EA4 BD EF 09				lda bazyCannon3d-1,x
   633 6EA7 F0 04				beq @+
   634 6EA9 A0 56				ldy #86
   635 6EAB 91 9D				sta (pom1),y
   636 						
   637 6EAD 4C 93 6A		@		jmp pre0a
   638
   639 6EB0			prb2a		
   640 6EB0 A4 A5				ldy pom0
   641 6EB2 A9 00				lda #0
   642 6EB4 99 E3 00				sta tabLineA-29,y
   643 6EB7 4C 93 6A				jmp pre0a
   644
   645 = 6EBA			printBazaB1	equ *
   646 6EBA 38					sec
   647 6EBB BD BF 02				lda bazyX-1,x
   648 6EBE E5 BA				sbc posX
   649 6EC0 A8					tay
   650 6EC1 B9 00 08				lda tabX,y
   651 6EC4 9D CF 02				sta bazyX0-1,x
   652 6EC7 18					clc
   653 6EC8 69 07				adc #7
   654 						
   655 6ECA C9 28				cmp #40
   656 6ECC 90 03				bcc @+
   657 6ECE 4C 93 6A				jmp pre0a
   658 						
   659 6ED1 69 01		@		adc #1
   660 6ED3 85 A5				sta pom0
   661 						
   662 6ED5 38					sec
   663 6ED6 BD DF 02				lda bazyY-1,x
   664 6ED9 E5 BB				sbc posY
   665 6EDB 9D EF 02				sta bazyY0-1,x
   666 6EDE 18					clc
   667 6EDF 69 08				adc #8		
   668
   669 6EE1 85 A6		@		sta pom0a
   670 						
   671 6EE3 A5 CB				lda czyRakiety
   672 6EE5 F0 5A				beq @+
   673 6EE7 A5 C3				lda startMapy
   674 6EE9 05 C2				ora trafienie
   675 6EEB D0 54				bne @+
   676 6EED BD AF 02				lda bazyRakieta-1,x
   677 6EF0 10 4F				bpl @+
   678 6EF2					DODAJRAKIETAB
Macro: DODAJRAKIETAB [Source: rakiety.asm]
     1 6EF2 AD 83 36					lda licznikJadroB
     2 6EF5 C9 05					cmp #5
     3 6EF7 90 48					bcc drb1
     4 6EF9 C9 10					cmp #16
     5 6EFB B0 44					bcs drb1
     2 6EFD A0 07					ldy #7
     3 6EFF B9 E0 28		szrak0		lda rakietyStan,y
     4 6F02 F0 03					beq szrak1
     5 6F04 88						dey
     6 6F05 10 F8					bpl szrak0
     7 6F07 98			szrak1		tya
     8 6F08 9D AF 02					sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
    10 6F0B 8A						txa
    11 6F0C 99 E0 28					sta rakietyStan,y
    12 6F0F BD DF 02					lda bazyY-1,x
    13 6F12 18						clc
    14 6F13 69 04					adc #4
    15 6F15 99 78 02					sta rakietyY,y
    17 6F18 BD CF 02					lda bazyX0-1,x		;po lewo czy po prawo od statku?
    18 6F1B 18						clc
    19 6F1C 69 08					adc #8
    20 6F1E C9 14					cmp #12+8
    21 6F20 90 11					bcc drb2
    23 6F22 A9 02 99 E8 28				mva #2 rakietyTyp,y		;w lewo
    24 6F27 BD BF 02					lda bazyX-1,x
    25 6F2A 18						clc
    26 6F2B 69 02					adc #2
    27 6F2D 99 F0 28					sta rakietyX,y
    28 6F30 4C 41 6F					jmp drb1
    30 6F33 A9 03 99 E8 28	drb2		mva #3 rakietyTyp,y		;w prawo
    31 6F38 BD BF 02					lda bazyX-1,x
    32 6F3B 18						clc
    33 6F3C 69 04					adc #4
    34 6F3E 99 F0 28					sta rakietyX,y
    36 = 6F41			drb1		equ *			
Source: bmove.asm
   679 6F41 8A			@		txa
   680 6F42 AC 71 36				ldy licznikBazyEkran
   681 6F45 99 73 36				sta BazyEkran,y
   682 6F48 EE 71 36				inc licznikBazyEkran
   683 						
   684 6F4B A4 A6				ldy pom0a
   685 6F4D A5 BC				lda ramka
   686 6F4F D0 18				bne @+
   687 						
   688 6F51 18					clc
   689 6F52 B9 4D 37				lda obraz1La,y
   690 6F55 65 A5				adc pom0
   691 6F57 85 9B				sta pom
   692 6F59 85 9D				sta pom1
   693 6F5B B9 72 37				lda obraz1Ha,y
   694 6F5E 69 00				adc #0
   695 6F60 85 9C				sta pom+1
   696 6F62 69 01				adc #1
   697 6F64 85 9E				sta pom1+1
   698 6F66 4C 7E 6F				jmp @+1	;skok bezwarunkowy
   699 6F69 18			@		clc
   700 6F6A B9 97 37				lda obraz2La,y
   701 6F6D 65 A5				adc pom0
   702 6F6F 85 9B				sta pom
   703 6F71 85 9D				sta pom1
   704 6F73 B9 BC 37				lda obraz2Ha,y
   705 6F76 69 00				adc #0
   706 6F78 85 9C				sta pom+1
   707 6F7A 69 01				adc #1
   708 6F7C 85 9E				sta pom1+1
   709
   710 6F7E BD 9F 02		@		lda bazyStan-1,x
   711 6F81 85 A7				sta pom0b
   712 						
   713 6F83 C0 1D				cpy #29
   714 6F85 90 0A				bcc @+
   715 						
   716 6F87 A9 01				lda #1
   717 6F89 99 EA 00				sta tabLineB-29,y
   718 6F8C 84 A5				sty pom0
   719 6F8E 4C BC 6F				jmp _rysBazB		
   720 						
   721 6F91 C0 08		@		cpy #8
   722 6F93 B0 27				bcs _rysBazB
   723 						
   724 6F95 B9 A2 6F				lda tab_prbaz2,y
   725 6F98 85 A3				sta pom4
   726 6F9A B9 AA 6F				lda tab_prbaz2+8,y
   727 6F9D 85 A4				sta pom4+1
   728 6F9F 6C A3 00				jmp (pom4)
   729
   730 6FA2 24 08 C0 8E 78 40 + tab_prbaz2	dta b(<lin8b,<lin7b,<lin6b,<lin5b,<lin4b,<lin3b,<lin2b,<lin1b)		
   731 6FAA 71 71 70 70 70 70 + 			dta b(>lin8b,>lin7b,>lin6b,>lin5b,>lin4b,>lin3b,>lin2b,>lin1b)
   732 							
   733 6FB2			prb1b		
   734 6FB2 A4 A5				ldy pom0
   735 6FB4 A9 00				lda #0
   736 6FB6 99 EA 00				sta tabLineB-29,y
   737 6FB9 4C 93 6A				jmp pre0a			
   738
   739 = 6FBC			_rysBazB	equ *			
   740 6FBC A0 03		@		ldy #3
   741 6FBE BD FF 08				lda bazyCannon0a-1,x
   742 6FC1 91 9B				sta (pom),y
   743 6FC3 C8					iny
   744 6FC4 BD 0F 09				lda bazyCannon0b-1,x
   745 6FC7 91 9B				sta (pom),y
   746 						
   747 6FC9 AD 0E 01				lda tabLineB+7
   748 6FCC D0 E4				bne prb1b
   749 						
   750 6FCE A0 32		lin1b	ldy #50
   751 6FD0 A9 1C				lda #b+25
   752 6FD2 91 9B				sta (pom),y
   753 6FD4 C8					iny
   754 6FD5 BD 1F 09				lda bazyCannon0c-1,x
   755 6FD8 F0 04				beq @+
   756 6FDA A0 33				ldy #51
   757 6FDC 91 9B				sta (pom),y
   758 6FDE BD 2F 09		@		lda bazyCannon0d-1,x
   759 6FE1 F0 04				beq @+
   760 6FE3 A0 34				ldy #52
   761 6FE5 91 9B				sta (pom),y
   762 6FE7 A0 35		@		ldy #53
   763 6FE9 A9 1E				lda #b+27
   764 6FEB 91 9B				sta (pom),y
   765 						
   766 6FED AD 0D 01				lda tabLineB+6
   767 6FF0 D0 C0				bne prb1b
   768 						
   769 6FF2 BD 3F 0A		lin2b	lda bazyCannon5a-1,x
   770 6FF5 F0 04				beq @+
   771 6FF7 A0 60				ldy #96
   772 6FF9 91 9B				sta (pom),y
   773 6FFB A0 61		@		ldy #97
   774 6FFD BD 4F 0A				lda bazyCannon5b-1,x
   775 7000 91 9B				sta (pom),y
   776
   777 7002 A5 A7				lda pom0b		;jesli zbite dzialko 5
   778 7004 29 20				and #%100000
   779 7006 F0 06				beq @+
   780 						
   781 7008 A0 62				ldy #98
   782 700A A9 1B				lda #b+24
   783 700C 91 9B				sta (pom),y
   784 700E A0 63		@		ldy #99
   785 7010 A9 0F				lda #b+12
   786 7012 91 9B				sta (pom),y
   787 7014 C8					iny
   788 7015 A9 10				lda #b+13
   789 7017 91 9B				sta (pom),y
   790
   791 7019 A5 A7				lda pom0b		;jesli zbite dzialko 1
   792 701B 29 02				and #%10
   793 701D F0 06				beq @+
   794 						
   795 701F A0 65				ldy #101
   796 7021 A9 1D				lda #b+26
   797 7023 91 9B				sta (pom),y
   798 7025 A0 66		@		ldy #102
   799 7027 BD 3F 09				lda bazyCannon1a-1,x
   800 702A 91 9B				sta (pom),y
   801 						
   802 702C BD 4F 09				lda bazyCannon1b-1,x
   803 702F F0 04				beq @+	;lin3b
   804 7031 A0 67				ldy #103
   805 7033 91 9B				sta (pom),y
   806 						
   807 7035 AD 0C 01		@		lda tabLineB+5
   808 7038 F0 06				beq lin3b
   809 703A CE 0C 01				dec tabLineB+5
   810 703D 4C 93 6A				jmp pre0a
   811 						
   812 7040 A0 90		lin3b	ldy #144
   813 7042 BD 5F 0A				lda bazyCannon5c-1,x
   814 7045 91 9B				sta (pom),y
   815 7047 C8					iny
   816 7048 BD 6F 0A				lda bazyCannon5d-1,x
   817 704B 91 9B				sta (pom),y
   818 704D C8					iny
   819 704E A9 11				lda #b+14
   820 7050 91 9B				sta (pom),y
   821 7052 C8					iny
   822 7053 A9 03				lda #b
   823 7055 91 9B				sta (pom),y
   824 7057 C8					iny
   825 7058 A9 05				lda #b+2
   826 705A 91 9B				sta (pom),y
   827 705C C8					iny
   828 705D A9 12				lda #b+15
   829 705F 91 9B				sta (pom),y
   830 7061 C8					iny
   831 7062 BD 5F 09				lda bazyCannon1c-1,x
   832 7065 91 9B				sta (pom),y
   833 7067 C8					iny
   834 7068 BD 6F 09				lda bazyCannon1d-1,x
   835 706B 91 9B				sta (pom),y
   836 						
   837 706D AD 0B 01				lda tabLineB+4
   838 7070 F0 06				beq lin4b
   839 7072 CE 0B 01				dec tabLineB+4
   840 7075 4C 93 6A				jmp pre0a
   841 						
   842 7078 A0 C3		lin4b	ldy #195
   843 707A A5 CF				lda _bazaBJadro0	;#b+18+128
   844 707C 91 9B				sta (pom),y
   845 707E C8					iny
   846 707F A5 D0				lda _bazaBJadro1	;#b+19+128
   847 7081 91 9B				sta (pom),y
   848 						
   849 7083 AD 0A 01				lda tabLineB+3
   850 7086 F0 06				beq lin5b
   851 7088 CE 0A 01				dec tabLineB+3
   852 708B 4C 93 6A				jmp pre0a
   853 						
   854 708E A0 F0		lin5b	ldy #240
   855 7090 BD FF 09				lda bazyCannon4a-1,x
   856 7093 91 9B				sta (pom),y
   857 7095 C8					iny
   858 7096 BD 0F 0A				lda bazyCannon4b-1,x
   859 7099 91 9B				sta (pom),y
   860 709B C8					iny
   861 709C A9 12				lda #b+15
   862 709E 91 9B				sta (pom),y
   863 70A0 C8					iny
   864 70A1 A9 04				lda #b+1
   865 70A3 91 9B				sta (pom),y
   866 70A5 C8					iny
   867 70A6 A9 06				lda #b+3
   868 70A8 91 9B				sta (pom),y
   869 70AA C8					iny
   870 70AB A9 11				lda #b+14
   871 70AD 91 9B				sta (pom),y
   872 70AF C8					iny
   873 70B0 BD 7F 09				lda bazyCannon2a-1,x
   874 70B3 91 9B				sta (pom),y
   875 70B5 C8					iny
   876 70B6 BD 8F 09				lda bazyCannon2b-1,x
   877 70B9 91 9B				sta (pom),y
   878 						
   879 70BB AD 09 01				lda tabLineB+2
   880 70BE D0 79				bne prb2b
   881 						
   882 70C0 BD 1F 0A		lin6b	lda bazyCannon4c-1,x
   883 70C3 F0 04				beq @+
   884 70C5 A0 20				ldy #32
   885 70C7 91 9D				sta (pom1),y
   886 70C9 A0 21		@		ldy #33
   887 70CB BD 2F 0A				lda bazyCannon4d-1,x
   888 70CE 91 9D				sta (pom1),y
   889
   890 70D0 A5 A7				lda pom0b		;jesli zbite dzialko 4
   891 70D2 29 10				and #%10000
   892 70D4 F0 06				beq @+
   893 						
   894 70D6 A0 22				ldy #34
   895 70D8 A9 1E				lda #b+27
   896 70DA 91 9D				sta (pom1),y
   897 70DC A0 23		@		ldy #35
   898 70DE A9 0F				lda #b+12
   899 70E0 91 9D				sta (pom1),y
   900 70E2 C8					iny
   901 70E3 A9 10				lda #b+13
   902 70E5 91 9D				sta (pom1),y
   903
   904 70E7 A5 A7				lda pom0b		;jesli zbite dzialko 2
   905 70E9 29 04				and #%100
   906 70EB F0 06				beq @+
   907 						
   908 70ED A0 25				ldy #37
   909 70EF A9 1C				lda #b+25
   910 70F1 91 9D				sta (pom1),y
   911 70F3 A0 26		@		ldy #38
   912 70F5 BD 9F 09				lda bazyCannon2c-1,x
   913 70F8 91 9D				sta (pom1),y
   914 						
   915 70FA BD AF 09				lda bazyCannon2d-1,x
   916 70FD F0 04				beq @+	;lin7b
   917 70FF A0 27				ldy #39
   918 7101 91 9D				sta (pom1),y
   919 						
   920 7103 AD 08 01		@		lda tabLineB+1
   921 7106 D0 31				bne prb2b
   922 						
   923 7108 A0 52		lin7b	ldy #82
   924 710A A9 1D				lda #b+26
   925 710C 91 9D				sta (pom1),y
   926 710E C8					iny
   927 710F BD BF 09				lda bazyCannon3a-1,x
   928 7112 91 9D				sta (pom1),y
   929 7114 C8					iny
   930 7115 BD CF 09				lda bazyCannon3b-1,x
   931 7118 91 9D				sta (pom1),y
   932 711A C8					iny
   933 711B A9 1B				lda #b+24
   934 711D 91 9D				sta (pom1),y
   935 						
   936 711F AD 07 01				lda tabLineB
   937 7122 D0 15				bne prb2b		
   938 						
   939 7124 BD DF 09		lin8b	lda bazyCannon3c-1,x
   940 7127 F0 04				beq @+
   941 7129 A0 83				ldy #131
   942 712B 91 9D				sta (pom1),y
   943 						
   944 712D BD EF 09		@		lda bazyCannon3d-1,x
   945 7130 F0 04				beq @+
   946 7132 A0 84				ldy #132
   947 7134 91 9D				sta (pom1),y
   948 						
   949 7136 4C 93 6A		@		jmp pre0a
   950
   951 7139			prb2b		
   952 7139 A4 A5				ldy pom0
   953 713B A9 00				lda #0
   954 713D 99 EA 00				sta tabLineB-29,y
   955 7140 4C 93 6A				jmp pre0a
   956 						
   957
   958 = 7143			gwiazdyRysuj2	equ *
   959 7143 A9 00				lda #0
   960 7145 A4 DA				ldy _gwzmaz1
   961 7147 99 00 14				sta znaki2,y
   962 714A A4 DB				ldy _gwzmaz1+1
   963 714C 99 00 14				sta znaki2,y
   964 714F A5 73				lda znakDY
   965 7151 09 08				ora #%1000
   966 7153 85 DA				sta _gwzmaz1
   967 7155 49 18				eor #%11000
   968 7157 85 DB				sta _gwzmaz1+1
   969
   970 7159 A6 72				ldx znakDX
   971 715B BD 2C 6A				lda gwiazdyPixel,x 	;narysuj gwiazde w nowej pozycji
   972 715E A4 73				ldy znakDY
   973 7160 99 08 14				sta znaki2+8,y
   974 7163 29 55				and #%01010101
   975 7165 99 10 14				sta znaki2+16,y
   976
   977 7168 D0 25				bne gwiazdyPrint		;skok bezwarunkowy
   978 						
   979 = 716A			gwiazdyRysuj1 equ *  ;narysuj gwiazdy na pustych polach
   980 716A A9 00				lda #0
   981 716C A4 D8				ldy _gwzmaz
   982 716E 99 00 10				sta znaki1,y
   983 7171 A4 D9				ldy _gwzmaz+1
   984 7173 99 00 10				sta znaki1,y
   985 7176 A5 73				lda znakDY
   986 7178 09 08				ora #%1000
   987 717A 85 D8				sta _gwzmaz
   988 717C 49 18				eor #%11000
   989 717E 85 D9				sta _gwzmaz+1
   990
   991 7180 A6 72				ldx znakDX
   992 7182 BD 2C 6A				lda gwiazdyPixel,x 	;narysuj gwiazde w nowej pozycji
   993 7185 A4 73				ldy znakDY
   994 7187 99 08 10				sta znaki1+8,y
   995 718A 29 55				and #%01010101
   996 718C 99 10 10				sta znaki1+16,y
   997 					
   998 = 718F			gwiazdyPrint equ *
   999 718F AE 7F 36				ldx gwiazdyLicznik
  1000 7192 E0 02				cpx #2
  1001 7194 F0 09				beq gpr1
  1002 						
  1003 						
  1004 7196 A0 01				ldy #1
  1005 7198 A2 05				ldx #5
  1006 719A A9 FF				lda #255
  1007 719C 20 BE 71				jsr gpr0
  1008
  1009 						 
  1010 						
  1011 719F AE 7F 36		gpr1	ldx gwiazdyLicznik
  1012 71A2 E0 01				cpx #1
  1013 71A4 F0 09				beq gpr2
  1014 						
  1015 71A6 A0 81				ldy #1+128
  1016 71A8 A2 0B				ldx #11
  1017 71AA A9 05				lda #5
  1018 71AC 20 BE 71				jsr gpr0
  1019
  1020 						
  1021 71AF AE 7F 36		gpr2	ldx gwiazdyLicznik
  1022 71B2 D0 01				bne *+3
  1023 71B4 60					rts
  1024 						
  1025 71B5 A0 82				ldy #2+128
  1026 71B7 A2 11				ldx #17
  1027 71B9 A9 0B				lda #11
  1028 71BB 4C BE 71				jmp gpr0
  1029 						
  1030 						
  1031 71BE			gpr0
  1032 71BE 84 A5					sty pom0
  1033 71C0 85 AC					sta pom0g
  1034 71C2 B5 88		@			lda znakY,x
  1035 71C4 18						clc
  1036 71C5 65 75					adc znakY1
  1037 71C7 C9 1D					cmp #29
  1038 71C9 90 03					bcc @+
  1039 71CB E9 1D					sbc #29	
  1040 71CD 18						clc
  1041 71CE A8			@			tay
  1042 71CF B5 76					lda znakX,x
  1043 71D1 65 74					adc znakX1
  1044 71D3 C9 21					cmp #33		;poza ekranem
  1045 71D5 90 03					bcc @+
  1046 71D7 E9 21					sbc #33
  1047 71D9 18						clc
  1048 71DA 71 D3		@			adc (screenL),y
  1049 71DC 85 9B					sta pom
  1050 71DE B1 D5					lda (screenH),y
  1051 71E0 69 00					adc #0
  1052 71E2 85 9C					sta pom+1
  1053 71E4 A0 00					ldy #0
  1054 71E6 A5 A5					lda pom0
  1055 71E8 91 9B					sta (pom),y
  1056 71EA CA						dex
  1057 71EB E4 AC					cpx pom0g
  1058 71ED D0 D3					bne @-2
  1059 71EF 60						rts		
  1060 						
  1061 = 71F0			movLeft	equ *
  1062 71F0 A5 C6				lda movX ;przesun gwiazde co 2 przesuniecie
  1063 71F2 29 01				and #%1
  1064 71F4 F0 12				beq ml11
  1065 						
  1066 71F6 A6 72				ldx znakDX ; czy zmienic pozycje X gwiazdy
  1067 71F8 E0 03				cpx #3
  1068 71FA D0 09				bne ml12
  1069 						
  1070 						
  1071 71FC A4 74				ldy znakX1
  1072 71FE B9 4F 6A				lda znakMinus1,y
  1073 7201 85 74				sta znakX1
  1074 						
  1075 7203 A2 FF				ldx #255
  1076 7205 E8			ml12	inx
  1077 7206 86 72				stx znakDX	
  1078
  1079 7208 A6 C6		ml11	ldx movX
  1080 720A E0 0F				cpx #15
  1081 720C F0 06				beq ml1   ;gdy 4 skocz
  1082 720E E8					inx
  1083 720F 86 C6				stx movX
  1084 7211 4C A2 7D				jmp l02
  1085 7214 A9 0C		ml1		lda #12	;zeruj  przesuniecie
  1086 7216 85 C6				sta movX
  1087 7218 C6 BA				dec posX
  1088 721A 10 04				bpl ml2
  1089 721C A9 7F 85 BA				mva #127 posX
  1090 							
  1091 7220 A4 74		ml2		ldy znakX1
  1092 7222 B9 51 6A				lda znakPlus1,y
  1093 7225 85 74				sta znakX1	
  1094 						
  1095 7227 4C A2 7D				jmp l02
  1096
  1097 = 722A			movRight equ *		;statek w prawo tlo w lewo
  1098 722A A5 C6				lda movX
  1099 722C 29 01				and #%1  ;sprawdzamy mit 0
  1100 722E F0 10				beq mr11  ;jesli zero nic nie rob
  1101 						
  1102 7230 A6 72				ldx znakDX		;czy zmienic pozycje X gwiazd
  1103 7232 D0 09				bne mr12
  1104 						
  1105 7234 A4 74				ldy znakX1
  1106 7236 B9 51 6A				lda znakPlus1,y
  1107 7239 85 74				sta znakX1
  1108 						
  1109 723B A2 04				ldx #4
  1110 723D CA			mr12	dex
  1111 723E 86 72				stx znakDX	
  1112 						
  1113 7240 A6 C6		mr11	ldx movX			;przesow tla
  1114 7242 E0 0C				cpx #12
  1115 7244 F0 06				beq mr1
  1116 7246 CA					dex
  1117 7247 86 C6				stx movX
  1118 7249 4C A2 7D				jmp l02
  1119 724C A9 0F		mr1		lda #15
  1120 724E 85 C6				sta movX
  1121 						
  1122 7250 E6 BA				inc posX
  1123 7252 10 04				bpl mr2
  1124 7254 A9 00 85 BA				mva #0 posX
  1125 						
  1126 7258 A4 74		mr2		ldy znakX1
  1127 725A B9 4F 6A				lda znakMinus1,y
  1128 725D 85 74				sta znakX1
  1129 						
  1130 725F 4C A2 7D				jmp l02
  1131 						
  1132
  1133 = 7262			movUp	equ *
  1134 7262 A4 73				ldy znakDY ; czy zmienic pozycje Y gwiazdy
  1135 7264 D0 19				bne mu12
  1136 						
  1137 7266 C4 C7				cpy movY
  1138 7268 D0 0C				bne @+
  1139 726A A2 07 86 73				mvx #7 znakDY
  1140 726E CA					dex
  1141 726F 86 C7				stx movY
  1142 7271 C6 BB				dec posY
  1143 7273 4C B6 7D				jmp l04
  1144 						
  1145 7276 A4 75		@		ldy znakY1
  1146 7278 B9 30 6A				lda znakUp1,y
  1147 727B 85 75				sta znakY1
  1148 						
  1149 727D A0 08				ldy #8
  1150 727F 88			mu12	dey
  1151 7280 84 73				sty znakDY
  1152 					
  1153 7282 A6 C7		mu11	ldx movY
  1154 7284 F0 07				beq mu1
  1155 7286 CA					dex
  1156 7287 CA					dex
  1157 7288 86 C7				stx movY
  1158 728A 4C B6 7D				jmp l04
  1159 728D A4 75		mu1		ldy znakY1
  1160 728F B9 32 6A				lda znakDown1,y
  1161 7292 85 75				sta znakY1	
  1162 						
  1163 7294 A9 06				lda #6
  1164 7296 85 C7				sta movY
  1165 7298 C6 BB				dec posY
  1166 729A 4C B6 7D				jmp l04
  1167 						
  1168
  1169 = 729D			movDown	equ *
  1170 729D A6 C7				ldx movY
  1171 729F A4 73				ldy znakDY ; czy zmienic pozycje Y gwiazdy
  1172 72A1 C0 07				cpy #7
  1173 72A3 D0 18				bne md12
  1174 						
  1175 72A5 E0 06				cpx #6
  1176 72A7 D0 0B				bne @+
  1177 						
  1178 72A9 A9 00				lda #0
  1179 72AB 85 C7				sta movY
  1180 72AD 85 73				sta znakDY
  1181 72AF E6 BB				inc posY
  1182 72B1 4C B6 7D				jmp l04
  1183 						
  1184 72B4 A4 75		@		ldy znakY1
  1185 72B6 B9 32 6A				lda znakDown1,y
  1186 72B9 85 75				sta znakY1
  1187 						
  1188 72BB A0 FF				ldy #255
  1189 72BD C8			md12	iny
  1190 72BE 84 73				sty znakDY
  1191
  1192 72C0 A6 C7		md11	ldx movY
  1193 72C2 E0 06				cpx #6
  1194 72C4 F0 07				beq md1
  1195 72C6 E8					inx
  1196 72C7 E8					inx
  1197 72C8 86 C7				stx movY
  1198 72CA 4C B6 7D				jmp l04
  1199 72CD A9 00		md1		lda #0
  1200 72CF 85 C7				sta movY
  1201 72D1 E6 BB				inc posY
  1202 						
  1203 72D3 A4 75				ldy znakY1
  1204 72D5 B9 30 6A				lda znakUp1,y
  1205 72D8 85 75				sta znakY1
  1206 72DA 4C B6 7D				jmp l04
  1207 						
  1208
  1209
  1210 72DD 00 7C 3D 00 FE 80	joyTableL 	dta b(0),b(<rstatekUp),b(<rstatekDown),b(0),b(<rstatekLeft),b(<rstatekUpLeft)	;1,2,4,5
  1211 72E3 C3 00 BF 41 02				dta b(<rstatekDownLeft),b(0),b(<rstatekRight),b(<rstatekUpRight),b(<rstatekDownRight) ;6,8,9,10
  1212
  1213 72E8 00 77 78 00 78 7A	joyTableH 	dta b(0),b(>rstatekUp),b(>rstatekDown),b(0),b(>rstatekLeft),b(>rstatekUpLeft)	;1,2,4,5
  1214 72EE 7C 00 79 7B 7C				dta b(>rstatekDownLeft),b(0),b(>rstatekRight),b(>rstatekUpRight),b(>rstatekDownRight) ;6,8,9,10
  1215 														;13,14
  1216 							
  1217 = 72F3			wybuch0		equ *
  1218 72F3 00 00 00 00 00 00 + 			:16*4 dta b(0)			
  1219 							
  1220 							;3
  1221 7333 00 00					:2 dta b(0)
  1222 7335 10 10 10					:3 dta b(%00010000)
  1223 7338 28						dta b(%00101000)
  1224 7339 44 44 44					:3 dta b(%01000100)
  1225 733C 28						dta b(%00101000)
  1226 733D 10 10 10					:3 dta b(%00010000)
  1227 7340 00 00 00					:3 dta b(0)
  1228 							
  1229 							;2
  1230 7343 00 00 00					:3 dta b(0)
  1231 7346 10 10 10					:3 dta b(%00010000)
  1232 7349 38						dta b(%00111000)
  1233 734A 6C						dta b(%01101100)
  1234 734B 38						dta b(%00111000)
  1235 734C 10 10 10					:3 dta b(%00010000)
  1236 734F 00 00 00 00					:4 dta b(0)
  1237 							
  1238 							;1
  1239 7353 00 00 00 00					:4 dta b(0)
  1240 7357 10 10					:2 dta b(%00010000)
  1241 7359 38						dta b(%00111000)
  1242 735A 7C						dta b(%01111100)
  1243 735B 38						dta b(%00111000)
  1244 735C 10 10					:2 dta b(%00010000)
  1245 735E 00 00 00 00 00				:5 dta b(0)
  1246 							
  1247 							;0
  1248 7363 00 00 00 00 00 00				:6 dta b(0)
  1249 7369 10						dta b(%00010000)
  1250 736A 38						dta b(%00111000)
  1251 736B 10						dta b(%00010000)
  1252 736C 00 00 00 00 00 00 + 			:7 dta b(0)
  1253 							
  1254 							
  1255 = 7373			wybuch1		equ *
  1256 7373 00 00 00 00 00 00 + 			:16 dta b(0)				
  1257 					
  1258 							;6
  1259 7383 10						dta b(%00010000)
  1260 7384 00 00					:2 dta b(0)
  1261 7386 28						dta b(%00101000)
  1262 7387 00						dta b(0)
  1263 7388 44						dta b(%01000100)
  1264 7389 00						dta b(0)
  1265 738A 82						dta b(%10000010)
  1266 738B 00						dta b(0)
  1267 738C 44						dta b(%01000100)
  1268 738D 00						dta b(0)
  1269 738E 28						dta b(%00101000)
  1270 738F 00 00					:2 dta b(0)
  1271 7391 10						dta b(%00010000)
  1272 7392 00						dta b(0)
  1273 							
  1274 							;5
  1275 7393 10						dta b(%00010000)
  1276 7394 00						dta b(0)
  1277 7395 28 28 28					:3 dta b(%00101000)
  1278 7398 44						dta b(%01000100)
  1279 7399 00						dta b(0)
  1280 739A 82						dta b(%10000010)
  1281 739B 00						dta b(0)
  1282 739C 44						dta b(%01000100)
  1283 739D 28 28 28					:3 dta b(%00101000)
  1284 73A0 00						dta b(0)
  1285 73A1 10						dta b(%00010000)
  1286 73A2 00						dta b(0)
  1287 							
  1288 							;4
  1289 73A3 10 10					:2 dta b(%00010000)
  1290 73A5 38 38					:2 dta b(%00111000)
  1291 73A7 28						dta b(%00101000)
  1292 73A8 6C						dta b(%01101100)
  1293 73A9 44						dta b(%01000100)
  1294 73AA C6						dta b(%11000110)
  1295 73AB 44						dta b(%01000100)
  1296 73AC 6C						dta b(%01101100)
  1297 73AD 28						dta b(%00101000)
  1298 73AE 38 38					:2 dta b(%00111000)
  1299 73B0 10 10					:2 dta b(%00010000)
  1300 73B2 00						dta b(0)
  1301 							
  1302 							;3
  1303 73B3 10 10					:2 dta b(%00010000)
  1304 73B5 00						dta b(0)
  1305 73B6 28 28					:2 dta b(%00101000)
  1306 73B8 44						dta b(%01000100)
  1307 73B9 28						dta b(%00101000)
  1308 73BA 82						dta b(%10000010)
  1309 73BB 28						dta b(%00101000)
  1310 73BC 44						dta b(%01000100)
  1311 73BD 28 28					:2 dta b(%00101000)
  1312 73BF 00						dta b(0)
  1313 73C0 10 10					:2 dta b(%00010000)
  1314 73C2 00						dta b(0)
  1315 							
  1316 							;2
  1317 73C3 00						dta b(0)
  1318 73C4 10 10					:2 dta b(%00010000)
  1319 73C6 00						dta b(0)
  1320 73C7 28 28					:2 dta b(%00101000)
  1321 73C9 44						dta b(%01000100)
  1322 73CA 92						dta b(%10010010)
  1323 73CB 44						dta b(%01000100)
  1324 73CC 28 28					:2 dta b(%00101000)
  1325 73CE 00						dta b(0)
  1326 73CF 10 10					:2 dta b(%00010000)
  1327 73D1 00 00					:2 dta b(0)
  1328 							
  1329 							;1
  1330 73D3 00 00 00					:3 dta b(0)
  1331 73D6 10						dta b(%00010000)
  1332 73D7 28 28					:2 dta b(%00101000)
  1333 73D9 44						dta b(%01000100)
  1334 73DA 00						dta b(0)
  1335 73DB 44						dta b(%01000100)
  1336 73DC 28 28					:2 dta b(%00101000)
  1337 73DE 10						dta b(%00010000)
  1338 73DF 00 00 00 00					:4 dta b(0)
  1339 							
  1340 							;0
  1341 73E3 00 00 00 00					:4 dta b(0)
  1342 73E7 10						dta b(%00010000)
  1343 73E8 00						dta b(0)
  1344 73E9 28						dta b(%00101000)
  1345 73EA 44						dta b(%01000100)
  1346 73EB 28						dta b(%00101000)
  1347 73EC 00						dta b(0)
  1348 73ED 10						dta b(%00010000)
  1349 73EE 00 00 00 00 00				:5 dta b(0) 
  1350
  1351 							
  1352 = 73F3			printShip	equ * ;przemieszczaj statek		
  1353 73F3 A5 C3				lda startMapy
  1354 73F5 F0 01				beq *+3
  1355 73F7 60					rts
  1356 						
  1357 73F8 A5 C2				lda trafienie
  1358 73FA F0 03 4C CB 74			jne @+
  1359 73FF 20 2A 76				jsr prsp1
  1360 7402 AD 50 36				lda nobanner
  1361 7405 C9 02				cmp #2
  1362 7407 F0 01				beq *+3
  1363 7409 60					rts
  1364 				;przepisz statek do sprites1 podczas wyswietlania panelu
  1365 							.rept 16,#
  1366 							LDA SPRITES+$400+118+:1
  1367 							STA SPRITES1+$400+118+:1
  1368 							LDA SPRITES+$500+118+:1
  1369 							STA SPRITES1+$500+118+:1
  1370 							.ENDR
  1370 							.endr
Source: REPT
  1366 740A AD 76 04					LDA SPRITES+$400+118+0
  1366 740D 8D 76 0C					STA SPRITES1+$400+118+0
  1366 7410 AD 76 05					LDA SPRITES+$500+118+0
  1366 7413 8D 76 0D					STA SPRITES1+$500+118+0
  1366 7416 AD 77 04					LDA SPRITES+$400+118+1
  1366 7419 8D 77 0C					STA SPRITES1+$400+118+1
  1366 741C AD 77 05					LDA SPRITES+$500+118+1
  1366 741F 8D 77 0D					STA SPRITES1+$500+118+1
  1366 7422 AD 78 04					LDA SPRITES+$400+118+2
  1366 7425 8D 78 0C					STA SPRITES1+$400+118+2
  1366 7428 AD 78 05					LDA SPRITES+$500+118+2
  1366 742B 8D 78 0D					STA SPRITES1+$500+118+2
  1366 742E AD 79 04					LDA SPRITES+$400+118+3
  1366 7431 8D 79 0C					STA SPRITES1+$400+118+3
  1366 7434 AD 79 05					LDA SPRITES+$500+118+3
  1366 7437 8D 79 0D					STA SPRITES1+$500+118+3
  1366 743A AD 7A 04					LDA SPRITES+$400+118+4
  1366 743D 8D 7A 0C					STA SPRITES1+$400+118+4
  1366 7440 AD 7A 05					LDA SPRITES+$500+118+4
  1366 7443 8D 7A 0D					STA SPRITES1+$500+118+4
  1366 7446 AD 7B 04					LDA SPRITES+$400+118+5
  1366 7449 8D 7B 0C					STA SPRITES1+$400+118+5
  1366 744C AD 7B 05					LDA SPRITES+$500+118+5
  1366 744F 8D 7B 0D					STA SPRITES1+$500+118+5
  1366 7452 AD 7C 04					LDA SPRITES+$400+118+6
  1366 7455 8D 7C 0C					STA SPRITES1+$400+118+6
  1366 7458 AD 7C 05					LDA SPRITES+$500+118+6
  1366 745B 8D 7C 0D					STA SPRITES1+$500+118+6
  1366 745E AD 7D 04					LDA SPRITES+$400+118+7
  1366 7461 8D 7D 0C					STA SPRITES1+$400+118+7
  1366 7464 AD 7D 05					LDA SPRITES+$500+118+7
  1366 7467 8D 7D 0D					STA SPRITES1+$500+118+7
  1366 746A AD 7E 04					LDA SPRITES+$400+118+8
  1366 746D 8D 7E 0C					STA SPRITES1+$400+118+8
  1366 7470 AD 7E 05					LDA SPRITES+$500+118+8
  1366 7473 8D 7E 0D					STA SPRITES1+$500+118+8
  1366 7476 AD 7F 04					LDA SPRITES+$400+118+9
  1366 7479 8D 7F 0C					STA SPRITES1+$400+118+9
  1366 747C AD 7F 05					LDA SPRITES+$500+118+9
  1366 747F 8D 7F 0D					STA SPRITES1+$500+118+9
  1366 7482 AD 80 04					LDA SPRITES+$400+118+10
  1366 7485 8D 80 0C					STA SPRITES1+$400+118+10
  1366 7488 AD 80 05					LDA SPRITES+$500+118+10
  1366 748B 8D 80 0D					STA SPRITES1+$500+118+10
  1366 748E AD 81 04					LDA SPRITES+$400+118+11
  1366 7491 8D 81 0C					STA SPRITES1+$400+118+11
  1366 7494 AD 81 05					LDA SPRITES+$500+118+11
  1366 7497 8D 81 0D					STA SPRITES1+$500+118+11
  1366 749A AD 82 04					LDA SPRITES+$400+118+12
  1366 749D 8D 82 0C					STA SPRITES1+$400+118+12
  1366 74A0 AD 82 05					LDA SPRITES+$500+118+12
  1366 74A3 8D 82 0D					STA SPRITES1+$500+118+12
  1366 74A6 AD 83 04					LDA SPRITES+$400+118+13
  1366 74A9 8D 83 0C					STA SPRITES1+$400+118+13
  1366 74AC AD 83 05					LDA SPRITES+$500+118+13
  1366 74AF 8D 83 0D					STA SPRITES1+$500+118+13
  1366 74B2 AD 84 04					LDA SPRITES+$400+118+14
  1366 74B5 8D 84 0C					STA SPRITES1+$400+118+14
  1366 74B8 AD 84 05					LDA SPRITES+$500+118+14
  1366 74BB 8D 84 0D					STA SPRITES1+$500+118+14
  1366 74BE AD 85 04					LDA SPRITES+$400+118+15
  1366 74C1 8D 85 0C					STA SPRITES1+$400+118+15
  1366 74C4 AD 85 05					LDA SPRITES+$500+118+15
  1366 74C7 8D 85 0D					STA SPRITES1+$500+118+15
Source: bmove.asm
  1371 74CA 60					rts
  1372 							
  1373 74CB AD 50 36		@		lda nobanner
  1374
  1375 74CE C9 02				cmp #2
  1376 74D0 90 0A				bcc @+
  1377 						
  1378 74D2 A9 00				lda #0		;wylacz przerwanie i sampla
  1379 74D4 8D 0E E8				sta IRQEN
  1380 74D7 85 6D				sta sirq
  1381 74D9 8D 06 E8				sta AUDF4 
  1382
  1383 74DC AD 87 36		@		lda fazaWybuch
  1384 74DF 30 63				bmi @+3
  1385 74E1 C9 3E				cmp #62
  1386 74E3 D0 3B				bne @+1
  1387
  1388 74E5 20 60 83				jsr exploAllEnemy
  1389 74E8 A9 00 8D 88 36			mva #0 licznikStrzal
  1390 74ED AD 7A 34				lda conditionColor		;jeÅ›li 0 to jest red condition , trzeba narysowaÄ‡
  1391 74F0 D0 09				bne prs_1
  1392 74F2 AD 50 54				lda conditionC+2
  1393 74F5 8D 7A 34				sta conditionColor
  1394 74F8 8D 82 34				sta conditionColor1
  1395 74FB A9 0F 8D 89 36	prs_1	mva #15 opoz_potrafieniu
  1396 7500 AD 17 31				lda sfxlicznik1
  1397 7503 C9 28				cmp #40
  1398 7505 B0 05				bcs @+			;jeÅ›li wybuch to nie wyciszaj
  1399 						
  1400 7507 A9 80				lda #128
  1401 7509 20 BA 4B				jsr cisza
  1402 						
  1403 750C A9 00 8D 1D 34	@		mva #0 formacja_stan
  1404 7511 8D 18 31				sta formacja_radar
  1405 7514 20 3F 61				jsr piszCondition
  1406 7517 AC 19 31				ldy kondycja_stan		;poprzednia kondycja
  1407 751A 20 10 5C				jsr setCondition
  1408 						
  1409
  1410 751D AD 87 36				lda fazaWybuch		
  1411 7520 0A			@		asl
  1412 7521 29 F0				and #%11110000		;rysuje nastepna faze wybuchu statku	
  1413 7523 A8					tay
  1414 7524 A2 00				ldx #0
  1415 7526 8E 88 36				stx licznikStrzal		;nie wlaczaj dzwiÄ™ku silnika
  1416 7529 B9 F3 72		@		lda wybuch0,y
  1417 752C 9D 76 04				sta sprites+$400+118,x
  1418 752F B9 73 73				lda wybuch1,y
  1419 7532 9D 76 05				sta sprites+$500+118,x
  1420 7535 C8					iny
  1421 7536 E8					inx
  1422 7537 E0 10				cpx #16
  1423 7539 D0 EE				bne @-
  1424 						;sec	c=1
  1425 753B AD 87 36				lda fazaWybuch
  1426 753E E9 03				sbc #3
  1427 7540 8D 87 36				sta fazaWybuch
  1428 7543 60					rts
  1429 						
  1430 = 7544			@		equ *		;koniec gry
  1431 7544 CE 89 36				dec opoz_potrafieniu
  1432 7547 F0 01				beq @+
  1433 7549 60					rts
  1434 						
  1435 						
  1436 754A CE 1A 31		@		dec lives
  1437 754D 10 65				bpl @+
  1438 754F A9 00				lda #0
  1439 						.rept 16,#					;wymaz statek z ekranu podczas napisu game over
  1440 							STA SPRITES1+$400+118+:1
  1441 							STA SPRITES1+$500+118+:1
  1442 						.ENDR
  1442 						.endr
Source: REPT
  1440 7551 8D 76 0C					STA SPRITES1+$400+118+0
  1440 7554 8D 76 0D					STA SPRITES1+$500+118+0
  1440 7557 8D 77 0C					STA SPRITES1+$400+118+1
  1440 755A 8D 77 0D					STA SPRITES1+$500+118+1
  1440 755D 8D 78 0C					STA SPRITES1+$400+118+2
  1440 7560 8D 78 0D					STA SPRITES1+$500+118+2
  1440 7563 8D 79 0C					STA SPRITES1+$400+118+3
  1440 7566 8D 79 0D					STA SPRITES1+$500+118+3
  1440 7569 8D 7A 0C					STA SPRITES1+$400+118+4
  1440 756C 8D 7A 0D					STA SPRITES1+$500+118+4
  1440 756F 8D 7B 0C					STA SPRITES1+$400+118+5
  1440 7572 8D 7B 0D					STA SPRITES1+$500+118+5
  1440 7575 8D 7C 0C					STA SPRITES1+$400+118+6
  1440 7578 8D 7C 0D					STA SPRITES1+$500+118+6
  1440 757B 8D 7D 0C					STA SPRITES1+$400+118+7
  1440 757E 8D 7D 0D					STA SPRITES1+$500+118+7
  1440 7581 8D 7E 0C					STA SPRITES1+$400+118+8
  1440 7584 8D 7E 0D					STA SPRITES1+$500+118+8
  1440 7587 8D 7F 0C					STA SPRITES1+$400+118+9
  1440 758A 8D 7F 0D					STA SPRITES1+$500+118+9
  1440 758D 8D 80 0C					STA SPRITES1+$400+118+10
  1440 7590 8D 80 0D					STA SPRITES1+$500+118+10
  1440 7593 8D 81 0C					STA SPRITES1+$400+118+11
  1440 7596 8D 81 0D					STA SPRITES1+$500+118+11
  1440 7599 8D 82 0C					STA SPRITES1+$400+118+12
  1440 759C 8D 82 0D					STA SPRITES1+$500+118+12
  1440 759F 8D 83 0C					STA SPRITES1+$400+118+13
  1440 75A2 8D 83 0D					STA SPRITES1+$500+118+13
  1440 75A5 8D 84 0C					STA SPRITES1+$400+118+14
  1440 75A8 8D 84 0D					STA SPRITES1+$500+118+14
  1440 75AB 8D 85 0C					STA SPRITES1+$400+118+15
  1440 75AE 8D 85 0D					STA SPRITES1+$500+118+15
Source: bmove.asm
  1443 						
  1444 75B1 4C 1E 4C				jmp game_over
  1445 						
  1446 75B4 20 2E 5D		@		jsr printlives
  1447 75B7 AD 6C 36				lda zbiteBazy		;czy zbito juz wszystkie bazy
  1448 75BA C5 CC				cmp bazyIle
  1449 75BC D0 34				bne @+
  1450 75BE EE 16 31				inc poziom			;to nastepny poziom
  1451 						
  1452 75C1 AD 16 31				lda poziom		;jeÅ›li poziom = 161 to ustaw 129 , zapetlamy
  1453 75C4 C9 A1				cmp #161
  1454 75C6 90 05				bcc skpoz1
  1455 75C8 A9 81				lda #129
  1456 75CA 8D 16 31				sta poziom
  1457 = 75CD			skpoz1	equ *
  1458 						
  1459 75CD 20 E1 57				jsr wczytajLevel		;ztaranowana ostatnia baza
  1460 75D0 A9 02 85 71				mva #2 muzyka
  1461 75D4 A9 3C 85 C3				mva #60 startMapy
  1462 75D8 A9 36 8D 88 36			mva #54 licznikStrzal	;opoznienie dzwieku silnika
  1463 75DD 20 57 5B				jsr pokazBazyRadar
  1464 75E0 20 AA 4B				jsr waitvbl
  1465 75E3 A5 C7 8D 05 D4			mva movy vscrol
  1466 75E8 A5 C6 8D 04 D4			mva movx hscrol		
  1467 						
  1468 75ED A9 00 85 6F				mva #0 zegar
  1469 75F1 60					rts
  1470 						
  1471 75F2 AD 17 31		@		lda sfxlicznik1
  1472 75F5 C9 14				cmp #20
  1473 75F7 B0 05				bcs @+			;jeÅ›li wybuch to nie wyciszaj
  1474 						
  1475 75F9 A9 80				lda #128
  1476 75FB 20 BA 4B				jsr cisza
  1477 						
  1478
  1479 = 75FE			@		equ *
  1480 75FE A9 00 8D 1D 34			mva #0 formacja_stan
  1481 7603 AD 6D 36				lda startX		
  1482 7606 85 BA				sta posX
  1483 7608 AD 6E 36				lda startY
  1484 760B 85 BB				sta posY
  1485 						
  1486 760D A4 CC				ldy bazyIle			;wyczysc rakiety w bazach
  1487 760F A9 FF				lda #255
  1488 7611 99 AF 02		@		sta bazyRakieta-1,y
  1489 7614 88					dey
  1490 7615 D0 FA				bne @-
  1491 						
  1492 7617 4C AE 55				jmp initPoziom
  1493 					
  1494 						
  1495 761A 00 01 02 00 04 05 + tabjoy	dta b(0,1,2,0,4,5,6,0,8,9,10,0,0,0,0,0)
  1496 						
  1497 762A AE 00 E8		prsp1	ldx pot0
  1498 762D E0 A4				cpx #114+50
  1499 762F 2A					rol 
  1500 7630 E0 40				cpx #114-50
  1501 7632 2A					rol 
  1502 7633 AE 01 E8				ldx pot1
  1503 7636 8E 0B E8				stx potg0
  1504 7639 E0 A4				cpx #114+50
  1505 763B 2A					rol 
  1506 763C E0 40				cpx #114-50
  1507 763E 2A					rol 
  1508 763F 49 05				eor #1+4
  1509 7641 29 0F				and #$0f
  1510 7643 AA					tax
  1511 7644 BD 1A 76				lda tabjoy,x
  1512 7647 F0 20				beq mryganieStatek
  1513 7649 A8			@		tay
  1514 764A CD CA 36				cmp sJoy
  1515 764D F0 1A				beq mryganieStatek
  1516 764F 8D CA 36		@		sta sJoy
  1517 7652 AD 88 36				lda licznikStrzal
  1518 7655 D0 03				bne printShip1
  1519 7657 EE 88 36				inc licznikStrzal	;zmaina kierunku= dzwiek silnikow od poczatku
  1520 = 765A			printShip1	equ *
  1521 765A B9 E8 72				lda joyTableH,y
  1522 765D F0 0F				beq rrts
  1523 765F 85 9C				sta pom+1
  1524 7661 B9 DD 72				lda joyTableL,y
  1525 7664 85 9B				sta pom
  1526 7666 6C 9B 00				jmp (pom)
  1527 						
  1528 = 7669			mryganieStatek	equ *
  1529 7669 AC CA 36				ldy sJoy
  1530 766C D0 01				bne @+
  1531 766E 60			rrts	rts
  1532 766F B9 89 76		@		lda statekTab+11,y
  1533 7672 F0 FA				beq rrts
  1534 7674 85 9C				sta pom+1
  1535 7676 B9 7E 76				lda statekTab,y
  1536 7679 85 9B				sta pom
  1537 767B 6C 9B 00				jmp (pom)
  1538 					
  1539 767E 00 94 A5 00 B6 F8	statekTab	dta b(0),b(<mstatekUp),b(<mstatekDown),b(0),b(<mstatekLeft),b(<mstatekUpLeft)	;1,2,4,5
  1540 7684 5B 00 D7 19 3A				dta b(<mstatekDownLeft),b(0),b(<mstatekRight),b(<mstatekUpRight),b(<mstatekDownRight) ;6,8,9,10
  1541 7689 00 76 76 00 76 76				dta b(0),b(>mstatekUp),b(>mstatekDown),b(0),b(>mstatekLeft),b(>mstatekUpLeft)	;1,2,4,5
  1542 768F 77 00 76 77 77				dta b(>mstatekDownLeft),b(0),b(>mstatekRight),b(>mstatekUpRight),b(>mstatekDownRight) ;6,8,9,10
  1543 							
  1544 = 7694			mstatekUp	equ *
  1545 7694 AD 85 05				lda sprites+$500+118+15
  1546 7697 49 82				eor #%10000010
  1547 7699 8D 85 05				sta sprites+$500+118+15
  1548 769C AD 84 05				lda sprites+$500+118+14
  1549 769F 49 82				eor #%10000010
  1550 76A1 8D 84 05				sta sprites+$500+118+14
  1551 76A4 60					rts
  1552 						
  1553 = 76A5			mstatekDown	equ *
  1554 76A5 AD 77 05				lda sprites+$500+118+1
  1555 76A8 49 82				eor #%10000010
  1556 76AA 8D 77 05				sta sprites+$500+118+1
  1557 76AD AD 76 05				lda sprites+$500+118+0
  1558 76B0 49 82				eor #%10000010
  1559 76B2 8D 76 05				sta sprites+$500+118+0
  1560 76B5 60					rts
  1561 						
  1562 = 76B6			mstatekLeft	equ *
  1563 76B6 AD 77 05				lda sprites+$500+118+1
  1564 76B9 49 02				eor #%00000010
  1565 76BB 8D 77 05				sta sprites+$500+118+1
  1566 76BE AD 78 05				lda sprites+$500+118+2
  1567 76C1 49 02				eor #%00000010
  1568 76C3 8D 78 05				sta sprites+$500+118+2
  1569 76C6 AD 83 05				lda sprites+$500+118+13
  1570 76C9 49 02				eor #%00000010
  1571 76CB 8D 83 05				sta sprites+$500+118+13
  1572 76CE AD 84 05				lda sprites+$500+118+14
  1573 76D1 49 02				eor #%00000010
  1574 76D3 8D 84 05				sta sprites+$500+118+14
  1575 76D6 60					rts		
  1576
  1577 = 76D7			mstatekRight	equ *
  1578 76D7 AD 77 05				lda sprites+$500+118+1
  1579 76DA 49 40				eor #%01000000
  1580 76DC 8D 77 05				sta sprites+$500+118+1
  1581 76DF AD 78 05				lda sprites+$500+118+2
  1582 76E2 49 40				eor #%01000000
  1583 76E4 8D 78 05				sta sprites+$500+118+2
  1584 76E7 AD 83 05				lda sprites+$500+118+13
  1585 76EA 49 40				eor #%01000000
  1586 76EC 8D 83 05				sta sprites+$500+118+13
  1587 76EF AD 84 05				lda sprites+$500+118+14
  1588 76F2 49 40				eor #%01000000
  1589 76F4 8D 84 05				sta sprites+$500+118+14
  1590 76F7 60					rts	
  1591 						
  1592 = 76F8			mstatekUpLeft	equ *
  1593 76F8 AD 7B 05				lda sprites+$500+118+5
  1594 76FB 49 01				eor #%00000001
  1595 76FD 8D 7B 05				sta sprites+$500+118+5
  1596 7700 AD 7C 05				lda sprites+$500+118+6
  1597 7703 49 01				eor #%00000001
  1598 7705 8D 7C 05				sta sprites+$500+118+6
  1599 7708 AD 84 05				lda sprites+$500+118+14
  1600 770B 49 20				eor #%00100000
  1601 770D 8D 84 05				sta sprites+$500+118+14
  1602 7710 AD 85 05				lda sprites+$500+118+15
  1603 7713 49 20				eor #%00100000
  1604 7715 8D 85 05				sta sprites+$500+118+15
  1605 7718 60					rts
  1606
  1607 = 7719			mstatekUpRight	equ *
  1608 7719 AD 7B 05				lda sprites+$500+118+5
  1609 771C 49 80				eor #%10000000
  1610 771E 8D 7B 05				sta sprites+$500+118+5
  1611 7721 AD 7C 05				lda sprites+$500+118+6
  1612 7724 49 80				eor #%10000000
  1613 7726 8D 7C 05				sta sprites+$500+118+6
  1614 7729 AD 84 05				lda sprites+$500+118+14
  1615 772C 49 04				eor #%00000100
  1616 772E 8D 84 05				sta sprites+$500+118+14
  1617 7731 AD 85 05				lda sprites+$500+118+15
  1618 7734 49 04				eor #%00000100
  1619 7736 8D 85 05				sta sprites+$500+118+15
  1620 7739 60					rts
  1621
  1622 = 773A			mstatekDownRight	equ *
  1623 773A AD 76 05				lda sprites+$500+118+0
  1624 773D 49 04				eor #%00000100
  1625 773F 8D 76 05				sta sprites+$500+118+0
  1626 7742 AD 77 05				lda sprites+$500+118+1
  1627 7745 49 04				eor #%00000100
  1628 7747 8D 77 05				sta sprites+$500+118+1
  1629 774A AD 7F 05				lda sprites+$500+118+9
  1630 774D 49 80				eor #%10000000
  1631 774F 8D 7F 05				sta sprites+$500+118+9
  1632 7752 AD 80 05				lda sprites+$500+118+10
  1633 7755 49 80				eor #%10000000
  1634 7757 8D 80 05				sta sprites+$500+118+10
  1635 775A 60					rts		
  1636
  1637 = 775B			mstatekDownLeft	equ *
  1638 775B AD 76 05				lda sprites+$500+118+0
  1639 775E 49 20				eor #%00100000
  1640 7760 8D 76 05				sta sprites+$500+118+0
  1641 7763 AD 77 05				lda sprites+$500+118+1
  1642 7766 49 20				eor #%00100000
  1643 7768 8D 77 05				sta sprites+$500+118+1
  1644 776B AD 7F 05				lda sprites+$500+118+9
  1645 776E 49 01				eor #%00000001
  1646 7770 8D 7F 05				sta sprites+$500+118+9
  1647 7773 AD 80 05				lda sprites+$500+118+10
  1648 7776 49 01				eor #%00000001
  1649 7778 8D 80 05				sta sprites+$500+118+10
  1650 777B 60					rts
  1651
  1652 = 777C			rstatekUp	equ *	;0001,1
  1653 						.rept 16, #
  1654 						LDA STATEK+:1
  1655 						STA SPRITES+$400+118+:1
  1656 						LDA STATEK+16+:1
  1657 						STA SPRITES+$500+118+:1
  1658 						.ENDR
  1658 						.endr
Source: REPT
  1654 777C AD AD 83				LDA STATEK+0
  1654 777F 8D 76 04				STA SPRITES+$400+118+0
  1654 7782 AD BD 83				LDA STATEK+16+0
  1654 7785 8D 76 05				STA SPRITES+$500+118+0
  1654 7788 AD AE 83				LDA STATEK+1
  1654 778B 8D 77 04				STA SPRITES+$400+118+1
  1654 778E AD BE 83				LDA STATEK+16+1
  1654 7791 8D 77 05				STA SPRITES+$500+118+1
  1654 7794 AD AF 83				LDA STATEK+2
  1654 7797 8D 78 04				STA SPRITES+$400+118+2
  1654 779A AD BF 83				LDA STATEK+16+2
  1654 779D 8D 78 05				STA SPRITES+$500+118+2
  1654 77A0 AD B0 83				LDA STATEK+3
  1654 77A3 8D 79 04				STA SPRITES+$400+118+3
  1654 77A6 AD C0 83				LDA STATEK+16+3
  1654 77A9 8D 79 05				STA SPRITES+$500+118+3
  1654 77AC AD B1 83				LDA STATEK+4
  1654 77AF 8D 7A 04				STA SPRITES+$400+118+4
  1654 77B2 AD C1 83				LDA STATEK+16+4
  1654 77B5 8D 7A 05				STA SPRITES+$500+118+4
  1654 77B8 AD B2 83				LDA STATEK+5
  1654 77BB 8D 7B 04				STA SPRITES+$400+118+5
  1654 77BE AD C2 83				LDA STATEK+16+5
  1654 77C1 8D 7B 05				STA SPRITES+$500+118+5
  1654 77C4 AD B3 83				LDA STATEK+6
  1654 77C7 8D 7C 04				STA SPRITES+$400+118+6
  1654 77CA AD C3 83				LDA STATEK+16+6
  1654 77CD 8D 7C 05				STA SPRITES+$500+118+6
  1654 77D0 AD B4 83				LDA STATEK+7
  1654 77D3 8D 7D 04				STA SPRITES+$400+118+7
  1654 77D6 AD C4 83				LDA STATEK+16+7
  1654 77D9 8D 7D 05				STA SPRITES+$500+118+7
  1654 77DC AD B5 83				LDA STATEK+8
  1654 77DF 8D 7E 04				STA SPRITES+$400+118+8
  1654 77E2 AD C5 83				LDA STATEK+16+8
  1654 77E5 8D 7E 05				STA SPRITES+$500+118+8
  1654 77E8 AD B6 83				LDA STATEK+9
  1654 77EB 8D 7F 04				STA SPRITES+$400+118+9
  1654 77EE AD C6 83				LDA STATEK+16+9
  1654 77F1 8D 7F 05				STA SPRITES+$500+118+9
  1654 77F4 AD B7 83				LDA STATEK+10
  1654 77F7 8D 80 04				STA SPRITES+$400+118+10
  1654 77FA AD C7 83				LDA STATEK+16+10
  1654 77FD 8D 80 05				STA SPRITES+$500+118+10
  1654 7800 AD B8 83				LDA STATEK+11
  1654 7803 8D 81 04				STA SPRITES+$400+118+11
  1654 7806 AD C8 83				LDA STATEK+16+11
  1654 7809 8D 81 05				STA SPRITES+$500+118+11
  1654 780C AD B9 83				LDA STATEK+12
  1654 780F 8D 82 04				STA SPRITES+$400+118+12
  1654 7812 AD C9 83				LDA STATEK+16+12
  1654 7815 8D 82 05				STA SPRITES+$500+118+12
  1654 7818 AD BA 83				LDA STATEK+13
  1654 781B 8D 83 04				STA SPRITES+$400+118+13
  1654 781E AD CA 83				LDA STATEK+16+13
  1654 7821 8D 83 05				STA SPRITES+$500+118+13
  1654 7824 AD BB 83				LDA STATEK+14
  1654 7827 8D 84 04				STA SPRITES+$400+118+14
  1654 782A AD CB 83				LDA STATEK+16+14
  1654 782D 8D 84 05				STA SPRITES+$500+118+14
  1654 7830 AD BC 83				LDA STATEK+15
  1654 7833 8D 85 04				STA SPRITES+$400+118+15
  1654 7836 AD CC 83				LDA STATEK+16+15
  1654 7839 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1659 783C 60					rts
  1660 						
  1661 = 783D			rstatekDown	equ *	;0010,2
  1662 						.rept 16, #
  1663 						LDA STATEK+32+:1
  1664 						STA SPRITES+$400+118+:1
  1665 						LDA STATEK+16+32+:1
  1666 						STA SPRITES+$500+118+:1
  1667 						.ENDR
  1667 						.endr
Source: REPT
  1663 783D AD CD 83				LDA STATEK+32+0
  1663 7840 8D 76 04				STA SPRITES+$400+118+0
  1663 7843 AD DD 83				LDA STATEK+16+32+0
  1663 7846 8D 76 05				STA SPRITES+$500+118+0
  1663 7849 AD CE 83				LDA STATEK+32+1
  1663 784C 8D 77 04				STA SPRITES+$400+118+1
  1663 784F AD DE 83				LDA STATEK+16+32+1
  1663 7852 8D 77 05				STA SPRITES+$500+118+1
  1663 7855 AD CF 83				LDA STATEK+32+2
  1663 7858 8D 78 04				STA SPRITES+$400+118+2
  1663 785B AD DF 83				LDA STATEK+16+32+2
  1663 785E 8D 78 05				STA SPRITES+$500+118+2
  1663 7861 AD D0 83				LDA STATEK+32+3
  1663 7864 8D 79 04				STA SPRITES+$400+118+3
  1663 7867 AD E0 83				LDA STATEK+16+32+3
  1663 786A 8D 79 05				STA SPRITES+$500+118+3
  1663 786D AD D1 83				LDA STATEK+32+4
  1663 7870 8D 7A 04				STA SPRITES+$400+118+4
  1663 7873 AD E1 83				LDA STATEK+16+32+4
  1663 7876 8D 7A 05				STA SPRITES+$500+118+4
  1663 7879 AD D2 83				LDA STATEK+32+5
  1663 787C 8D 7B 04				STA SPRITES+$400+118+5
  1663 787F AD E2 83				LDA STATEK+16+32+5
  1663 7882 8D 7B 05				STA SPRITES+$500+118+5
  1663 7885 AD D3 83				LDA STATEK+32+6
  1663 7888 8D 7C 04				STA SPRITES+$400+118+6
  1663 788B AD E3 83				LDA STATEK+16+32+6
  1663 788E 8D 7C 05				STA SPRITES+$500+118+6
  1663 7891 AD D4 83				LDA STATEK+32+7
  1663 7894 8D 7D 04				STA SPRITES+$400+118+7
  1663 7897 AD E4 83				LDA STATEK+16+32+7
  1663 789A 8D 7D 05				STA SPRITES+$500+118+7
  1663 789D AD D5 83				LDA STATEK+32+8
  1663 78A0 8D 7E 04				STA SPRITES+$400+118+8
  1663 78A3 AD E5 83				LDA STATEK+16+32+8
  1663 78A6 8D 7E 05				STA SPRITES+$500+118+8
  1663 78A9 AD D6 83				LDA STATEK+32+9
  1663 78AC 8D 7F 04				STA SPRITES+$400+118+9
  1663 78AF AD E6 83				LDA STATEK+16+32+9
  1663 78B2 8D 7F 05				STA SPRITES+$500+118+9
  1663 78B5 AD D7 83				LDA STATEK+32+10
  1663 78B8 8D 80 04				STA SPRITES+$400+118+10
  1663 78BB AD E7 83				LDA STATEK+16+32+10
  1663 78BE 8D 80 05				STA SPRITES+$500+118+10
  1663 78C1 AD D8 83				LDA STATEK+32+11
  1663 78C4 8D 81 04				STA SPRITES+$400+118+11
  1663 78C7 AD E8 83				LDA STATEK+16+32+11
  1663 78CA 8D 81 05				STA SPRITES+$500+118+11
  1663 78CD AD D9 83				LDA STATEK+32+12
  1663 78D0 8D 82 04				STA SPRITES+$400+118+12
  1663 78D3 AD E9 83				LDA STATEK+16+32+12
  1663 78D6 8D 82 05				STA SPRITES+$500+118+12
  1663 78D9 AD DA 83				LDA STATEK+32+13
  1663 78DC 8D 83 04				STA SPRITES+$400+118+13
  1663 78DF AD EA 83				LDA STATEK+16+32+13
  1663 78E2 8D 83 05				STA SPRITES+$500+118+13
  1663 78E5 AD DB 83				LDA STATEK+32+14
  1663 78E8 8D 84 04				STA SPRITES+$400+118+14
  1663 78EB AD EB 83				LDA STATEK+16+32+14
  1663 78EE 8D 84 05				STA SPRITES+$500+118+14
  1663 78F1 AD DC 83				LDA STATEK+32+15
  1663 78F4 8D 85 04				STA SPRITES+$400+118+15
  1663 78F7 AD EC 83				LDA STATEK+16+32+15
  1663 78FA 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1668 78FD 60					rts		
  1669 						
  1670 = 78FE			rstatekLeft	equ *	;0100,4
  1671 						.rept 16, #
  1672 						LDA STATEK+64+:1
  1673 						STA SPRITES+$400+118+:1
  1674 						LDA STATEK+16+64+:1
  1675 						STA SPRITES+$500+118+:1
  1676 						.ENDR
  1676 						.endr
Source: REPT
  1672 78FE AD ED 83				LDA STATEK+64+0
  1672 7901 8D 76 04				STA SPRITES+$400+118+0
  1672 7904 AD FD 83				LDA STATEK+16+64+0
  1672 7907 8D 76 05				STA SPRITES+$500+118+0
  1672 790A AD EE 83				LDA STATEK+64+1
  1672 790D 8D 77 04				STA SPRITES+$400+118+1
  1672 7910 AD FE 83				LDA STATEK+16+64+1
  1672 7913 8D 77 05				STA SPRITES+$500+118+1
  1672 7916 AD EF 83				LDA STATEK+64+2
  1672 7919 8D 78 04				STA SPRITES+$400+118+2
  1672 791C AD FF 83				LDA STATEK+16+64+2
  1672 791F 8D 78 05				STA SPRITES+$500+118+2
  1672 7922 AD F0 83				LDA STATEK+64+3
  1672 7925 8D 79 04				STA SPRITES+$400+118+3
  1672 7928 AD 00 84				LDA STATEK+16+64+3
  1672 792B 8D 79 05				STA SPRITES+$500+118+3
  1672 792E AD F1 83				LDA STATEK+64+4
  1672 7931 8D 7A 04				STA SPRITES+$400+118+4
  1672 7934 AD 01 84				LDA STATEK+16+64+4
  1672 7937 8D 7A 05				STA SPRITES+$500+118+4
  1672 793A AD F2 83				LDA STATEK+64+5
  1672 793D 8D 7B 04				STA SPRITES+$400+118+5
  1672 7940 AD 02 84				LDA STATEK+16+64+5
  1672 7943 8D 7B 05				STA SPRITES+$500+118+5
  1672 7946 AD F3 83				LDA STATEK+64+6
  1672 7949 8D 7C 04				STA SPRITES+$400+118+6
  1672 794C AD 03 84				LDA STATEK+16+64+6
  1672 794F 8D 7C 05				STA SPRITES+$500+118+6
  1672 7952 AD F4 83				LDA STATEK+64+7
  1672 7955 8D 7D 04				STA SPRITES+$400+118+7
  1672 7958 AD 04 84				LDA STATEK+16+64+7
  1672 795B 8D 7D 05				STA SPRITES+$500+118+7
  1672 795E AD F5 83				LDA STATEK+64+8
  1672 7961 8D 7E 04				STA SPRITES+$400+118+8
  1672 7964 AD 05 84				LDA STATEK+16+64+8
  1672 7967 8D 7E 05				STA SPRITES+$500+118+8
  1672 796A AD F6 83				LDA STATEK+64+9
  1672 796D 8D 7F 04				STA SPRITES+$400+118+9
  1672 7970 AD 06 84				LDA STATEK+16+64+9
  1672 7973 8D 7F 05				STA SPRITES+$500+118+9
  1672 7976 AD F7 83				LDA STATEK+64+10
  1672 7979 8D 80 04				STA SPRITES+$400+118+10
  1672 797C AD 07 84				LDA STATEK+16+64+10
  1672 797F 8D 80 05				STA SPRITES+$500+118+10
  1672 7982 AD F8 83				LDA STATEK+64+11
  1672 7985 8D 81 04				STA SPRITES+$400+118+11
  1672 7988 AD 08 84				LDA STATEK+16+64+11
  1672 798B 8D 81 05				STA SPRITES+$500+118+11
  1672 798E AD F9 83				LDA STATEK+64+12
  1672 7991 8D 82 04				STA SPRITES+$400+118+12
  1672 7994 AD 09 84				LDA STATEK+16+64+12
  1672 7997 8D 82 05				STA SPRITES+$500+118+12
  1672 799A AD FA 83				LDA STATEK+64+13
  1672 799D 8D 83 04				STA SPRITES+$400+118+13
  1672 79A0 AD 0A 84				LDA STATEK+16+64+13
  1672 79A3 8D 83 05				STA SPRITES+$500+118+13
  1672 79A6 AD FB 83				LDA STATEK+64+14
  1672 79A9 8D 84 04				STA SPRITES+$400+118+14
  1672 79AC AD 0B 84				LDA STATEK+16+64+14
  1672 79AF 8D 84 05				STA SPRITES+$500+118+14
  1672 79B2 AD FC 83				LDA STATEK+64+15
  1672 79B5 8D 85 04				STA SPRITES+$400+118+15
  1672 79B8 AD 0C 84				LDA STATEK+16+64+15
  1672 79BB 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1677 79BE 60					rts
  1678 						
  1679 = 79BF			rstatekRight	equ *	;1000,8
  1680 						.rept 16, #
  1681 						LDA STATEK+96+:1
  1682 						STA SPRITES+$400+118+:1
  1683 						LDA STATEK+16+96+:1
  1684 						STA SPRITES+$500+118+:1
  1685 						.ENDR
  1685 						.endr
Source: REPT
  1681 79BF AD 0D 84				LDA STATEK+96+0
  1681 79C2 8D 76 04				STA SPRITES+$400+118+0
  1681 79C5 AD 1D 84				LDA STATEK+16+96+0
  1681 79C8 8D 76 05				STA SPRITES+$500+118+0
  1681 79CB AD 0E 84				LDA STATEK+96+1
  1681 79CE 8D 77 04				STA SPRITES+$400+118+1
  1681 79D1 AD 1E 84				LDA STATEK+16+96+1
  1681 79D4 8D 77 05				STA SPRITES+$500+118+1
  1681 79D7 AD 0F 84				LDA STATEK+96+2
  1681 79DA 8D 78 04				STA SPRITES+$400+118+2
  1681 79DD AD 1F 84				LDA STATEK+16+96+2
  1681 79E0 8D 78 05				STA SPRITES+$500+118+2
  1681 79E3 AD 10 84				LDA STATEK+96+3
  1681 79E6 8D 79 04				STA SPRITES+$400+118+3
  1681 79E9 AD 20 84				LDA STATEK+16+96+3
  1681 79EC 8D 79 05				STA SPRITES+$500+118+3
  1681 79EF AD 11 84				LDA STATEK+96+4
  1681 79F2 8D 7A 04				STA SPRITES+$400+118+4
  1681 79F5 AD 21 84				LDA STATEK+16+96+4
  1681 79F8 8D 7A 05				STA SPRITES+$500+118+4
  1681 79FB AD 12 84				LDA STATEK+96+5
  1681 79FE 8D 7B 04				STA SPRITES+$400+118+5
  1681 7A01 AD 22 84				LDA STATEK+16+96+5
  1681 7A04 8D 7B 05				STA SPRITES+$500+118+5
  1681 7A07 AD 13 84				LDA STATEK+96+6
  1681 7A0A 8D 7C 04				STA SPRITES+$400+118+6
  1681 7A0D AD 23 84				LDA STATEK+16+96+6
  1681 7A10 8D 7C 05				STA SPRITES+$500+118+6
  1681 7A13 AD 14 84				LDA STATEK+96+7
  1681 7A16 8D 7D 04				STA SPRITES+$400+118+7
  1681 7A19 AD 24 84				LDA STATEK+16+96+7
  1681 7A1C 8D 7D 05				STA SPRITES+$500+118+7
  1681 7A1F AD 15 84				LDA STATEK+96+8
  1681 7A22 8D 7E 04				STA SPRITES+$400+118+8
  1681 7A25 AD 25 84				LDA STATEK+16+96+8
  1681 7A28 8D 7E 05				STA SPRITES+$500+118+8
  1681 7A2B AD 16 84				LDA STATEK+96+9
  1681 7A2E 8D 7F 04				STA SPRITES+$400+118+9
  1681 7A31 AD 26 84				LDA STATEK+16+96+9
  1681 7A34 8D 7F 05				STA SPRITES+$500+118+9
  1681 7A37 AD 17 84				LDA STATEK+96+10
  1681 7A3A 8D 80 04				STA SPRITES+$400+118+10
  1681 7A3D AD 27 84				LDA STATEK+16+96+10
  1681 7A40 8D 80 05				STA SPRITES+$500+118+10
  1681 7A43 AD 18 84				LDA STATEK+96+11
  1681 7A46 8D 81 04				STA SPRITES+$400+118+11
  1681 7A49 AD 28 84				LDA STATEK+16+96+11
  1681 7A4C 8D 81 05				STA SPRITES+$500+118+11
  1681 7A4F AD 19 84				LDA STATEK+96+12
  1681 7A52 8D 82 04				STA SPRITES+$400+118+12
  1681 7A55 AD 29 84				LDA STATEK+16+96+12
  1681 7A58 8D 82 05				STA SPRITES+$500+118+12
  1681 7A5B AD 1A 84				LDA STATEK+96+13
  1681 7A5E 8D 83 04				STA SPRITES+$400+118+13
  1681 7A61 AD 2A 84				LDA STATEK+16+96+13
  1681 7A64 8D 83 05				STA SPRITES+$500+118+13
  1681 7A67 AD 1B 84				LDA STATEK+96+14
  1681 7A6A 8D 84 04				STA SPRITES+$400+118+14
  1681 7A6D AD 2B 84				LDA STATEK+16+96+14
  1681 7A70 8D 84 05				STA SPRITES+$500+118+14
  1681 7A73 AD 1C 84				LDA STATEK+96+15
  1681 7A76 8D 85 04				STA SPRITES+$400+118+15
  1681 7A79 AD 2C 84				LDA STATEK+16+96+15
  1681 7A7C 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1686 7A7F 60					rts
  1687 						
  1688 = 7A80			rstatekUpLeft	equ *	;0101,5
  1689 						.rept 16, #
  1690 						LDA STATEK+128+:1
  1691 						STA SPRITES+$400+118+:1
  1692 						LDA STATEK+16+128+:1
  1693 						STA SPRITES+$500+118+:1
  1694 						.ENDR
  1694 						.endr
Source: REPT
  1690 7A80 AD 2D 84				LDA STATEK+128+0
  1690 7A83 8D 76 04				STA SPRITES+$400+118+0
  1690 7A86 AD 3D 84				LDA STATEK+16+128+0
  1690 7A89 8D 76 05				STA SPRITES+$500+118+0
  1690 7A8C AD 2E 84				LDA STATEK+128+1
  1690 7A8F 8D 77 04				STA SPRITES+$400+118+1
  1690 7A92 AD 3E 84				LDA STATEK+16+128+1
  1690 7A95 8D 77 05				STA SPRITES+$500+118+1
  1690 7A98 AD 2F 84				LDA STATEK+128+2
  1690 7A9B 8D 78 04				STA SPRITES+$400+118+2
  1690 7A9E AD 3F 84				LDA STATEK+16+128+2
  1690 7AA1 8D 78 05				STA SPRITES+$500+118+2
  1690 7AA4 AD 30 84				LDA STATEK+128+3
  1690 7AA7 8D 79 04				STA SPRITES+$400+118+3
  1690 7AAA AD 40 84				LDA STATEK+16+128+3
  1690 7AAD 8D 79 05				STA SPRITES+$500+118+3
  1690 7AB0 AD 31 84				LDA STATEK+128+4
  1690 7AB3 8D 7A 04				STA SPRITES+$400+118+4
  1690 7AB6 AD 41 84				LDA STATEK+16+128+4
  1690 7AB9 8D 7A 05				STA SPRITES+$500+118+4
  1690 7ABC AD 32 84				LDA STATEK+128+5
  1690 7ABF 8D 7B 04				STA SPRITES+$400+118+5
  1690 7AC2 AD 42 84				LDA STATEK+16+128+5
  1690 7AC5 8D 7B 05				STA SPRITES+$500+118+5
  1690 7AC8 AD 33 84				LDA STATEK+128+6
  1690 7ACB 8D 7C 04				STA SPRITES+$400+118+6
  1690 7ACE AD 43 84				LDA STATEK+16+128+6
  1690 7AD1 8D 7C 05				STA SPRITES+$500+118+6
  1690 7AD4 AD 34 84				LDA STATEK+128+7
  1690 7AD7 8D 7D 04				STA SPRITES+$400+118+7
  1690 7ADA AD 44 84				LDA STATEK+16+128+7
  1690 7ADD 8D 7D 05				STA SPRITES+$500+118+7
  1690 7AE0 AD 35 84				LDA STATEK+128+8
  1690 7AE3 8D 7E 04				STA SPRITES+$400+118+8
  1690 7AE6 AD 45 84				LDA STATEK+16+128+8
  1690 7AE9 8D 7E 05				STA SPRITES+$500+118+8
  1690 7AEC AD 36 84				LDA STATEK+128+9
  1690 7AEF 8D 7F 04				STA SPRITES+$400+118+9
  1690 7AF2 AD 46 84				LDA STATEK+16+128+9
  1690 7AF5 8D 7F 05				STA SPRITES+$500+118+9
  1690 7AF8 AD 37 84				LDA STATEK+128+10
  1690 7AFB 8D 80 04				STA SPRITES+$400+118+10
  1690 7AFE AD 47 84				LDA STATEK+16+128+10
  1690 7B01 8D 80 05				STA SPRITES+$500+118+10
  1690 7B04 AD 38 84				LDA STATEK+128+11
  1690 7B07 8D 81 04				STA SPRITES+$400+118+11
  1690 7B0A AD 48 84				LDA STATEK+16+128+11
  1690 7B0D 8D 81 05				STA SPRITES+$500+118+11
  1690 7B10 AD 39 84				LDA STATEK+128+12
  1690 7B13 8D 82 04				STA SPRITES+$400+118+12
  1690 7B16 AD 49 84				LDA STATEK+16+128+12
  1690 7B19 8D 82 05				STA SPRITES+$500+118+12
  1690 7B1C AD 3A 84				LDA STATEK+128+13
  1690 7B1F 8D 83 04				STA SPRITES+$400+118+13
  1690 7B22 AD 4A 84				LDA STATEK+16+128+13
  1690 7B25 8D 83 05				STA SPRITES+$500+118+13
  1690 7B28 AD 3B 84				LDA STATEK+128+14
  1690 7B2B 8D 84 04				STA SPRITES+$400+118+14
  1690 7B2E AD 4B 84				LDA STATEK+16+128+14
  1690 7B31 8D 84 05				STA SPRITES+$500+118+14
  1690 7B34 AD 3C 84				LDA STATEK+128+15
  1690 7B37 8D 85 04				STA SPRITES+$400+118+15
  1690 7B3A AD 4C 84				LDA STATEK+16+128+15
  1690 7B3D 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1695 7B40 60					rts
  1696 						
  1697 = 7B41			rstatekUpRight	equ *	;1001,9
  1698 						.rept 16, #
  1699 						LDA STATEK+160+:1
  1700 						STA SPRITES+$400+118+:1
  1701 						LDA STATEK+16+160+:1
  1702 						STA SPRITES+$500+118+:1
  1703 						.ENDR
  1703 						.endr
Source: REPT
  1699 7B41 AD 4D 84				LDA STATEK+160+0
  1699 7B44 8D 76 04				STA SPRITES+$400+118+0
  1699 7B47 AD 5D 84				LDA STATEK+16+160+0
  1699 7B4A 8D 76 05				STA SPRITES+$500+118+0
  1699 7B4D AD 4E 84				LDA STATEK+160+1
  1699 7B50 8D 77 04				STA SPRITES+$400+118+1
  1699 7B53 AD 5E 84				LDA STATEK+16+160+1
  1699 7B56 8D 77 05				STA SPRITES+$500+118+1
  1699 7B59 AD 4F 84				LDA STATEK+160+2
  1699 7B5C 8D 78 04				STA SPRITES+$400+118+2
  1699 7B5F AD 5F 84				LDA STATEK+16+160+2
  1699 7B62 8D 78 05				STA SPRITES+$500+118+2
  1699 7B65 AD 50 84				LDA STATEK+160+3
  1699 7B68 8D 79 04				STA SPRITES+$400+118+3
  1699 7B6B AD 60 84				LDA STATEK+16+160+3
  1699 7B6E 8D 79 05				STA SPRITES+$500+118+3
  1699 7B71 AD 51 84				LDA STATEK+160+4
  1699 7B74 8D 7A 04				STA SPRITES+$400+118+4
  1699 7B77 AD 61 84				LDA STATEK+16+160+4
  1699 7B7A 8D 7A 05				STA SPRITES+$500+118+4
  1699 7B7D AD 52 84				LDA STATEK+160+5
  1699 7B80 8D 7B 04				STA SPRITES+$400+118+5
  1699 7B83 AD 62 84				LDA STATEK+16+160+5
  1699 7B86 8D 7B 05				STA SPRITES+$500+118+5
  1699 7B89 AD 53 84				LDA STATEK+160+6
  1699 7B8C 8D 7C 04				STA SPRITES+$400+118+6
  1699 7B8F AD 63 84				LDA STATEK+16+160+6
  1699 7B92 8D 7C 05				STA SPRITES+$500+118+6
  1699 7B95 AD 54 84				LDA STATEK+160+7
  1699 7B98 8D 7D 04				STA SPRITES+$400+118+7
  1699 7B9B AD 64 84				LDA STATEK+16+160+7
  1699 7B9E 8D 7D 05				STA SPRITES+$500+118+7
  1699 7BA1 AD 55 84				LDA STATEK+160+8
  1699 7BA4 8D 7E 04				STA SPRITES+$400+118+8
  1699 7BA7 AD 65 84				LDA STATEK+16+160+8
  1699 7BAA 8D 7E 05				STA SPRITES+$500+118+8
  1699 7BAD AD 56 84				LDA STATEK+160+9
  1699 7BB0 8D 7F 04				STA SPRITES+$400+118+9
  1699 7BB3 AD 66 84				LDA STATEK+16+160+9
  1699 7BB6 8D 7F 05				STA SPRITES+$500+118+9
  1699 7BB9 AD 57 84				LDA STATEK+160+10
  1699 7BBC 8D 80 04				STA SPRITES+$400+118+10
  1699 7BBF AD 67 84				LDA STATEK+16+160+10
  1699 7BC2 8D 80 05				STA SPRITES+$500+118+10
  1699 7BC5 AD 58 84				LDA STATEK+160+11
  1699 7BC8 8D 81 04				STA SPRITES+$400+118+11
  1699 7BCB AD 68 84				LDA STATEK+16+160+11
  1699 7BCE 8D 81 05				STA SPRITES+$500+118+11
  1699 7BD1 AD 59 84				LDA STATEK+160+12
  1699 7BD4 8D 82 04				STA SPRITES+$400+118+12
  1699 7BD7 AD 69 84				LDA STATEK+16+160+12
  1699 7BDA 8D 82 05				STA SPRITES+$500+118+12
  1699 7BDD AD 5A 84				LDA STATEK+160+13
  1699 7BE0 8D 83 04				STA SPRITES+$400+118+13
  1699 7BE3 AD 6A 84				LDA STATEK+16+160+13
  1699 7BE6 8D 83 05				STA SPRITES+$500+118+13
  1699 7BE9 AD 5B 84				LDA STATEK+160+14
  1699 7BEC 8D 84 04				STA SPRITES+$400+118+14
  1699 7BEF AD 6B 84				LDA STATEK+16+160+14
  1699 7BF2 8D 84 05				STA SPRITES+$500+118+14
  1699 7BF5 AD 5C 84				LDA STATEK+160+15
  1699 7BF8 8D 85 04				STA SPRITES+$400+118+15
  1699 7BFB AD 6C 84				LDA STATEK+16+160+15
  1699 7BFE 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1704 7C01 60					rts
  1705 						
  1706 = 7C02			rstatekDownRight	equ *	;1010,10
  1707 						.rept 16, #
  1708 						LDA STATEK+192+:1
  1709 						STA SPRITES+$400+118+:1
  1710 						LDA STATEK+16+192+:1
  1711 						STA SPRITES+$500+118+:1
  1712 						.ENDR
  1712 						.endr
Source: REPT
  1708 7C02 AD 6D 84				LDA STATEK+192+0
  1708 7C05 8D 76 04				STA SPRITES+$400+118+0
  1708 7C08 AD 7D 84				LDA STATEK+16+192+0
  1708 7C0B 8D 76 05				STA SPRITES+$500+118+0
  1708 7C0E AD 6E 84				LDA STATEK+192+1
  1708 7C11 8D 77 04				STA SPRITES+$400+118+1
  1708 7C14 AD 7E 84				LDA STATEK+16+192+1
  1708 7C17 8D 77 05				STA SPRITES+$500+118+1
  1708 7C1A AD 6F 84				LDA STATEK+192+2
  1708 7C1D 8D 78 04				STA SPRITES+$400+118+2
  1708 7C20 AD 7F 84				LDA STATEK+16+192+2
  1708 7C23 8D 78 05				STA SPRITES+$500+118+2
  1708 7C26 AD 70 84				LDA STATEK+192+3
  1708 7C29 8D 79 04				STA SPRITES+$400+118+3
  1708 7C2C AD 80 84				LDA STATEK+16+192+3
  1708 7C2F 8D 79 05				STA SPRITES+$500+118+3
  1708 7C32 AD 71 84				LDA STATEK+192+4
  1708 7C35 8D 7A 04				STA SPRITES+$400+118+4
  1708 7C38 AD 81 84				LDA STATEK+16+192+4
  1708 7C3B 8D 7A 05				STA SPRITES+$500+118+4
  1708 7C3E AD 72 84				LDA STATEK+192+5
  1708 7C41 8D 7B 04				STA SPRITES+$400+118+5
  1708 7C44 AD 82 84				LDA STATEK+16+192+5
  1708 7C47 8D 7B 05				STA SPRITES+$500+118+5
  1708 7C4A AD 73 84				LDA STATEK+192+6
  1708 7C4D 8D 7C 04				STA SPRITES+$400+118+6
  1708 7C50 AD 83 84				LDA STATEK+16+192+6
  1708 7C53 8D 7C 05				STA SPRITES+$500+118+6
  1708 7C56 AD 74 84				LDA STATEK+192+7
  1708 7C59 8D 7D 04				STA SPRITES+$400+118+7
  1708 7C5C AD 84 84				LDA STATEK+16+192+7
  1708 7C5F 8D 7D 05				STA SPRITES+$500+118+7
  1708 7C62 AD 75 84				LDA STATEK+192+8
  1708 7C65 8D 7E 04				STA SPRITES+$400+118+8
  1708 7C68 AD 85 84				LDA STATEK+16+192+8
  1708 7C6B 8D 7E 05				STA SPRITES+$500+118+8
  1708 7C6E AD 76 84				LDA STATEK+192+9
  1708 7C71 8D 7F 04				STA SPRITES+$400+118+9
  1708 7C74 AD 86 84				LDA STATEK+16+192+9
  1708 7C77 8D 7F 05				STA SPRITES+$500+118+9
  1708 7C7A AD 77 84				LDA STATEK+192+10
  1708 7C7D 8D 80 04				STA SPRITES+$400+118+10
  1708 7C80 AD 87 84				LDA STATEK+16+192+10
  1708 7C83 8D 80 05				STA SPRITES+$500+118+10
  1708 7C86 AD 78 84				LDA STATEK+192+11
  1708 7C89 8D 81 04				STA SPRITES+$400+118+11
  1708 7C8C AD 88 84				LDA STATEK+16+192+11
  1708 7C8F 8D 81 05				STA SPRITES+$500+118+11
  1708 7C92 AD 79 84				LDA STATEK+192+12
  1708 7C95 8D 82 04				STA SPRITES+$400+118+12
  1708 7C98 AD 89 84				LDA STATEK+16+192+12
  1708 7C9B 8D 82 05				STA SPRITES+$500+118+12
  1708 7C9E AD 7A 84				LDA STATEK+192+13
  1708 7CA1 8D 83 04				STA SPRITES+$400+118+13
  1708 7CA4 AD 8A 84				LDA STATEK+16+192+13
  1708 7CA7 8D 83 05				STA SPRITES+$500+118+13
  1708 7CAA AD 7B 84				LDA STATEK+192+14
  1708 7CAD 8D 84 04				STA SPRITES+$400+118+14
  1708 7CB0 AD 8B 84				LDA STATEK+16+192+14
  1708 7CB3 8D 84 05				STA SPRITES+$500+118+14
  1708 7CB6 AD 7C 84				LDA STATEK+192+15
  1708 7CB9 8D 85 04				STA SPRITES+$400+118+15
  1708 7CBC AD 8C 84				LDA STATEK+16+192+15
  1708 7CBF 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1713 7CC2 60					rts
  1714 						
  1715 = 7CC3			rstatekDownLeft	equ *	;0110,6
  1716 						.rept 16, #
  1717 						LDA STATEK+224+:1
  1718 						STA SPRITES+$400+118+:1
  1719 						LDA STATEK+16+224+:1
  1720 						STA SPRITES+$500+118+:1
  1721 						.ENDR
  1721 						.endr
Source: REPT
  1717 7CC3 AD 8D 84				LDA STATEK+224+0
  1717 7CC6 8D 76 04				STA SPRITES+$400+118+0
  1717 7CC9 AD 9D 84				LDA STATEK+16+224+0
  1717 7CCC 8D 76 05				STA SPRITES+$500+118+0
  1717 7CCF AD 8E 84				LDA STATEK+224+1
  1717 7CD2 8D 77 04				STA SPRITES+$400+118+1
  1717 7CD5 AD 9E 84				LDA STATEK+16+224+1
  1717 7CD8 8D 77 05				STA SPRITES+$500+118+1
  1717 7CDB AD 8F 84				LDA STATEK+224+2
  1717 7CDE 8D 78 04				STA SPRITES+$400+118+2
  1717 7CE1 AD 9F 84				LDA STATEK+16+224+2
  1717 7CE4 8D 78 05				STA SPRITES+$500+118+2
  1717 7CE7 AD 90 84				LDA STATEK+224+3
  1717 7CEA 8D 79 04				STA SPRITES+$400+118+3
  1717 7CED AD A0 84				LDA STATEK+16+224+3
  1717 7CF0 8D 79 05				STA SPRITES+$500+118+3
  1717 7CF3 AD 91 84				LDA STATEK+224+4
  1717 7CF6 8D 7A 04				STA SPRITES+$400+118+4
  1717 7CF9 AD A1 84				LDA STATEK+16+224+4
  1717 7CFC 8D 7A 05				STA SPRITES+$500+118+4
  1717 7CFF AD 92 84				LDA STATEK+224+5
  1717 7D02 8D 7B 04				STA SPRITES+$400+118+5
  1717 7D05 AD A2 84				LDA STATEK+16+224+5
  1717 7D08 8D 7B 05				STA SPRITES+$500+118+5
  1717 7D0B AD 93 84				LDA STATEK+224+6
  1717 7D0E 8D 7C 04				STA SPRITES+$400+118+6
  1717 7D11 AD A3 84				LDA STATEK+16+224+6
  1717 7D14 8D 7C 05				STA SPRITES+$500+118+6
  1717 7D17 AD 94 84				LDA STATEK+224+7
  1717 7D1A 8D 7D 04				STA SPRITES+$400+118+7
  1717 7D1D AD A4 84				LDA STATEK+16+224+7
  1717 7D20 8D 7D 05				STA SPRITES+$500+118+7
  1717 7D23 AD 95 84				LDA STATEK+224+8
  1717 7D26 8D 7E 04				STA SPRITES+$400+118+8
  1717 7D29 AD A5 84				LDA STATEK+16+224+8
  1717 7D2C 8D 7E 05				STA SPRITES+$500+118+8
  1717 7D2F AD 96 84				LDA STATEK+224+9
  1717 7D32 8D 7F 04				STA SPRITES+$400+118+9
  1717 7D35 AD A6 84				LDA STATEK+16+224+9
  1717 7D38 8D 7F 05				STA SPRITES+$500+118+9
  1717 7D3B AD 97 84				LDA STATEK+224+10
  1717 7D3E 8D 80 04				STA SPRITES+$400+118+10
  1717 7D41 AD A7 84				LDA STATEK+16+224+10
  1717 7D44 8D 80 05				STA SPRITES+$500+118+10
  1717 7D47 AD 98 84				LDA STATEK+224+11
  1717 7D4A 8D 81 04				STA SPRITES+$400+118+11
  1717 7D4D AD A8 84				LDA STATEK+16+224+11
  1717 7D50 8D 81 05				STA SPRITES+$500+118+11
  1717 7D53 AD 99 84				LDA STATEK+224+12
  1717 7D56 8D 82 04				STA SPRITES+$400+118+12
  1717 7D59 AD A9 84				LDA STATEK+16+224+12
  1717 7D5C 8D 82 05				STA SPRITES+$500+118+12
  1717 7D5F AD 9A 84				LDA STATEK+224+13
  1717 7D62 8D 83 04				STA SPRITES+$400+118+13
  1717 7D65 AD AA 84				LDA STATEK+16+224+13
  1717 7D68 8D 83 05				STA SPRITES+$500+118+13
  1717 7D6B AD 9B 84				LDA STATEK+224+14
  1717 7D6E 8D 84 04				STA SPRITES+$400+118+14
  1717 7D71 AD AB 84				LDA STATEK+16+224+14
  1717 7D74 8D 84 05				STA SPRITES+$500+118+14
  1717 7D77 AD 9C 84				LDA STATEK+224+15
  1717 7D7A 8D 85 04				STA SPRITES+$400+118+15
  1717 7D7D AD AC 84				LDA STATEK+16+224+15
  1717 7D80 8D 85 05				STA SPRITES+$500+118+15
Source: bmove.asm
  1722 7D83 60					rts
  1723 					
  1724 = 7D84			moveShip	equ *	;przesun ekran	
  1725 7D84 A5 C3				lda startMapy		;czy opoznienie po wlaczeniu nowej mapy
  1726 7D86 C9 0A				cmp #10
  1727 7D88 90 04				bcc @+
  1728 7D8A 8D 0B E8				sta potg0
  1729 7D8D 60					rts
  1730 						
  1731 7D8E AD CA 36		@		lda sJOY
  1732 7D91 29 04				and #%0100
  1733 7D93 F0 03				beq l01
  1734 7D95 4C F0 71				jmp movLeft
  1735
  1736 7D98 AD CA 36		l01		lda sJOY
  1737 7D9B 29 08				and #%1000
  1738 7D9D F0 03				beq l02
  1739 7D9F 4C 2A 72				jmp movRight
  1740 					
  1741 7DA2 AD CA 36		l02		lda sJOY
  1742 7DA5 29 01				and #%0001
  1743 7DA7 F0 03				beq l03
  1744 7DA9 4C 62 72				jmp movUp
  1745
  1746 7DAC AD CA 36		l03		lda sJOY
  1747 7DAF 29 02				and #%0010
  1748 7DB1 F0 03				beq l04
  1749 7DB3 4C 9D 72				jmp movDOWN
  1750 						
  1751 7DB6 38			l04		sec
  1752 7DB7 A9 0F				lda #15
  1753 7DB9 E5 C6				sbc movX
  1754 7DBB 85 C8				sta movX0		;15-movX
  1755 						
  1756 7DBD A5 C7				lda movY
  1757 7DBF 4A					lsr @
  1758 7DC0 85 C9				sta movY0		;movy/2
  1759
  1760 7DC2 60					rts
  1761
  1762 7DC3 3B 4B 5B 6B		ksztaltJadroAL	dta b(<ksztaltJadroA0),b(<ksztaltJadroA1),b(<ksztaltJadroA2),b(<ksztaltJadroA3)
  1763 7DC7 7B 8B 9B						dta b(<ksztaltJadroA4),b(<ksztaltJadroA5),b(<ksztaltJadroA6)
  1764 7DCA 40 40 40 40		ksztaltJadroAH	dta b(>ksztaltJadroA0),b(>ksztaltJadroA1),b(>ksztaltJadroA2),b(>ksztaltJadroA3)
  1765 7DCE 40 40 40						dta b(>ksztaltJadroA4),b(>ksztaltJadroA5),b(>ksztaltJadroA6)
  1766 7DD1 AB BB CB DB		ksztaltJadroBL	dta b(<ksztaltJadroB0),b(<ksztaltJadroB1),b(<ksztaltJadroB2),b(<ksztaltJadroB3)
  1767 7DD5 EB FB 0B						dta b(<ksztaltJadroB4),b(<ksztaltJadroB5),b(<ksztaltJadroB6)
  1768 7DD8 40 40 40 40		ksztaltJadroBH	dta b(>ksztaltJadroB0),b(>ksztaltJadroB1),b(>ksztaltJadroB2),b(>ksztaltJadroB3)
  1769 7DDC 40 40 41						dta b(>ksztaltJadroB4),b(>ksztaltJadroB5),b(>ksztaltJadroB6)
  1770
  1771
  1772
  1773
  1774
  1775 				;przygotuj liczniki i wyglad jadra
  1776 = 7DDF			initJadra	equ *
  1777 7DDF A0 0F				ldy #15
  1778 7DE1 B9 7B 40		@		lda ksztaltJadroA4,y
  1779 7DE4 99 98 10				sta znaki1+(b+16)*8,y
  1780 7DE7 99 98 14				sta znaki2+(b+16)*8,y
  1781 7DEA B9 EB 40				lda ksztaltJadroB4,y
  1782 7DED 99 A8 10				sta znaki1+(b+18)*8,y
  1783 7DF0 99 A8 14				sta znaki2+(b+18)*8,y
  1784 7DF3 88					dey
  1785 7DF4 10 EB				bpl @-
  1786 							
  1787 7DF6 AD 6F 36				lda czasOtwarcia
  1788 7DF9 C9 FF				cmp #255
  1789 7DFB D0 1F				bne @+
  1790 						
  1791 7DFD 8D 80 36				sta openA		;jesli wartosc ujemna to zablokuj jadra
  1792 7E00 8D 81 36				sta openB
  1793 7E03 A9 01 8D 84 36			mva #1 czyJadroA
  1794 7E08 8D 85 36				sta czyJadroB
  1795 						
  1796 7E0B A9 93 85 CD				mva #b+16+128 _bazaAJadro0		;jeÅ›li jadra caly czas otwarte
  1797 7E0F A9 94 85 CE				mva #b+17+128 _bazaAJadro1
  1798 7E13 A9 95 85 CF				mva #b+18+128 _bazaBJadro0
  1799 7E17 A9 96 85 D0				mva #b+19+128 _bazaBJadro1
  1800 						
  1801 7E1B 60					rts
  1802 						
  1803 7E1C A9 00 8D 80 36	@		mva #0 openA
  1804 7E21 8D 81 36				sta openB
  1805 7E24 8D 84 36				sta czyJadroA
  1806 7E27 8D 85 36				sta czyJadroB
  1807 						
  1808 7E2A A9 04 8D 82 36			mva #4 licznikJadroA
  1809 7E2F A9 14 8D 83 36			mva #20 licznikJadroB
  1810 7E34 60					rts
  1811
  1812 				;Animacja Jadra A
  1813 = 7E35			animacjaJadraA	equ *
  1814 7E35 AD 80 36				lda openA
  1815 7E38 F0 08				beq @+1
  1816 7E3A C9 FF				cmp #255
  1817 7E3C F0 03				beq @+			;jesli ujemna wartosc to nie zmieniaj stanu
  1818 7E3E CE 80 36				dec openA
  1819 7E41 60			@		rts
  1820 					
  1821 7E42 A9 00 8D 84 36	@		mva #0 czyJadroA
  1822 7E47 EE 82 36				inc licznikJadroA
  1823 7E4A AD 82 36				lda licznikJadroA
  1824 7E4D C9 03				cmp #3
  1825 7E4F D0 06				bne @+
  1826 7E51 AE 70 36 8E 80 36			mvx czasZamkniecia openA
  1827 7E57 C9 13		@		cmp #19
  1828 7E59 D0 3F				bne @+
  1829 7E5B AE 6F 36 8E 80 36			mvx czasOtwarcia openA
  1830 7E61					odpalRakietyA		;MACRO
Macro: ODPALRAKIETYA [Source: rakiety.asm]
     2 7E61 A0 07					ldy #7
     3 7E63 A9 00 8D 29 92				mva #0 rak_flag
     4 7E68 BE E0 28		odpraka0	ldx rakietyStan,y
     5 7E6B F0 12					beq odpraka1
     7 7E6D B9 E8 28					lda rakietyTyp,y
     8 7E70 29 02					and #%10
     9 7E72 D0 0B					bne odpraka1
    10 7E74 9D AF 02					sta bazyRakieta-1,x			;wyczysc numer rakiety przypisanej do bazy,A=0
    11 7E77 A9 01 99 88 02				mva #1 rakietyMove,y		;uwolnienie rakiety
    12 7E7C 8D 29 92					sta rak_flag
    13 7E7F 88			odpraka1	dey
    14 7E80 10 E6					bpl odpraka0
    15 7E82 AD 29 92					lda rak_flag
    16 7E85 F0 05					beq odpraka2
    17 7E87 A9 1E					lda #15*2
    18 7E89 8D C0 36					sta SFX_RAKIETA
    19 = 7E8C			odpraka2	equ *	;lda licznikJadroA
Source: bmove.asm
  1831 7E8C A9 04 8D 57 36			mva #4 opozCoreA
  1832 7E91 A9 01 8D 59 36			mva #1 liczCoreA
  1833 7E96 8D 84 36				sta czyJadroA
  1834 7E99 60					rts
  1835
  1836 7E9A 4A			@		lsr @				;spowolnienie
  1837 7E9B 4A					lsr @
  1838 7E9C C9 07				cmp #7
  1839 7E9E 90 05				bcc @+
  1840 						
  1841 7EA0 A9 00 8D 82 36			mva #0 licznikJadroA		;reset licznika
  1842 					
  1843 7EA5 AA			@		tax
  1844 7EA6 E0 04				cpx #4
  1845 7EA8 D0 05				bne @+
  1846 7EAA A9 01 8D 84 36			mva #1 czyJadroA
  1847 						
  1848 7EAF BC 34 40		@		ldy ad_jadra,x
  1849 7EB2 A5 BC				lda ramka
  1850 7EB4 D0 63				bne @+
  1851 						.rept 16, #
  1852 							LDA KSZTALTJADROA0+:1,Y
  1853 							STA ZNAKI1+(B+16)*8+:1
  1854 						.ENDR
  1854 						.endr
Source: REPT
  1852 7EB6 B9 3B 40					LDA KSZTALTJADROA0+0,Y
  1852 7EB9 8D 98 10					STA ZNAKI1+(B+16)*8+0
  1852 7EBC B9 3C 40					LDA KSZTALTJADROA0+1,Y
  1852 7EBF 8D 99 10					STA ZNAKI1+(B+16)*8+1
  1852 7EC2 B9 3D 40					LDA KSZTALTJADROA0+2,Y
  1852 7EC5 8D 9A 10					STA ZNAKI1+(B+16)*8+2
  1852 7EC8 B9 3E 40					LDA KSZTALTJADROA0+3,Y
  1852 7ECB 8D 9B 10					STA ZNAKI1+(B+16)*8+3
  1852 7ECE B9 3F 40					LDA KSZTALTJADROA0+4,Y
  1852 7ED1 8D 9C 10					STA ZNAKI1+(B+16)*8+4
  1852 7ED4 B9 40 40					LDA KSZTALTJADROA0+5,Y
  1852 7ED7 8D 9D 10					STA ZNAKI1+(B+16)*8+5
  1852 7EDA B9 41 40					LDA KSZTALTJADROA0+6,Y
  1852 7EDD 8D 9E 10					STA ZNAKI1+(B+16)*8+6
  1852 7EE0 B9 42 40					LDA KSZTALTJADROA0+7,Y
  1852 7EE3 8D 9F 10					STA ZNAKI1+(B+16)*8+7
  1852 7EE6 B9 43 40					LDA KSZTALTJADROA0+8,Y
  1852 7EE9 8D A0 10					STA ZNAKI1+(B+16)*8+8
  1852 7EEC B9 44 40					LDA KSZTALTJADROA0+9,Y
  1852 7EEF 8D A1 10					STA ZNAKI1+(B+16)*8+9
  1852 7EF2 B9 45 40					LDA KSZTALTJADROA0+10,Y
  1852 7EF5 8D A2 10					STA ZNAKI1+(B+16)*8+10
  1852 7EF8 B9 46 40					LDA KSZTALTJADROA0+11,Y
  1852 7EFB 8D A3 10					STA ZNAKI1+(B+16)*8+11
  1852 7EFE B9 47 40					LDA KSZTALTJADROA0+12,Y
  1852 7F01 8D A4 10					STA ZNAKI1+(B+16)*8+12
  1852 7F04 B9 48 40					LDA KSZTALTJADROA0+13,Y
  1852 7F07 8D A5 10					STA ZNAKI1+(B+16)*8+13
  1852 7F0A B9 49 40					LDA KSZTALTJADROA0+14,Y
  1852 7F0D 8D A6 10					STA ZNAKI1+(B+16)*8+14
  1852 7F10 B9 4A 40					LDA KSZTALTJADROA0+15,Y
  1852 7F13 8D A7 10					STA ZNAKI1+(B+16)*8+15
Source: bmove.asm
  1855 7F16 4C 79 7F				jmp @+1
  1856 = 7F19			@		equ *
  1857 						.rept 16, #
  1858 							LDA KSZTALTJADROA0+:1,Y
  1859 							STA ZNAKI2+(B+16)*8+:1
  1860 						.ENDR	
  1860 						.endr	
Source: REPT
  1858 7F19 B9 3B 40					LDA KSZTALTJADROA0+0,Y
  1858 7F1C 8D 98 14					STA ZNAKI2+(B+16)*8+0
  1858 7F1F B9 3C 40					LDA KSZTALTJADROA0+1,Y
  1858 7F22 8D 99 14					STA ZNAKI2+(B+16)*8+1
  1858 7F25 B9 3D 40					LDA KSZTALTJADROA0+2,Y
  1858 7F28 8D 9A 14					STA ZNAKI2+(B+16)*8+2
  1858 7F2B B9 3E 40					LDA KSZTALTJADROA0+3,Y
  1858 7F2E 8D 9B 14					STA ZNAKI2+(B+16)*8+3
  1858 7F31 B9 3F 40					LDA KSZTALTJADROA0+4,Y
  1858 7F34 8D 9C 14					STA ZNAKI2+(B+16)*8+4
  1858 7F37 B9 40 40					LDA KSZTALTJADROA0+5,Y
  1858 7F3A 8D 9D 14					STA ZNAKI2+(B+16)*8+5
  1858 7F3D B9 41 40					LDA KSZTALTJADROA0+6,Y
  1858 7F40 8D 9E 14					STA ZNAKI2+(B+16)*8+6
  1858 7F43 B9 42 40					LDA KSZTALTJADROA0+7,Y
  1858 7F46 8D 9F 14					STA ZNAKI2+(B+16)*8+7
  1858 7F49 B9 43 40					LDA KSZTALTJADROA0+8,Y
  1858 7F4C 8D A0 14					STA ZNAKI2+(B+16)*8+8
  1858 7F4F B9 44 40					LDA KSZTALTJADROA0+9,Y
  1858 7F52 8D A1 14					STA ZNAKI2+(B+16)*8+9
  1858 7F55 B9 45 40					LDA KSZTALTJADROA0+10,Y
  1858 7F58 8D A2 14					STA ZNAKI2+(B+16)*8+10
  1858 7F5B B9 46 40					LDA KSZTALTJADROA0+11,Y
  1858 7F5E 8D A3 14					STA ZNAKI2+(B+16)*8+11
  1858 7F61 B9 47 40					LDA KSZTALTJADROA0+12,Y
  1858 7F64 8D A4 14					STA ZNAKI2+(B+16)*8+12
  1858 7F67 B9 48 40					LDA KSZTALTJADROA0+13,Y
  1858 7F6A 8D A5 14					STA ZNAKI2+(B+16)*8+13
  1858 7F6D B9 49 40					LDA KSZTALTJADROA0+14,Y
  1858 7F70 8D A6 14					STA ZNAKI2+(B+16)*8+14
  1858 7F73 B9 4A 40					LDA KSZTALTJADROA0+15,Y
  1858 7F76 8D A7 14					STA ZNAKI2+(B+16)*8+15
Source: bmove.asm
  1861 						
  1862 7F79 E0 04		@		cpx #4		
  1863 7F7B D0 09				bne @+
  1864 7F7D A9 93 85 CD				mva #b+16+128 _bazaAJadro0
  1865 7F81 A9 94 85 CE				mva #b+17+128 _bazaAJadro1
  1866 7F85 60					rts
  1867 						
  1868 7F86 E0 05		@		cpx #5
  1869 7F88 F0 01				beq @+
  1870 7F8A 60					rts
  1871 						
  1872 7F8B A9 13 85 CD		@		mva #b+16 _bazaAJadro0
  1873 7F8F A9 14 85 CE				mva #b+17 _bazaAJadro1
  1874 7F93 60					rts
  1875
  1876
  1877
  1878 = 7F94			ksztaltCoreA	equ *
  1879 7F94 00					dta b(0)
  1880 7F95 30 30				:2 dta b(%00110000)
  1881 7F97 3C 3C				:2 dta b(%00111100)
  1882 7F99 FB					dta b(%11111011)
  1883 7F9A E7					dta b(%11100111)
  1884 7F9B D7 D7				:2 dta b(%11010111)
  1885 7F9D DB					dta b(%11011011)
  1886 7F9E EF					dta b(%11101111)
  1887 7F9F 3C 3C				:2 dta b(%00111100)
  1888 7FA1 0C 0C				:2 dta b(%00001100)
  1889 7FA3 00					dta b(0)
  1890 				;1
  1891 7FA4 00 00				dta b(0,0)
  1892 7FA6 30 30				:2 dta b(%00110000)
  1893 7FA8 3C 3C				:2 dta b(%00111100)
  1894 7FAA FB					dta b(%11111011)
  1895 7FAB E7					dta b(%11100111)
  1896 7FAC DB					dta b(%11011011)
  1897 7FAD EF					dta b(%11101111)
  1898 7FAE 3C 3C				:2 dta b(%00111100)
  1899 7FB0 0C 0C				:2 dta b(%00001100)
  1900 7FB2 00 00				dta b(0,0)
  1901 				;2
  1902 7FB4 00 00 00				dta b(0,0,0)
  1903 7FB7 30 30				:2 dta b(%00110000)
  1904 7FB9 3C					dta b(%00111100)
  1905 7FBA FC					dta b(%11111100)
  1906 7FBB EB EB				:2 dta b(%11101011)
  1907 7FBD 3F					dta b(%00111111)
  1908 7FBE 3C					dta b(%00111100)
  1909 7FBF 0C 0C				:2 dta b(%00001100)
  1910 7FC1 00 00 00				dta b(0,0,0)
  1911 				;3	
  1912 7FC4 00 00 00 00 00			dta b(0,0,0,0,0)
  1913 7FC9 30					dta b(%00110000)
  1914 7FCA 3C					dta b(%00111100)
  1915 7FCB EF					dta b(%11101111)
  1916 7FCC FB					dta b(%11111011)
  1917 7FCD 3C					dta b(%00111100)
  1918 7FCE 0C					dta b(%00001100)
  1919 7FCF 00 00 00 00 00			dta b(0,0,0,0,0)
  1920 						
  1921 = 7FD4			ksztaltCoreB	equ *
  1922 7FD4 00					dta b(0)
  1923 7FD5 03					dta b(%00000011)
  1924 7FD6 0D					dta b(%00001101)
  1925 7FD7 F5					dta b(%11110101)
  1926 7FD8 39					dta b(%00111001)
  1927 7FD9 0D					dta b(%00001101)
  1928 7FDA 03					dta b(%00000011)
  1929 7FDB 00 00				dta b(0,0)
  1930 7FDD C0					dta b(%11000000)
  1931 7FDE 70					dta b(%01110000)
  1932 7FDF 6C					dta b(%01101100)
  1933 7FE0 5F					dta b(%01011111)
  1934 7FE1 70					dta b(%01110000)
  1935 7FE2 C0					dta b(%11000000)
  1936 7FE3 00					dta b(0)
  1937 				;1
  1938 7FE4 00					dta b(0)
  1939 7FE5 03					dta b(%00000011)
  1940 7FE6 0D					dta b(%00001101)
  1941 7FE7 35					dta b(%00110101)
  1942 7FE8 3D					dta b(%00111101)
  1943 7FE9 0F					dta b(%00001111)
  1944 7FEA 00 00 00				dta b(0,0,0)
  1945 7FED C0					dta b(%11000000)
  1946 7FEE B0					dta b(%10110000)
  1947 7FEF 7C					dta b(%01111100)
  1948 7FF0 5C					dta b(%01011100)
  1949 7FF1 70					dta b(%01110000)
  1950 7FF2 C0					dta b(%11000000)
  1951 7FF3 00					dta b(0)
  1952 				;2
  1953 7FF4 00					dta b(0)
  1954 7FF5 03					dta b(%00000011)
  1955 7FF6 0B					dta b(%00001011)
  1956 7FF7 0D					dta b(%00001101)
  1957 7FF8 09					dta b(%00001001)
  1958 7FF9 0F					dta b(%00001111)
  1959 7FFA 00 00 00 00				dta b(0,0,0,0)
  1960 7FFE F0					dta b(%11110000)
  1961 7FFF 60					dta b(%01100000)
  1962 8000 70					dta b(%01110000)
  1963 8001 E0					dta b(%11100000)
  1964 8002 C0					dta b(%11000000)
  1965 8003 00					dta b(0)
  1966 				;3		
  1967 8004 00 00				dta b(0,0)
  1968 8006 03					dta b(%00000011)
  1969 8007 0D					dta b(%00001101)
  1970 8008 02					dta b(%00000010)
  1971 8009 03					dta b(%00000011)
  1972 800A 00 00 00 00				dta b(0,0,0,0)
  1973 800E C0					dta b(%11000000)
  1974 800F 80					dta b(%10000000)
  1975 8010 70					dta b(%01110000)
  1976 8011 C0					dta b(%11000000)
  1977 8012 00 00				dta b(0,0)
  1978 						
  1979 						
  1980 8014 00 10 20 30 30 20 + tabCoreA	dta b(0,16,32,48,48,32,16,0)
  1981 						
  1982 = 801C			coreWaveA	equ *
  1983 801C AD 82 36				lda licznikJadroA		;jeÅ›li otwarte jÄ…dro
  1984 801F C9 13				cmp #19
  1985 8021 F0 08				beq @+
  1986 8023 AD 80 36				lda openA
  1987 8026 C9 FF				cmp #255
  1988 8028 F0 01				beq @+
  1989 802A 60					rts
  1990 802B CE 57 36		@		dec opozCoreA		;opoznienie animacji
  1991 802E D0 0F				bne @+ 
  1992 8030 A9 04 8D 57 36			mva #4 opozCoreA
  1993 						
  1994 8035 CE 59 36				dec liczCoreA		;numer fazy animacji
  1995 8038 10 05				bpl @+
  1996 803A A9 07 8D 59 36			mva #7 liczCoreA
  1997 						
  1998 803F AE 59 36		@		ldx liczCoreA
  1999 8042 BC 14 80				ldy tabCoreA,x
  2000 					
  2001 8045 A5 BC				lda ramka
  2002 8047 D0 61				bne @+
  2003 						
  2004 						.rept 16, #
  2005 							LDA KSZTALTCOREA+:1,Y
  2006 							STA ZNAKI1+(B+16)*8+:1
  2007 						.ENDR
  2007 						.endr
Source: REPT
  2005 8049 B9 94 7F					LDA KSZTALTCOREA+0,Y
  2005 804C 8D 98 10					STA ZNAKI1+(B+16)*8+0
  2005 804F B9 95 7F					LDA KSZTALTCOREA+1,Y
  2005 8052 8D 99 10					STA ZNAKI1+(B+16)*8+1
  2005 8055 B9 96 7F					LDA KSZTALTCOREA+2,Y
  2005 8058 8D 9A 10					STA ZNAKI1+(B+16)*8+2
  2005 805B B9 97 7F					LDA KSZTALTCOREA+3,Y
  2005 805E 8D 9B 10					STA ZNAKI1+(B+16)*8+3
  2005 8061 B9 98 7F					LDA KSZTALTCOREA+4,Y
  2005 8064 8D 9C 10					STA ZNAKI1+(B+16)*8+4
  2005 8067 B9 99 7F					LDA KSZTALTCOREA+5,Y
  2005 806A 8D 9D 10					STA ZNAKI1+(B+16)*8+5
  2005 806D B9 9A 7F					LDA KSZTALTCOREA+6,Y
  2005 8070 8D 9E 10					STA ZNAKI1+(B+16)*8+6
  2005 8073 B9 9B 7F					LDA KSZTALTCOREA+7,Y
  2005 8076 8D 9F 10					STA ZNAKI1+(B+16)*8+7
  2005 8079 B9 9C 7F					LDA KSZTALTCOREA+8,Y
  2005 807C 8D A0 10					STA ZNAKI1+(B+16)*8+8
  2005 807F B9 9D 7F					LDA KSZTALTCOREA+9,Y
  2005 8082 8D A1 10					STA ZNAKI1+(B+16)*8+9
  2005 8085 B9 9E 7F					LDA KSZTALTCOREA+10,Y
  2005 8088 8D A2 10					STA ZNAKI1+(B+16)*8+10
  2005 808B B9 9F 7F					LDA KSZTALTCOREA+11,Y
  2005 808E 8D A3 10					STA ZNAKI1+(B+16)*8+11
  2005 8091 B9 A0 7F					LDA KSZTALTCOREA+12,Y
  2005 8094 8D A4 10					STA ZNAKI1+(B+16)*8+12
  2005 8097 B9 A1 7F					LDA KSZTALTCOREA+13,Y
  2005 809A 8D A5 10					STA ZNAKI1+(B+16)*8+13
  2005 809D B9 A2 7F					LDA KSZTALTCOREA+14,Y
  2005 80A0 8D A6 10					STA ZNAKI1+(B+16)*8+14
  2005 80A3 B9 A3 7F					LDA KSZTALTCOREA+15,Y
  2005 80A6 8D A7 10					STA ZNAKI1+(B+16)*8+15
Source: bmove.asm
  2008 80A9 60					rts
  2009 = 80AA			@		equ *
  2010 						.rept 16, #
  2011 							LDA KSZTALTCOREA+:1,Y
  2012 							STA ZNAKI2+(B+16)*8+:1
  2013 						.ENDR
  2013 						.endr
Source: REPT
  2011 80AA B9 94 7F					LDA KSZTALTCOREA+0,Y
  2011 80AD 8D 98 14					STA ZNAKI2+(B+16)*8+0
  2011 80B0 B9 95 7F					LDA KSZTALTCOREA+1,Y
  2011 80B3 8D 99 14					STA ZNAKI2+(B+16)*8+1
  2011 80B6 B9 96 7F					LDA KSZTALTCOREA+2,Y
  2011 80B9 8D 9A 14					STA ZNAKI2+(B+16)*8+2
  2011 80BC B9 97 7F					LDA KSZTALTCOREA+3,Y
  2011 80BF 8D 9B 14					STA ZNAKI2+(B+16)*8+3
  2011 80C2 B9 98 7F					LDA KSZTALTCOREA+4,Y
  2011 80C5 8D 9C 14					STA ZNAKI2+(B+16)*8+4
  2011 80C8 B9 99 7F					LDA KSZTALTCOREA+5,Y
  2011 80CB 8D 9D 14					STA ZNAKI2+(B+16)*8+5
  2011 80CE B9 9A 7F					LDA KSZTALTCOREA+6,Y
  2011 80D1 8D 9E 14					STA ZNAKI2+(B+16)*8+6
  2011 80D4 B9 9B 7F					LDA KSZTALTCOREA+7,Y
  2011 80D7 8D 9F 14					STA ZNAKI2+(B+16)*8+7
  2011 80DA B9 9C 7F					LDA KSZTALTCOREA+8,Y
  2011 80DD 8D A0 14					STA ZNAKI2+(B+16)*8+8
  2011 80E0 B9 9D 7F					LDA KSZTALTCOREA+9,Y
  2011 80E3 8D A1 14					STA ZNAKI2+(B+16)*8+9
  2011 80E6 B9 9E 7F					LDA KSZTALTCOREA+10,Y
  2011 80E9 8D A2 14					STA ZNAKI2+(B+16)*8+10
  2011 80EC B9 9F 7F					LDA KSZTALTCOREA+11,Y
  2011 80EF 8D A3 14					STA ZNAKI2+(B+16)*8+11
  2011 80F2 B9 A0 7F					LDA KSZTALTCOREA+12,Y
  2011 80F5 8D A4 14					STA ZNAKI2+(B+16)*8+12
  2011 80F8 B9 A1 7F					LDA KSZTALTCOREA+13,Y
  2011 80FB 8D A5 14					STA ZNAKI2+(B+16)*8+13
  2011 80FE B9 A2 7F					LDA KSZTALTCOREA+14,Y
  2011 8101 8D A6 14					STA ZNAKI2+(B+16)*8+14
  2011 8104 B9 A3 7F					LDA KSZTALTCOREA+15,Y
  2011 8107 8D A7 14					STA ZNAKI2+(B+16)*8+15
Source: bmove.asm
  2014 						
  2015 810A 60					rts
  2016 						
  2017 				;Animacja Jadra B
  2018 = 810B			animacjaJadraB	equ *
  2019 810B AD 81 36				lda openB
  2020 810E F0 08				beq @+1
  2021 8110 C9 FF				cmp #255
  2022 8112 F0 03				beq @+			;jesli ujemna wartosc to nie zmieniaj stanu
  2023 8114 CE 81 36				dec openB
  2024 8117 60			@		rts
  2025 					
  2026 8118 A9 00 8D 85 36	@		mva #0 czyJadroB
  2027 811D EE 83 36				inc licznikJadroB
  2028 8120 AD 83 36				lda licznikJadroB
  2029 						
  2030 8123 C9 03				cmp #3
  2031 8125 D0 06				bne @+
  2032 8127 AE 70 36 8E 81 36			mvx czasZamkniecia openB
  2033 812D C9 13		@		cmp #19
  2034 812F D0 3F				bne @+
  2035 8131 AE 6F 36 8E 81 36			mvx czasOtwarcia openB
  2036 8137					odpalRakietyB		;MACRO
Macro: ODPALRAKIETYB [Source: rakiety.asm]
     2 8137 A0 07					ldy #7
     3 8139 A9 00 8D 29 92				mva #0 rak_flag
     4 813E BE E0 28		odprakb0	ldx rakietyStan,y
     5 8141 F0 12					beq odprakb1
     7 8143 B9 E8 28					lda rakietyTyp,y
     8 8146 29 02					and #%10
     9 8148 F0 0B					beq odprakb1
    10 814A 99 88 02					sta rakietyMove,y	;mva #1 rakietyMove,y		;uwolnienie rakiety
    11 814D 8D 29 92					sta rak_flag
    12 8150 A9 00 9D AF 02				mva #0 bazyRakieta-1,x		;wyczysc numer rakiety przypisanej do bazy
    13 8155 88			odprakb1	dey
    14 8156 10 E6					bpl odprakb0
    15 8158 AD 29 92					lda rak_flag
    16 815B F0 05					beq odprakb2
    17 815D A9 1E					lda #15*2
    18 815F 8D C0 36					sta SFX_RAKIETA
    19 = 8162			odprakb2	equ *	;lda licznikJadroB
Source: bmove.asm
  2037 8162 A9 04 8D 58 36			mva #4 opozCoreB
  2038 8167 A9 01 8D 5A 36			mva #1 liczCoreB
  2039 816C 8D 85 36				sta czyJadroB
  2040 816F 60					rts
  2041 						
  2042 8170 4A			@		lsr @				;spowolnienie
  2043 8171 4A					lsr @
  2044 8172 C9 07				cmp #7
  2045 8174 90 05				bcc @+
  2046 8176 A9 00 8D 83 36			mva #0 licznikJadroB		;reset licznika
  2047 						
  2048 817B AA			@		tax
  2049 817C E0 04				cpx #4
  2050 817E D0 0C				bne @+
  2051 8180 AD 83 36				lda licznikJadroB
  2052 8183 29 01				and #1
  2053 8185 F0 05				beq @+
  2054 8187 A9 01 8D 85 36			mva #1 czyJadroB
  2055 						
  2056 818C BC 34 40		@		ldy ad_jadra,x
  2057 818F A5 BC				lda ramka
  2058 8191 D0 63				bne @+
  2059 						.rept 16, #
  2060 							LDA KSZTALTJADROB0+:1,Y
  2061 							STA ZNAKI1+(B+18)*8+:1
  2062 						.ENDR
  2062 						.endr
Source: REPT
  2060 8193 B9 AB 40					LDA KSZTALTJADROB0+0,Y
  2060 8196 8D A8 10					STA ZNAKI1+(B+18)*8+0
  2060 8199 B9 AC 40					LDA KSZTALTJADROB0+1,Y
  2060 819C 8D A9 10					STA ZNAKI1+(B+18)*8+1
  2060 819F B9 AD 40					LDA KSZTALTJADROB0+2,Y
  2060 81A2 8D AA 10					STA ZNAKI1+(B+18)*8+2
  2060 81A5 B9 AE 40					LDA KSZTALTJADROB0+3,Y
  2060 81A8 8D AB 10					STA ZNAKI1+(B+18)*8+3
  2060 81AB B9 AF 40					LDA KSZTALTJADROB0+4,Y
  2060 81AE 8D AC 10					STA ZNAKI1+(B+18)*8+4
  2060 81B1 B9 B0 40					LDA KSZTALTJADROB0+5,Y
  2060 81B4 8D AD 10					STA ZNAKI1+(B+18)*8+5
  2060 81B7 B9 B1 40					LDA KSZTALTJADROB0+6,Y
  2060 81BA 8D AE 10					STA ZNAKI1+(B+18)*8+6
  2060 81BD B9 B2 40					LDA KSZTALTJADROB0+7,Y
  2060 81C0 8D AF 10					STA ZNAKI1+(B+18)*8+7
  2060 81C3 B9 B3 40					LDA KSZTALTJADROB0+8,Y
  2060 81C6 8D B0 10					STA ZNAKI1+(B+18)*8+8
  2060 81C9 B9 B4 40					LDA KSZTALTJADROB0+9,Y
  2060 81CC 8D B1 10					STA ZNAKI1+(B+18)*8+9
  2060 81CF B9 B5 40					LDA KSZTALTJADROB0+10,Y
  2060 81D2 8D B2 10					STA ZNAKI1+(B+18)*8+10
  2060 81D5 B9 B6 40					LDA KSZTALTJADROB0+11,Y
  2060 81D8 8D B3 10					STA ZNAKI1+(B+18)*8+11
  2060 81DB B9 B7 40					LDA KSZTALTJADROB0+12,Y
  2060 81DE 8D B4 10					STA ZNAKI1+(B+18)*8+12
  2060 81E1 B9 B8 40					LDA KSZTALTJADROB0+13,Y
  2060 81E4 8D B5 10					STA ZNAKI1+(B+18)*8+13
  2060 81E7 B9 B9 40					LDA KSZTALTJADROB0+14,Y
  2060 81EA 8D B6 10					STA ZNAKI1+(B+18)*8+14
  2060 81ED B9 BA 40					LDA KSZTALTJADROB0+15,Y
  2060 81F0 8D B7 10					STA ZNAKI1+(B+18)*8+15
Source: bmove.asm
  2063 81F3 4C 56 82				jmp @+1
  2064 = 81F6			@		equ *
  2065 						.rept 16, #
  2066 							LDA KSZTALTJADROB0+:1,Y
  2067 							STA ZNAKI2+(B+18)*8+:1
  2068 						.ENDR
  2068 						.endr
Source: REPT
  2066 81F6 B9 AB 40					LDA KSZTALTJADROB0+0,Y
  2066 81F9 8D A8 14					STA ZNAKI2+(B+18)*8+0
  2066 81FC B9 AC 40					LDA KSZTALTJADROB0+1,Y
  2066 81FF 8D A9 14					STA ZNAKI2+(B+18)*8+1
  2066 8202 B9 AD 40					LDA KSZTALTJADROB0+2,Y
  2066 8205 8D AA 14					STA ZNAKI2+(B+18)*8+2
  2066 8208 B9 AE 40					LDA KSZTALTJADROB0+3,Y
  2066 820B 8D AB 14					STA ZNAKI2+(B+18)*8+3
  2066 820E B9 AF 40					LDA KSZTALTJADROB0+4,Y
  2066 8211 8D AC 14					STA ZNAKI2+(B+18)*8+4
  2066 8214 B9 B0 40					LDA KSZTALTJADROB0+5,Y
  2066 8217 8D AD 14					STA ZNAKI2+(B+18)*8+5
  2066 821A B9 B1 40					LDA KSZTALTJADROB0+6,Y
  2066 821D 8D AE 14					STA ZNAKI2+(B+18)*8+6
  2066 8220 B9 B2 40					LDA KSZTALTJADROB0+7,Y
  2066 8223 8D AF 14					STA ZNAKI2+(B+18)*8+7
  2066 8226 B9 B3 40					LDA KSZTALTJADROB0+8,Y
  2066 8229 8D B0 14					STA ZNAKI2+(B+18)*8+8
  2066 822C B9 B4 40					LDA KSZTALTJADROB0+9,Y
  2066 822F 8D B1 14					STA ZNAKI2+(B+18)*8+9
  2066 8232 B9 B5 40					LDA KSZTALTJADROB0+10,Y
  2066 8235 8D B2 14					STA ZNAKI2+(B+18)*8+10
  2066 8238 B9 B6 40					LDA KSZTALTJADROB0+11,Y
  2066 823B 8D B3 14					STA ZNAKI2+(B+18)*8+11
  2066 823E B9 B7 40					LDA KSZTALTJADROB0+12,Y
  2066 8241 8D B4 14					STA ZNAKI2+(B+18)*8+12
  2066 8244 B9 B8 40					LDA KSZTALTJADROB0+13,Y
  2066 8247 8D B5 14					STA ZNAKI2+(B+18)*8+13
  2066 824A B9 B9 40					LDA KSZTALTJADROB0+14,Y
  2066 824D 8D B6 14					STA ZNAKI2+(B+18)*8+14
  2066 8250 B9 BA 40					LDA KSZTALTJADROB0+15,Y
  2066 8253 8D B7 14					STA ZNAKI2+(B+18)*8+15
Source: bmove.asm
  2069 						
  2070 8256 E0 04		@		cpx #4		
  2071 8258 D0 09				bne @+
  2072 825A A9 95 85 CF				mva #b+18+128 _bazaBJadro0
  2073 825E A9 96 85 D0				mva #b+19+128 _bazaBJadro1
  2074 8262 60					rts
  2075 						
  2076 8263 E0 05		@		cpx #5
  2077 8265 F0 01				beq @+
  2078 8267 60					rts
  2079 						
  2080 8268 A9 15 85 CF		@		mva #b+18 _bazaBJadro0
  2081 826C A9 16 85 D0				mva #b+19 _bazaBJadro1
  2082 8270 60					rts
  2083 						
  2084 = 8271			coreWaveB	equ *
  2085 8271 AD 83 36				lda licznikJadroB		;jeÅ›li otwarte jÄ…dro
  2086 8274 C9 13				cmp #19
  2087 8276 F0 08				beq @+
  2088 8278 AD 81 36				lda openB
  2089 827B C9 FF				cmp #255
  2090 827D F0 01				beq @+
  2091 827F 60					rts
  2092 8280 CE 58 36		@		dec opozCoreB		;opoznienie animacji
  2093 8283 D0 0F				bne @+ 
  2094 8285 A9 04 8D 58 36			mva #4 opozCoreB
  2095 						
  2096 828A CE 5A 36				dec liczCoreB		;numer fazy animacji
  2097 828D 10 05				bpl @+
  2098 828F A9 07 8D 5A 36			mva #7 liczCoreB
  2099 						
  2100 8294 AE 5A 36		@		ldx liczCoreB
  2101 8297 BC 14 80				ldy tabCoreA,x
  2102 					
  2103 829A A5 BC				lda ramka
  2104 829C D0 61				bne @+
  2105 						
  2106 						.rept 16, #
  2107 							LDA KSZTALTCOREB+:1,Y
  2108 							STA ZNAKI1+(B+18)*8+:1
  2109 						.ENDR
  2109 						.endr
Source: REPT
  2107 829E B9 D4 7F					LDA KSZTALTCOREB+0,Y
  2107 82A1 8D A8 10					STA ZNAKI1+(B+18)*8+0
  2107 82A4 B9 D5 7F					LDA KSZTALTCOREB+1,Y
  2107 82A7 8D A9 10					STA ZNAKI1+(B+18)*8+1
  2107 82AA B9 D6 7F					LDA KSZTALTCOREB+2,Y
  2107 82AD 8D AA 10					STA ZNAKI1+(B+18)*8+2
  2107 82B0 B9 D7 7F					LDA KSZTALTCOREB+3,Y
  2107 82B3 8D AB 10					STA ZNAKI1+(B+18)*8+3
  2107 82B6 B9 D8 7F					LDA KSZTALTCOREB+4,Y
  2107 82B9 8D AC 10					STA ZNAKI1+(B+18)*8+4
  2107 82BC B9 D9 7F					LDA KSZTALTCOREB+5,Y
  2107 82BF 8D AD 10					STA ZNAKI1+(B+18)*8+5
  2107 82C2 B9 DA 7F					LDA KSZTALTCOREB+6,Y
  2107 82C5 8D AE 10					STA ZNAKI1+(B+18)*8+6
  2107 82C8 B9 DB 7F					LDA KSZTALTCOREB+7,Y
  2107 82CB 8D AF 10					STA ZNAKI1+(B+18)*8+7
  2107 82CE B9 DC 7F					LDA KSZTALTCOREB+8,Y
  2107 82D1 8D B0 10					STA ZNAKI1+(B+18)*8+8
  2107 82D4 B9 DD 7F					LDA KSZTALTCOREB+9,Y
  2107 82D7 8D B1 10					STA ZNAKI1+(B+18)*8+9
  2107 82DA B9 DE 7F					LDA KSZTALTCOREB+10,Y
  2107 82DD 8D B2 10					STA ZNAKI1+(B+18)*8+10
  2107 82E0 B9 DF 7F					LDA KSZTALTCOREB+11,Y
  2107 82E3 8D B3 10					STA ZNAKI1+(B+18)*8+11
  2107 82E6 B9 E0 7F					LDA KSZTALTCOREB+12,Y
  2107 82E9 8D B4 10					STA ZNAKI1+(B+18)*8+12
  2107 82EC B9 E1 7F					LDA KSZTALTCOREB+13,Y
  2107 82EF 8D B5 10					STA ZNAKI1+(B+18)*8+13
  2107 82F2 B9 E2 7F					LDA KSZTALTCOREB+14,Y
  2107 82F5 8D B6 10					STA ZNAKI1+(B+18)*8+14
  2107 82F8 B9 E3 7F					LDA KSZTALTCOREB+15,Y
  2107 82FB 8D B7 10					STA ZNAKI1+(B+18)*8+15
Source: bmove.asm
  2110 82FE 60					rts
  2111 = 82FF			@		equ *
  2112 						.rept 16, #
  2113 							LDA KSZTALTCOREB+:1,Y
  2114 							STA ZNAKI2+(B+18)*8+:1
  2115 						.ENDR
  2115 						.endr
Source: REPT
  2113 82FF B9 D4 7F					LDA KSZTALTCOREB+0,Y
  2113 8302 8D A8 14					STA ZNAKI2+(B+18)*8+0
  2113 8305 B9 D5 7F					LDA KSZTALTCOREB+1,Y
  2113 8308 8D A9 14					STA ZNAKI2+(B+18)*8+1
  2113 830B B9 D6 7F					LDA KSZTALTCOREB+2,Y
  2113 830E 8D AA 14					STA ZNAKI2+(B+18)*8+2
  2113 8311 B9 D7 7F					LDA KSZTALTCOREB+3,Y
  2113 8314 8D AB 14					STA ZNAKI2+(B+18)*8+3
  2113 8317 B9 D8 7F					LDA KSZTALTCOREB+4,Y
  2113 831A 8D AC 14					STA ZNAKI2+(B+18)*8+4
  2113 831D B9 D9 7F					LDA KSZTALTCOREB+5,Y
  2113 8320 8D AD 14					STA ZNAKI2+(B+18)*8+5
  2113 8323 B9 DA 7F					LDA KSZTALTCOREB+6,Y
  2113 8326 8D AE 14					STA ZNAKI2+(B+18)*8+6
  2113 8329 B9 DB 7F					LDA KSZTALTCOREB+7,Y
  2113 832C 8D AF 14					STA ZNAKI2+(B+18)*8+7
  2113 832F B9 DC 7F					LDA KSZTALTCOREB+8,Y
  2113 8332 8D B0 14					STA ZNAKI2+(B+18)*8+8
  2113 8335 B9 DD 7F					LDA KSZTALTCOREB+9,Y
  2113 8338 8D B1 14					STA ZNAKI2+(B+18)*8+9
  2113 833B B9 DE 7F					LDA KSZTALTCOREB+10,Y
  2113 833E 8D B2 14					STA ZNAKI2+(B+18)*8+10
  2113 8341 B9 DF 7F					LDA KSZTALTCOREB+11,Y
  2113 8344 8D B3 14					STA ZNAKI2+(B+18)*8+11
  2113 8347 B9 E0 7F					LDA KSZTALTCOREB+12,Y
  2113 834A 8D B4 14					STA ZNAKI2+(B+18)*8+12
  2113 834D B9 E1 7F					LDA KSZTALTCOREB+13,Y
  2113 8350 8D B5 14					STA ZNAKI2+(B+18)*8+13
  2113 8353 B9 E2 7F					LDA KSZTALTCOREB+14,Y
  2113 8356 8D B6 14					STA ZNAKI2+(B+18)*8+14
  2113 8359 B9 E3 7F					LDA KSZTALTCOREB+15,Y
  2113 835C 8D B7 14					STA ZNAKI2+(B+18)*8+15
Source: bmove.asm
  2116 						
  2117 835F 60					rts
  2118 						
  2119 = 8360			exploAllEnemy	equ *
  2120 8360 A2 05				ldx #5
  2121 8362 BD 1F 32		@		lda enemy,x			;w momencie trafienia wszystkie statki wybuchaja
  2122 8365 F0 1F				beq @+
  2123 8367 BD 25 32				lda enemyWybuch,x
  2124 836A D0 1A				bne @+
  2125 						
  2126 836C BD 61 32 9D 79 32			mva enemyFaza,x enemyLastFaza,x
  2127 8372 A9 08 9D 25 32			mva #8 enemyWybuch,x
  2128 8377 A9 80 9D 67 32			mva #EKOLOR1 enemyNegatyw,x	
  2129 837C A9 46 9D 73 32			mva >explo_shapetab enemyShapeH,x
  2130 8381 A9 0A 8D C8 36			mva #5*2 sfx_enemyHit
  2131
  2132 8386 CA			@		dex
  2133 8387 10 D9				bpl @-1
  2134 						
  2135 8389 A2 07				ldx #7
  2136 838B BD 88 02		@		lda rakietyMove,x
  2137 838E F0 0B				beq @+	
  2138 8390 A9 00				lda #0	
  2139 8392 9D E0 28				sta rakietyStan,x
  2140 8395 9D 88 02				sta rakietyMove,x
  2141 8398 20 AD 84				jsr dodajMalyWybuch		;dodaj male wybuchy
  2142 						
  2143 839B CA			@		dex
  2144 839C 10 ED				bpl @-1
  2145 						
  2146 839E AD 53 36				lda jestSpy
  2147 83A1 F0 09				beq eal
  2148 83A3 C9 03				cmp #3
  2149 83A5 B0 05				bcs eal
  2150 83A7 A9 00 8D 53 36			mva #0 jestSpy		;zabezpieczenie przed pojawieniem siÄ™ spy
  2151 83AC 60			eal		rts		
  2152 						
  2153 						
   533 83AD						icl 'bgrafika.asm'
Source: bgrafika.asm
     1 							
     2 = 83AD			statek		equ	*			;gora
     3 83AD 00						dta b(%00000000)
     4 83AE 10						dta b(%00010000)
     5 83AF 10						dta b(%00010000)
     6 83B0 10						dta b(%00010000)
     7 83B1 10						dta b(%00010000)
     8 83B2 38						dta b(%00111000)
     9 83B3 28						dta b(%00101000)
    10 83B4 28						dta b(%00101000)
    11 83B5 AA						dta b(%10101010)
    12 83B6 AA						dta b(%10101010)
    13 83B7 FE						dta b(%11111110)
    14 83B8 FE						dta b(%11111110)
    15 83B9 D6						dta b(%11010110)
    16 83BA 92						dta b(%10010010)
    17 83BB 28						dta b(%00101000)
    18 83BC 28						dta b(%00101000)
    19 							
    20 83BD 00						dta b(%00000000)
    21 83BE 00						dta b(%00000000)
    22 83BF 00						dta b(%00000000)
    23 83C0 00						dta b(%00000000)
    24 83C1 00						dta b(%00000000)
    25 83C2 00						dta b(%00000000)
    26 83C3 10						dta b(%00010000)
    27 83C4 10						dta b(%00010000)
    28 83C5 10						dta b(%00010000)
    29 83C6 10						dta b(%00010000)
    30 83C7 00						dta b(%00000000)
    31 83C8 00						dta b(%00000000)
    32 83C9 28						dta b(%00101000)
    33 83CA 00						dta b(%00000000)
    34 83CB 92						dta b(%10010010)
    35 83CC 92						dta b(%10010010)
    36 							
    37 83CD 28						dta b(%00101000)		;dol
    38 83CE 28						dta b(%00101000)
    39 83CF 92						dta b(%10010010)
    40 83D0 D6						dta b(%11010110)
    41 83D1 FE						dta b(%11111110)
    42 83D2 FE						dta b(%11111110)
    43 83D3 AA						dta b(%10101010)
    44 83D4 AA						dta b(%10101010)
    45 83D5 28						dta b(%00101000)
    46 83D6 28						dta b(%00101000)
    47 83D7 38						dta b(%00111000)
    48 83D8 10						dta b(%00010000)
    49 83D9 10						dta b(%00010000)
    50 83DA 10						dta b(%00010000)
    51 83DB 10						dta b(%00010000)
    52 83DC 00						dta b(%00000000)
    53 							
    54 83DD 92						dta b(%10010010)
    55 83DE 92						dta b(%10010010)
    56 83DF 00						dta b(%00000000)
    57 83E0 28						dta b(%00101000)
    58 83E1 00						dta b(%00000000)
    59 83E2 44						dta b(%01000100)
    60 83E3 10						dta b(%00010000)
    61 83E4 10						dta b(%00010000)
    62 83E5 10						dta b(%00010000)
    63 83E6 10						dta b(%00010000)
    64 83E7 28						dta b(%00101000)
    65 83E8 00						dta b(%00000000)
    66 83E9 00						dta b(%00000000)
    67 83EA 00						dta b(%00000000)
    68 83EB 10						dta b(%00010000)
    69 83EC 00						dta b(%00000000)
    70 							
    71 83ED 00						dta b(%00000000)		;lewo
    72 83EE 1C						dta b(%00011100)
    73 83EF 1C						dta b(%00011100)
    74 83F0 08						dta b(%00001000)
    75 83F1 08						dta b(%00001000)
    76 83F2 39						dta b(%00111001)
    77 83F3 3D						dta b(%00111101)
    78 83F4 CE						dta b(%11001110)
    79 83F5 CE						dta b(%11001110)
    80 83F6 3D						dta b(%00111101)
    81 83F7 39						dta b(%00111001)
    82 83F8 08						dta b(%00001000)
    83 83F9 08						dta b(%00001000)
    84 83FA 1C						dta b(%00011100)
    85 83FB 1C						dta b(%00011100)
    86 83FC 00						dta b(%00000000)
    87 							
    88 83FD 00						dta b(%00000000)
    89 83FE 02						dta b(%00000010)
    90 83FF 02						dta b(%00000010)
    91 8400 00						dta b(%00000000)
    92 8401 00						dta b(%00000000)
    93 8402 04						dta b(%00000100)
    94 8403 00						dta b(%00000000)
    95 8404 31						dta b(%00110001)
    96 8405 31						dta b(%00110001)
    97 8406 00						dta b(%00000000)
    98 8407 04						dta b(%00000100)
    99 8408 00						dta b(%00000000)
   100 8409 00						dta b(%00000000)
   101 840A 02						dta b(%00000010)
   102 840B 02						dta b(%00000010)
   103 840C 00						dta b(%00000000)
   104 							
   105 840D 00						dta b(%00000000)	;prawo
   106 840E 38						dta b(%00111000)
   107 840F 38						dta b(%00111000)
   108 8410 10						dta b(%00010000)
   109 8411 10						dta b(%00010000)
   110 8412 9C						dta b(%10011100)
   111 8413 BC						dta b(%10111100)
   112 8414 73						dta b(%01110011)
   113 8415 73						dta b(%01110011)
   114 8416 BC						dta b(%10111100)
   115 8417 9C						dta b(%10011100)
   116 8418 10						dta b(%00010000)
   117 8419 10						dta b(%00010000)
   118 841A 38						dta b(%00111000)
   119 841B 38						dta b(%00111000)
   120 841C 00						dta b(%00000000)
   121 							
   122 841D 00						 dta b(%00000000)	
   123 841E 40						dta b(%01000000)
   124 841F 40						dta b(%01000000)
   125 8420 00						dta b(%00000000)
   126 8421 00						dta b(%00000000)
   127 8422 20						dta b(%00100000)
   128 8423 00						dta b(%00000000)
   129 8424 8C						dta b(%10001100)
   130 8425 8C						dta b(%10001100)
   131 8426 00						dta b(%00000000)
   132 8427 20						dta b(%00100000)
   133 8428 00						dta b(%00000000)
   134 8429 00						dta b(%00000000)
   135 842A 40						dta b(%01000000)
   136 842B 40						dta b(%01000000)
   137 842C 00						dta b(%00000000)
   138 							
   139 842D 84						dta b(%10000100)		;lewo-gora
   140 842E 84						dta b(%10000100)
   141 842F 62						dta b(%01100010)
   142 8430 62						dta b(%01100010)
   143 8431 57						dta b(%01010111)
   144 8432 5C						dta b(%01011100)
   145 8433 2C						dta b(%00101100)
   146 8434 28						dta b(%00101000)
   147 8435 38						dta b(%00111000)
   148 8436 BC						dta b(%10111100)
   149 8437 EC						dta b(%11101100)
   150 8438 68						dta b(%01101000)
   151 8439 48						dta b(%01001000)
   152 843A 40						dta b(%01000000)
   153 843B 40						dta b(%01000000)
   154 843C 00						dta b(%00000000)
   155 							
   156 843D 00						dta b(%00000000)
   157 843E 00						dta b(%00000000)
   158 843F 00						dta b(%00000000)
   159 8440 00						dta b(%00000000)
   160 8441 20						dta b(%00100000)
   161 8442 21						dta b(%00100001)
   162 8443 11						dta b(%00010001)
   163 8444 14						dta b(%00010100)
   164 8445 00						dta b(%00000000)
   165 8446 00						dta b(%00000000)
   166 8447 10						dta b(%00010000)
   167 8448 04						dta b(%00000100)
   168 8449 04						dta b(%00000100)
   169 844A 00						dta b(%00000000)
   170 844B 20						dta b(%00100000)
   171 844C 20						dta b(%00100000)
   172 							
   173 844D 21						dta b(%00100001)		;prawo-gora
   174 844E 21						dta b(%00100001)
   175 844F 46						dta b(%01000110)
   176 8450 46						dta b(%01000110)
   177 8451 EA						dta b(%11101010)
   178 8452 3A						dta b(%00111010)
   179 8453 34						dta b(%00110100)
   180 8454 14						dta b(%00010100)
   181 8455 1C						dta b(%00011100)
   182 8456 3D						dta b(%00111101)
   183 8457 37						dta b(%00110111)
   184 8458 16						dta b(%00010110)
   185 8459 12						dta b(%00010010)
   186 845A 02						dta b(%00000010)
   187 845B 02						dta b(%00000010)
   188 845C 00						dta b(%00000000)
   189 							
   190 845D 00						dta b(%00000000)
   191 845E 00						dta b(%00000000)
   192 845F 00						dta b(%00000000)
   193 8460 00						dta b(%00000000)
   194 8461 04						dta b(%00000100)
   195 8462 84						dta b(%10000100)
   196 8463 88						dta b(%10001000)
   197 8464 28						dta b(%00101000)
   198 8465 00						dta b(%00000000)
   199 8466 00						dta b(%00000000)
   200 8467 08						dta b(%00001000)
   201 8468 20						dta b(%00100000)
   202 8469 20						dta b(%00100000)
   203 846A 00						dta b(%00000000)
   204 846B 04						dta b(%00000100)
   205 846C 04						dta b(%00000100)
   206 							
   207 846D 00						dta b(%00000000)		
   208 846E 02						dta b(%00000010)		;prawo-dol
   209 846F 02						dta b(%00000010)
   210 8470 12						dta b(%00010010)
   211 8471 16						dta b(%00010110)
   212 8472 37						dta b(%00110111)
   213 8473 3D						dta b(%00111101)
   214 8474 1C						dta b(%00011100)
   215 8475 14						dta b(%00010100)
   216 8476 34						dta b(%00110100)
   217 8477 3A						dta b(%00111010)
   218 8478 EA						dta b(%11101010)
   219 8479 46						dta b(%01000110)
   220 847A 46						dta b(%01000110)
   221 847B 21						dta b(%00100001)
   222 847C 21						dta b(%00100001)
   223 							
   224 							
   225 847D 04						dta b(%00000100)
   226 847E 04						dta b(%00000100)
   227 847F 00						dta b(%00000000)
   228 8480 20						dta b(%00100000)
   229 8481 20						dta b(%00100000)
   230 8482 08						dta b(%00001000)
   231 8483 00						dta b(%00000000)
   232 8484 00						dta b(%00000000)
   233 8485 28						dta b(%00101000)
   234 8486 88						dta b(%10001000)
   235 8487 84						dta b(%10000100)
   236 8488 04						dta b(%00000100)
   237 8489 00						dta b(%00000000)
   238 848A 00						dta b(%00000000)
   239 848B 00						dta b(%00000000)
   240 848C 00						dta b(%00000000)
   241 							
   242 848D 00						dta b(%00000000)		;lewo-dol
   243 848E 40						dta b(%01000000)
   244 848F 40						dta b(%01000000)
   245 8490 48						dta b(%01001000)
   246 8491 E8						dta b(%11101000)
   247 8492 AC						dta b(%10101100)
   248 8493 3C						dta b(%00111100)
   249 8494 38						dta b(%00111000)
   250 8495 28						dta b(%00101000)
   251 8496 2C						dta b(%00101100)
   252 8497 5C						dta b(%01011100)
   253 8498 57						dta b(%01010111)
   254 8499 62						dta b(%01100010)
   255 849A 62						dta b(%01100010)
   256 849B 84						dta b(%10000100)
   257 849C 84						dta b(%10000100)
   258 							
   259 849D 20						dta b(%00100000)
   260 849E 20						dta b(%00100000)
   261 849F 00						dta b(%00000000)
   262 84A0 04						dta b(%00000100)
   263 84A1 04						dta b(%00000100)
   264 84A2 10						dta b(%00010000)
   265 84A3 00						dta b(%00000000)
   266 84A4 00						dta b(%00000000)
   267 84A5 14						dta b(%00010100)
   268 84A6 11						dta b(%00010001)
   269 84A7 21						dta b(%00100001)
   270 84A8 20						dta b(%00100000)
   271 84A9 00						dta b(%00000000)
   272 84AA 00						dta b(%00000000)
   273 84AB 00						dta b(%00000000)
   274 84AC 00						dta b(%00000000)
   275
   276 							
   534 84AD						icl 'wybuch.asm'
Source: wybuch.asm
     1
     2
     3 = 001D			lenDlist	equ 29	;ilosc linii ekranu w dlist
     4
     5 = 84AD			dodajMalyWybuch	equ *
     6 84AD 84 AC				sty pom0g	;zapamietaj Y
     7 84AF AC 4D 36				ldy mwybuchyStop
     8 						
     9 84B2 BD F0 28				lda rakietyX,x
    10 84B5 99 A0 2F				sta mwybuchyX,y
    11 84B8 BD 78 02				lda rakietyY,x
    12 84BB 99 A8 2F				sta mwybuchyY,y
    13 84BE A9 06 99 B0 2F			mva #6 mwybuchyLicznik,y	
    14 84C3 BD E8 28				lda rakietyTyp,x
    15 84C6 4A					lsr ;podziel przez 2
    16 84C7 99 B8 2F				sta mwybuchyTyp,y
    17 84CA C8					iny
    18 84CB 98					tya
    19 84CC 29 07				and #%111		;max 16 wybuchy
    20 84CE 8D 4D 36				sta mwybuchyStop
    21 						
    22 84D1 A4 AC				ldy pom0g
    23 84D3 60					rts
    24 						
    25 = 84D4			rysujmWybuchy	equ *
    26 84D4 AD 4C 36				lda mwybuchyStart
    27 84D7 29 07				and #%111
    28 84D9 AA					tax
    29 84DA CD 4D 36				cmp mwybuchyStop
    30 84DD D0 01				bne mrwy1
    31 84DF 60					rts
    32 						
    33 84E0 BD A0 2F		mrwy1	lda mwybuchyX,x
    34 84E3 38					sec
    35 84E4 E5 BA				sbc posX
    36 84E6 A8					tay
    37 84E7 B9 00 08				lda tabX,y
    38 84EA 18					clc
    39 84EB 69 01				adc #1
    40 84ED C9 22				cmp #34
    41 84EF B0 50				bcs mrwy2
    42 						
    43 84F1 69 07				adc #7
    44 84F3 85 A5				sta pom0
    45 						
    46 84F5 38					sec
    47 84F6 BD A8 2F				lda mwybuchyY,x
    48 84F9 E5 BB				sbc posY
    49 84FB 18					clc
    50 84FC 69 01				adc #1
    51 84FE C9 1E				cmp #lenDlist+1
    52 8500 B0 3F				bcs mrwy2
    53 						
    54 8502 A8					tay
    55 						
    56 8503 A5 BC				lda ramka
    57 8505 D0 11				bne @+
    58 						
    59 8507 18					clc
    60 8508 B9 54 37				lda obraz1La+7,y
    61 850B 65 A5				adc pom0
    62 850D 85 9B				sta pom
    63 850F B9 79 37				lda obraz1Ha+7,y
    64 8512 69 00				adc #0
    65 8514 85 9C				sta pom+1
    66 8516 D0 0F				bne @+1	;skok bezwarunkowy
    67 8518 18			@		clc
    68 8519 B9 9E 37				lda obraz2La+7,y
    69 851C 65 A5				adc pom0
    70 851E 85 9B				sta pom
    71 8520 B9 C3 37				lda obraz2Ha+7,y
    72 8523 69 00				adc #0
    73 8525 85 9C				sta pom+1
    74 						
    75 8527 BD B8 2F		@		lda mwybuchyTyp,x
    76 852A D0 0C				bne @+
    77 						
    78 852C A0 00				ldy #0
    79 852E A9 3F				lda #firstMalyWybuchChar
    80 8530 91 9B				sta (pom),y
    81 8532 A0 30				ldy #48
    82 8534 91 9B				sta (pom),y
    83 8536 D0 09				bne mrwy2
    84 						
    85 8538 A0 00		@		ldy #0
    86 853A A9 40				lda #firstMalyWybuchChar+1
    87 853C 91 9B				sta (pom),y
    88 853E C8					iny
    89 853F 91 9B				sta (pom),y
    90 						
    91 8541 DE B0 2F		mrwy2	dec mwybuchyLicznik,x
    92 8544 D0 03				bne @+
    93 8546 EE 4C 36				inc mwybuchyStart	
    94 						
    95 8549 E8			@		inx
    96 854A 8A					txa 
    97 854B 29 07				and #%111
    98 854D AA					tax
    99 854E EC 4D 36				cpx mwybuchyStop
   100 8551 D0 8D				jne mrwy1
   101 						
   102 8553 60					rts
   103
   104 				;dodaje wybuch
   105 = 8554			dodajWybuch		equ *		;X w Aku , Y w y
   106 8554 86 AC				stx pom0g
   107 						
   108 8556 AE 4F 36				ldx wybuchyStop
   109 8559 9D 40 2F				sta wybuchyX,x
   110 855C 98					tya
   111 855D 9D 60 2F				sta wybuchyY,x
   112 8560 A9 00 9D 80 2F			mva #0 wybuchyLicznik,x
   113 8565 E8					inx
   114 8566 8A					txa
   115 8567 29 1F				and #%11111		;max 32 wybuchy
   116 8569 8D 4F 36				sta wybuchyStop		
   117 856C A6 AC				ldx pom0g
   118 856E 60					rts
   119 						
   120 						
   121 				;rysuje duze wybuchy		
   122 = 856F			rysujWybuchy	equ *
   123 856F AD 4E 36				lda wybuchyStart
   124 8572 29 1F				and #%11111
   125 8574 AA					tax
   126 8575 CD 4F 36				cmp wybuchyStop
   127 8578 D0 01				bne rwy1
   128 857A 60					rts
   129
   130 857B BD 40 2F		rwy1	lda wybuchyX,x
   131 857E 38					sec
   132 857F E5 BA				sbc posX
   133 8581 A8					tay
   134 8582 B9 00 08				lda tabX,y
   135 8585 9D 00 2F				sta wybuchyX0,x
   136 8588 18					clc
   137 8589 69 01				adc #1
   138 858B C9 22				cmp #34
   139 858D B0 57				bcs rwy2
   140 						
   141 858F 69 07				adc #7
   142 8591 85 A5				sta pom0		;pozycja X
   143 						
   144 8593 38					sec
   145 8594 BD 60 2F				lda wybuchyY,x
   146 8597 E5 BB				sbc posY
   147 8599 9D 20 2F				sta wybuchyY0,x
   148 859C 18					clc
   149 859D 69 01				adc #1
   150 859F C9 1E				cmp #lenDlist+1
   151 85A1 B0 43				bcs rwy2
   152 						
   153 85A3 A8					tay
   154 						
   155 85A4 A5 BC				lda ramka
   156 85A6 D0 11				bne @+
   157 						
   158 85A8 18					clc
   159 85A9 B9 54 37				lda obraz1La+7,y
   160 85AC 65 A5				adc pom0
   161 85AE 85 9B				sta pom
   162 85B0 B9 79 37				lda obraz1Ha+7,y
   163 85B3 69 00				adc #0
   164 85B5 85 9C				sta pom+1
   165 85B7 D0 0F				bne @+1	;skok bezwarunkowy
   166 85B9 18			@		clc
   167 85BA B9 9E 37				lda obraz2La+7,y
   168 85BD 65 A5				adc pom0
   169 85BF 85 9B				sta pom
   170 85C1 B9 C3 37				lda obraz2Ha+7,y
   171 85C4 69 00				adc #0
   172 85C6 85 9C				sta pom+1
   173 						
   174 85C8 BD 80 2F		@		lda wybuchyLicznik,x
   175 85CB 29 FC				and #%11111100
   176 						
   177 85CD 18					clc
   178 85CE 69 AF				adc #firstWybuchChar+128
   179 						
   180 85D0 A0 00				ldy #0
   181 85D2 91 9B				sta (pom),y
   182 85D4 A0 30				ldy #48
   183 85D6 69 01				adc #1
   184 85D8 91 9B				sta (pom),y
   185 85DA A0 01				ldy #1
   186 85DC 69 01				adc #1
   187 85DE 91 9B				sta (pom),y
   188 85E0 A0 31				ldy #49
   189 85E2 69 01				adc #1
   190 85E4 91 9B				sta (pom),y
   191 						
   192 85E6 BD 80 2F		rwy2	lda wybuchyLicznik,x
   193 85E9 18					clc
   194 85EA 69 02				adc #2		;3
   195 85EC C9 0F				cmp #15		;20
   196 85EE 90 03				bcc @+
   197 85F0 EE 4E 36				inc wybuchyStart
   198 						
   199 85F3 9D 80 2F		@		sta wybuchyLicznik,x
   200 85F6 E8					inx
   201 85F7 8A					txa
   202 85F8 29 1F				and #%11111
   203 85FA AA					tax
   204 85FB EC 4F 36				cpx wybuchyStop		;czykoniec?
   205 85FE F0 03 4C 7B 85			jne rwy1
   206 						
   207 8603 60					rts
   208 						
   209
   210 						
   211 						
   212 						
   535 8604						icl 'time.asm'
Source: time.asm
     1
     2 8604 16 15 14 14 13	timeBonus	dta b(22),b(21),(20),b(20),b(19)
     3
     4 8609 10 0E 0C 0A 0A	conYellow		dta b(16),b(14),b(12),b(10),b(10)
     5 860E 12 11 10 0F 0D	con1enemy		dta b(18),b(17),b(16),b(15),b(13)
     6 8613 21 1E 1C 1B 1A	con2enemy		dta b(33),b(30),b(28),b(27),b(26)
     7 8618 4B 3C 2D 22 1B	con3enemy		dta b(75),b(60),b(45),b(34),b(27)
     8 861D 89 7F 78 75 70	spyend			dta b(137),b(127),b(120),b(117),b(112)
     9 8622 96 8C 86 80 7C	conred			dta b(150),b(140),b(134),b(128),b(124)
    10 8627 9A 90 8A 84 80	con45enemy		dta b(154),b(144),b(138),b(132),b(128)
    11 862C F0 F0 F0 E6 E6	conUpSpeed		dta b(240),b(240),b(240),b(230),b(230)
    12
    13 				;zdarzenia czasowe
    14 = 8631			timeEvents	equ *
    15 8631 CE 11 31				dec punkty		;mryganie "1UP"
    16 8634 D0 0D				bne @+
    17 8636 A9 05 8D 11 31			mva #5 punkty
    18 863B AD C7 33				lda kolor1up
    19 863E 49 98				eor #kolor1ups
    20 8640 8D C7 33				sta kolor1up
    21
    22 						
    23 = 8643			@		equ *
    24 8643 CE 12 31				dec punkty1		;mryganie gwiazd
    25 8646 D0 0F				bne @+
    26 8648 A9 0A 8D 12 31			mva #10 punkty1
    27 864D CE 7F 36				dec gwiazdyLicznik
    28 8650 10 05				bpl @+
    29 8652 A9 02 8D 7F 36			mva #2 gwiazdyLicznik		
    30 = 8657			@		equ *	
    31 						
    32 8657 A5 C2				lda trafienie
    33 8659 05 C3				ora startMapy
    34 865B 0D 1D 34				ora formacja_stan		;formacja_stan musi byc =0
    35 865E F0 01				beq *+3
    36 8660 60					rts
    37 						
    38 					
    39 8661 AE 66 36				ldx timeLevel		;poziom trudnosci
    40 8664 CE 55 36				dec punkty3
    41 8667 F0 03 4C 29 87			jne kmryg
    42 866C A9 07 8D 55 36			mva #opoznienieCondition punkty3
    43 8671 AD 56 36				lda kondycja		;ustawiamy kondycje
    44 8674 D0 03 4C 33 87			jeq kmryg1
    45 8679 EE 56 36				inc kondycja
    46 867C C9 01				cmp #1
    47 867E D0 10				bne @+
    48 8680 A9 00 8D 51 36			mva #0 max_Enemy
    49 8685 A8					tay		;0
    50 8686 AD 5D 36 8D 8A 36			mva speedEnemy0 speedEnemy
    51 868C 20 10 5C				jsr setCondition
    52 868F 60					rts
    53 						
    54 8690 DD 09 86		@		cmp conYellow,x
    55 8693 D0 1C				bne @+
    56 						
    57 8695 A9 01 8D 50 36			mva #1 nobanner
    58 869A 8D CB 36				sta rodzajSpeech
    59 869D 8D 8B 36				sta speech
    60 86A0 A9 02 85 6E				mva #2 powtorz
    61 86A4 A9 8E 85 31				mva #<alive_wav sam
    62 86A8 85 5B				sta sam2
    63 86AA A9 56 85 32				mva #>alive_wav sam+1
    64 86AE 85 5F				sta sam2s
    65 						
    66 86B0 60					rts
    67 						
    68 86B1 DD 0E 86		@		cmp con1enemy,x
    69 86B4 D0 08				bne @+
    70 86B6 A0 01 8C 51 36			mvy #1 max_Enemy
    71 86BB 4C 10 5C				jmp setCondition
    72 						
    73 86BE DD 13 86		@		cmp con2enemy,x
    74 86C1 D0 06				bne @+
    75 86C3 A9 02 8D 51 36			mva #2 max_Enemy
    76 86C8 60					rts
    77 						
    78 86C9 DD 18 86		@		cmp con3enemy,x
    79 86CC D0 06				bne @+
    80 86CE A9 03 8D 51 36			mva #3 max_Enemy
    81 86D3 60					rts
    82 						
    83 86D4 DD 22 86		@		cmp conred,x
    84 86D7 D0 1C				bne @+	
    85 						
    86 						
    87 86D9 A9 01 8D 50 36			mva #1 nobanner
    88 86DE 8D 8B 36				sta speech
    89 86E1 A9 02				lda #2
    90 86E3 85 6E				sta powtorz
    91 86E5 8D CB 36				sta rodzajSpeech
    92 86E8 A9 5B 85 31				mva #<conred_wav sam
    93 86EC 85 5B				sta sam2
    94 86EE A9 64 85 32				mva #>conred_wav sam+1
    95 86F2 85 5F				sta sam2s
    96 					
    97 86F4 60					rts
    98 						
    99 86F5 DD 27 86		@		cmp con45enemy,x
   100 86F8 D0 1D				bne @+
   101 86FA A0 02				ldy #2
   102 86FC 20 10 5C				jsr setCondition
   103 86FF A9 09 8D 67 36			mva #9 rotate_speed1
   104 8704 A9 06 8D 68 36			mva #6 rotate_speed2
   105 8709 A9 05 8D 51 36			mva #5 max_Enemy
   106 870E A9 08 8D 5E 36			mva #8 opoz_denemy
   107 8713 8D 60 36				sta dlicz1
   108 8716 60					rts
   109 						
   110 8717 DD 2C 86		@		cmp conUpSpeed,x
   111 871A D0 0D				bne kmryg
   112 871C A9 E0 8D 8A 36			mva #7*32 speedEnemy
   113 8721 A9 00 8D 56 36			mva #0 kondycja
   114 8726 4C 33 87				jmp kmryg1
   115 						
   116
   117 = 8729			kmryg		equ *
   118 						
   119 8729 AD 56 36				lda kondycja				;mryganie
   120 872C F0 05				beq kmryg1
   121 872E DD 27 86				cmp con45enemy,x
   122 8731 90 1B				bcc @+	
   123 8733 AD 1D 34		kmryg1	lda formacja_stan
   124 8736 D0 16				bne @+
   125 8738 CE 13 31				dec punkty2
   126 873B D0 11				bne @+
   127 873D A9 03 8D 13 31			mva #opoznienieRed punkty2
   128 8742 AD 7A 34				lda conditionColor
   129 8745 4D 50 54				eor conditionC+2
   130 8748 8D 7A 34				sta conditionColor
   131 874B 8D 82 34				sta conditionColor1
   132 = 874E			@		equ *
   133
   134 874E 60					rts
   135 						
   136 = 874F			schowaj_duszki	equ *	
   137 874F A9 08				lda #>SPRITES1
   138 8751 8D 07 D4				sta PMBASE
   139 8754 A9 02 8D 15 C0			mva #$02 COLPM3		;szare tlo panelu
   140 						
   141 8759 A9 00 8D 04 C0			mva #0 HPOSM0			;schowaj pociski
   142 875E 8D 05 C0 8D 06 C0 + 		:3 sta HPOSM1+#
   143 						
   144 8767 A9 B8				lda #pozWyniki+7		;kolor i pozycja duszka na panelu
   145 8769 8D 02 C0				sta HPOSP2
   146 876C A9 01 8D 0A C0			mva #1 SIZEP2
   147 						
   148 8771 A9 6C				lda #pozWyniki-1-68		;statek srodek 108
   149 8773 8D 00 C0				sta HPOSP0
   150 8776 8D 01 C0				sta HPOSP1
   151 8779 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   152 877E A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   153 						
   154 8783 AD CB 36				lda rodzajSpeech
   155 						
   156 8786 C9 03		@		cmp #3		;alarm!alarm!
   157 8788 B0 06				bcs sdu1
   158 						
   159 878A 20 D3 89				jsr picAlarm
   160 878D 20 76 8A				jsr picEnemy
   161
   162 						
   163 8790 C9 04		sdu1	cmp #4		;gameover
   164 8792 D0 06				bne sdu2
   165 						
   166 8794 20 A4 87				jsr clrAlarm
   167
   168 8797 4C 13 8B				jmp picSkull
   169 					
   170 879A C9 03		sdu2	cmp #3	;spy!
   171 879C D0 03				bne sdu3
   172 						
   173 879E 4C BE 8C				jmp picSpy
   174
   175 								
   176 87A1 4C F8 87		sdu3	jmp picFormation
   177
   178 = 87A4			clrAlarm	equ *
   179 87A4 A9 00				lda #0
   180 87A6 8D 30 0E 8D 31 0E + 		:27 sta sprites1+$630+#
   181 87F7 60					rts
   182 						
   183 = 87F8			picFormation	equ *
   184 						.rept 79, #
   185 						LDA FORMATIONSHAPE+:1
   186 						STA SPRITES1+$670+:1
   187 						.ENDR
   187 						.endr
Source: REPT
   185 87F8 AD 93 8E				LDA FORMATIONSHAPE+0
   185 87FB 8D 70 0E				STA SPRITES1+$670+0
   185 87FE AD 94 8E				LDA FORMATIONSHAPE+1
   185 8801 8D 71 0E				STA SPRITES1+$670+1
   185 8804 AD 95 8E				LDA FORMATIONSHAPE+2
   185 8807 8D 72 0E				STA SPRITES1+$670+2
   185 880A AD 96 8E				LDA FORMATIONSHAPE+3
   185 880D 8D 73 0E				STA SPRITES1+$670+3
   185 8810 AD 97 8E				LDA FORMATIONSHAPE+4
   185 8813 8D 74 0E				STA SPRITES1+$670+4
   185 8816 AD 98 8E				LDA FORMATIONSHAPE+5
   185 8819 8D 75 0E				STA SPRITES1+$670+5
   185 881C AD 99 8E				LDA FORMATIONSHAPE+6
   185 881F 8D 76 0E				STA SPRITES1+$670+6
   185 8822 AD 9A 8E				LDA FORMATIONSHAPE+7
   185 8825 8D 77 0E				STA SPRITES1+$670+7
   185 8828 AD 9B 8E				LDA FORMATIONSHAPE+8
   185 882B 8D 78 0E				STA SPRITES1+$670+8
   185 882E AD 9C 8E				LDA FORMATIONSHAPE+9
   185 8831 8D 79 0E				STA SPRITES1+$670+9
   185 8834 AD 9D 8E				LDA FORMATIONSHAPE+10
   185 8837 8D 7A 0E				STA SPRITES1+$670+10
   185 883A AD 9E 8E				LDA FORMATIONSHAPE+11
   185 883D 8D 7B 0E				STA SPRITES1+$670+11
   185 8840 AD 9F 8E				LDA FORMATIONSHAPE+12
   185 8843 8D 7C 0E				STA SPRITES1+$670+12
   185 8846 AD A0 8E				LDA FORMATIONSHAPE+13
   185 8849 8D 7D 0E				STA SPRITES1+$670+13
   185 884C AD A1 8E				LDA FORMATIONSHAPE+14
   185 884F 8D 7E 0E				STA SPRITES1+$670+14
   185 8852 AD A2 8E				LDA FORMATIONSHAPE+15
   185 8855 8D 7F 0E				STA SPRITES1+$670+15
   185 8858 AD A3 8E				LDA FORMATIONSHAPE+16
   185 885B 8D 80 0E				STA SPRITES1+$670+16
   185 885E AD A4 8E				LDA FORMATIONSHAPE+17
   185 8861 8D 81 0E				STA SPRITES1+$670+17
   185 8864 AD A5 8E				LDA FORMATIONSHAPE+18
   185 8867 8D 82 0E				STA SPRITES1+$670+18
   185 886A AD A6 8E				LDA FORMATIONSHAPE+19
   185 886D 8D 83 0E				STA SPRITES1+$670+19
   185 8870 AD A7 8E				LDA FORMATIONSHAPE+20
   185 8873 8D 84 0E				STA SPRITES1+$670+20
   185 8876 AD A8 8E				LDA FORMATIONSHAPE+21
   185 8879 8D 85 0E				STA SPRITES1+$670+21
   185 887C AD A9 8E				LDA FORMATIONSHAPE+22
   185 887F 8D 86 0E				STA SPRITES1+$670+22
   185 8882 AD AA 8E				LDA FORMATIONSHAPE+23
   185 8885 8D 87 0E				STA SPRITES1+$670+23
   185 8888 AD AB 8E				LDA FORMATIONSHAPE+24
   185 888B 8D 88 0E				STA SPRITES1+$670+24
   185 888E AD AC 8E				LDA FORMATIONSHAPE+25
   185 8891 8D 89 0E				STA SPRITES1+$670+25
   185 8894 AD AD 8E				LDA FORMATIONSHAPE+26
   185 8897 8D 8A 0E				STA SPRITES1+$670+26
   185 889A AD AE 8E				LDA FORMATIONSHAPE+27
   185 889D 8D 8B 0E				STA SPRITES1+$670+27
   185 88A0 AD AF 8E				LDA FORMATIONSHAPE+28
   185 88A3 8D 8C 0E				STA SPRITES1+$670+28
   185 88A6 AD B0 8E				LDA FORMATIONSHAPE+29
   185 88A9 8D 8D 0E				STA SPRITES1+$670+29
   185 88AC AD B1 8E				LDA FORMATIONSHAPE+30
   185 88AF 8D 8E 0E				STA SPRITES1+$670+30
   185 88B2 AD B2 8E				LDA FORMATIONSHAPE+31
   185 88B5 8D 8F 0E				STA SPRITES1+$670+31
   185 88B8 AD B3 8E				LDA FORMATIONSHAPE+32
   185 88BB 8D 90 0E				STA SPRITES1+$670+32
   185 88BE AD B4 8E				LDA FORMATIONSHAPE+33
   185 88C1 8D 91 0E				STA SPRITES1+$670+33
   185 88C4 AD B5 8E				LDA FORMATIONSHAPE+34
   185 88C7 8D 92 0E				STA SPRITES1+$670+34
   185 88CA AD B6 8E				LDA FORMATIONSHAPE+35
   185 88CD 8D 93 0E				STA SPRITES1+$670+35
   185 88D0 AD B7 8E				LDA FORMATIONSHAPE+36
   185 88D3 8D 94 0E				STA SPRITES1+$670+36
   185 88D6 AD B8 8E				LDA FORMATIONSHAPE+37
   185 88D9 8D 95 0E				STA SPRITES1+$670+37
   185 88DC AD B9 8E				LDA FORMATIONSHAPE+38
   185 88DF 8D 96 0E				STA SPRITES1+$670+38
   185 88E2 AD BA 8E				LDA FORMATIONSHAPE+39
   185 88E5 8D 97 0E				STA SPRITES1+$670+39
   185 88E8 AD BB 8E				LDA FORMATIONSHAPE+40
   185 88EB 8D 98 0E				STA SPRITES1+$670+40
   185 88EE AD BC 8E				LDA FORMATIONSHAPE+41
   185 88F1 8D 99 0E				STA SPRITES1+$670+41
   185 88F4 AD BD 8E				LDA FORMATIONSHAPE+42
   185 88F7 8D 9A 0E				STA SPRITES1+$670+42
   185 88FA AD BE 8E				LDA FORMATIONSHAPE+43
   185 88FD 8D 9B 0E				STA SPRITES1+$670+43
   185 8900 AD BF 8E				LDA FORMATIONSHAPE+44
   185 8903 8D 9C 0E				STA SPRITES1+$670+44
   185 8906 AD C0 8E				LDA FORMATIONSHAPE+45
   185 8909 8D 9D 0E				STA SPRITES1+$670+45
   185 890C AD C1 8E				LDA FORMATIONSHAPE+46
   185 890F 8D 9E 0E				STA SPRITES1+$670+46
   185 8912 AD C2 8E				LDA FORMATIONSHAPE+47
   185 8915 8D 9F 0E				STA SPRITES1+$670+47
   185 8918 AD C3 8E				LDA FORMATIONSHAPE+48
   185 891B 8D A0 0E				STA SPRITES1+$670+48
   185 891E AD C4 8E				LDA FORMATIONSHAPE+49
   185 8921 8D A1 0E				STA SPRITES1+$670+49
   185 8924 AD C5 8E				LDA FORMATIONSHAPE+50
   185 8927 8D A2 0E				STA SPRITES1+$670+50
   185 892A AD C6 8E				LDA FORMATIONSHAPE+51
   185 892D 8D A3 0E				STA SPRITES1+$670+51
   185 8930 AD C7 8E				LDA FORMATIONSHAPE+52
   185 8933 8D A4 0E				STA SPRITES1+$670+52
   185 8936 AD C8 8E				LDA FORMATIONSHAPE+53
   185 8939 8D A5 0E				STA SPRITES1+$670+53
   185 893C AD C9 8E				LDA FORMATIONSHAPE+54
   185 893F 8D A6 0E				STA SPRITES1+$670+54
   185 8942 AD CA 8E				LDA FORMATIONSHAPE+55
   185 8945 8D A7 0E				STA SPRITES1+$670+55
   185 8948 AD CB 8E				LDA FORMATIONSHAPE+56
   185 894B 8D A8 0E				STA SPRITES1+$670+56
   185 894E AD CC 8E				LDA FORMATIONSHAPE+57
   185 8951 8D A9 0E				STA SPRITES1+$670+57
   185 8954 AD CD 8E				LDA FORMATIONSHAPE+58
   185 8957 8D AA 0E				STA SPRITES1+$670+58
   185 895A AD CE 8E				LDA FORMATIONSHAPE+59
   185 895D 8D AB 0E				STA SPRITES1+$670+59
   185 8960 AD CF 8E				LDA FORMATIONSHAPE+60
   185 8963 8D AC 0E				STA SPRITES1+$670+60
   185 8966 AD D0 8E				LDA FORMATIONSHAPE+61
   185 8969 8D AD 0E				STA SPRITES1+$670+61
   185 896C AD D1 8E				LDA FORMATIONSHAPE+62
   185 896F 8D AE 0E				STA SPRITES1+$670+62
   185 8972 AD D2 8E				LDA FORMATIONSHAPE+63
   185 8975 8D AF 0E				STA SPRITES1+$670+63
   185 8978 AD D3 8E				LDA FORMATIONSHAPE+64
   185 897B 8D B0 0E				STA SPRITES1+$670+64
   185 897E AD D4 8E				LDA FORMATIONSHAPE+65
   185 8981 8D B1 0E				STA SPRITES1+$670+65
   185 8984 AD D5 8E				LDA FORMATIONSHAPE+66
   185 8987 8D B2 0E				STA SPRITES1+$670+66
   185 898A AD D6 8E				LDA FORMATIONSHAPE+67
   185 898D 8D B3 0E				STA SPRITES1+$670+67
   185 8990 AD D7 8E				LDA FORMATIONSHAPE+68
   185 8993 8D B4 0E				STA SPRITES1+$670+68
   185 8996 AD D8 8E				LDA FORMATIONSHAPE+69
   185 8999 8D B5 0E				STA SPRITES1+$670+69
   185 899C AD D9 8E				LDA FORMATIONSHAPE+70
   185 899F 8D B6 0E				STA SPRITES1+$670+70
   185 89A2 AD DA 8E				LDA FORMATIONSHAPE+71
   185 89A5 8D B7 0E				STA SPRITES1+$670+71
   185 89A8 AD DB 8E				LDA FORMATIONSHAPE+72
   185 89AB 8D B8 0E				STA SPRITES1+$670+72
   185 89AE AD DC 8E				LDA FORMATIONSHAPE+73
   185 89B1 8D B9 0E				STA SPRITES1+$670+73
   185 89B4 AD DD 8E				LDA FORMATIONSHAPE+74
   185 89B7 8D BA 0E				STA SPRITES1+$670+74
   185 89BA AD DE 8E				LDA FORMATIONSHAPE+75
   185 89BD 8D BB 0E				STA SPRITES1+$670+75
   185 89C0 AD DF 8E				LDA FORMATIONSHAPE+76
   185 89C3 8D BC 0E				STA SPRITES1+$670+76
   185 89C6 AD E0 8E				LDA FORMATIONSHAPE+77
   185 89C9 8D BD 0E				STA SPRITES1+$670+77
   185 89CC AD E1 8E				LDA FORMATIONSHAPE+78
   185 89CF 8D BE 0E				STA SPRITES1+$670+78
Source: time.asm
   188 89D2 60					rts
   189 = 89D3			picAlarm	equ *
   190 						.rept 27, #
   191 						LDA ALARMSHAPE+:1
   192 						STA SPRITES1+$630+:1
   193 						.ENDR
   193 						.endr
Source: REPT
   191 89D3 AD 6B 8E				LDA ALARMSHAPE+0
   191 89D6 8D 30 0E				STA SPRITES1+$630+0
   191 89D9 AD 6C 8E				LDA ALARMSHAPE+1
   191 89DC 8D 31 0E				STA SPRITES1+$630+1
   191 89DF AD 6D 8E				LDA ALARMSHAPE+2
   191 89E2 8D 32 0E				STA SPRITES1+$630+2
   191 89E5 AD 6E 8E				LDA ALARMSHAPE+3
   191 89E8 8D 33 0E				STA SPRITES1+$630+3
   191 89EB AD 6F 8E				LDA ALARMSHAPE+4
   191 89EE 8D 34 0E				STA SPRITES1+$630+4
   191 89F1 AD 70 8E				LDA ALARMSHAPE+5
   191 89F4 8D 35 0E				STA SPRITES1+$630+5
   191 89F7 AD 71 8E				LDA ALARMSHAPE+6
   191 89FA 8D 36 0E				STA SPRITES1+$630+6
   191 89FD AD 72 8E				LDA ALARMSHAPE+7
   191 8A00 8D 37 0E				STA SPRITES1+$630+7
   191 8A03 AD 73 8E				LDA ALARMSHAPE+8
   191 8A06 8D 38 0E				STA SPRITES1+$630+8
   191 8A09 AD 74 8E				LDA ALARMSHAPE+9
   191 8A0C 8D 39 0E				STA SPRITES1+$630+9
   191 8A0F AD 75 8E				LDA ALARMSHAPE+10
   191 8A12 8D 3A 0E				STA SPRITES1+$630+10
   191 8A15 AD 76 8E				LDA ALARMSHAPE+11
   191 8A18 8D 3B 0E				STA SPRITES1+$630+11
   191 8A1B AD 77 8E				LDA ALARMSHAPE+12
   191 8A1E 8D 3C 0E				STA SPRITES1+$630+12
   191 8A21 AD 78 8E				LDA ALARMSHAPE+13
   191 8A24 8D 3D 0E				STA SPRITES1+$630+13
   191 8A27 AD 79 8E				LDA ALARMSHAPE+14
   191 8A2A 8D 3E 0E				STA SPRITES1+$630+14
   191 8A2D AD 7A 8E				LDA ALARMSHAPE+15
   191 8A30 8D 3F 0E				STA SPRITES1+$630+15
   191 8A33 AD 7B 8E				LDA ALARMSHAPE+16
   191 8A36 8D 40 0E				STA SPRITES1+$630+16
   191 8A39 AD 7C 8E				LDA ALARMSHAPE+17
   191 8A3C 8D 41 0E				STA SPRITES1+$630+17
   191 8A3F AD 7D 8E				LDA ALARMSHAPE+18
   191 8A42 8D 42 0E				STA SPRITES1+$630+18
   191 8A45 AD 7E 8E				LDA ALARMSHAPE+19
   191 8A48 8D 43 0E				STA SPRITES1+$630+19
   191 8A4B AD 7F 8E				LDA ALARMSHAPE+20
   191 8A4E 8D 44 0E				STA SPRITES1+$630+20
   191 8A51 AD 80 8E				LDA ALARMSHAPE+21
   191 8A54 8D 45 0E				STA SPRITES1+$630+21
   191 8A57 AD 81 8E				LDA ALARMSHAPE+22
   191 8A5A 8D 46 0E				STA SPRITES1+$630+22
   191 8A5D AD 82 8E				LDA ALARMSHAPE+23
   191 8A60 8D 47 0E				STA SPRITES1+$630+23
   191 8A63 AD 83 8E				LDA ALARMSHAPE+24
   191 8A66 8D 48 0E				STA SPRITES1+$630+24
   191 8A69 AD 84 8E				LDA ALARMSHAPE+25
   191 8A6C 8D 49 0E				STA SPRITES1+$630+25
   191 8A6F AD 85 8E				LDA ALARMSHAPE+26
   191 8A72 8D 4A 0E				STA SPRITES1+$630+26
Source: time.asm
   194 8A75 60					rts
   195 						
   196 = 8A76			picEnemy	equ *
   197 						.rept 13, #
   198 							LDA ENEMYSHAPE+:1
   199 							STA SPRITES1+$670+:1*4
   200 							STA SPRITES1+$670+:1*4+1
   201 							STA SPRITES1+$670+:1*4+2
   202 						.ENDR
   202 						.endr
Source: REPT
   198 8A76 AD 86 8E					LDA ENEMYSHAPE+0
   198 8A79 8D 70 0E					STA SPRITES1+$670+0*4
   198 8A7C 8D 71 0E					STA SPRITES1+$670+0*4+1
   198 8A7F 8D 72 0E					STA SPRITES1+$670+0*4+2
   198 8A82 AD 87 8E					LDA ENEMYSHAPE+1
   198 8A85 8D 74 0E					STA SPRITES1+$670+1*4
   198 8A88 8D 75 0E					STA SPRITES1+$670+1*4+1
   198 8A8B 8D 76 0E					STA SPRITES1+$670+1*4+2
   198 8A8E AD 88 8E					LDA ENEMYSHAPE+2
   198 8A91 8D 78 0E					STA SPRITES1+$670+2*4
   198 8A94 8D 79 0E					STA SPRITES1+$670+2*4+1
   198 8A97 8D 7A 0E					STA SPRITES1+$670+2*4+2
   198 8A9A AD 89 8E					LDA ENEMYSHAPE+3
   198 8A9D 8D 7C 0E					STA SPRITES1+$670+3*4
   198 8AA0 8D 7D 0E					STA SPRITES1+$670+3*4+1
   198 8AA3 8D 7E 0E					STA SPRITES1+$670+3*4+2
   198 8AA6 AD 8A 8E					LDA ENEMYSHAPE+4
   198 8AA9 8D 80 0E					STA SPRITES1+$670+4*4
   198 8AAC 8D 81 0E					STA SPRITES1+$670+4*4+1
   198 8AAF 8D 82 0E					STA SPRITES1+$670+4*4+2
   198 8AB2 AD 8B 8E					LDA ENEMYSHAPE+5
   198 8AB5 8D 84 0E					STA SPRITES1+$670+5*4
   198 8AB8 8D 85 0E					STA SPRITES1+$670+5*4+1
   198 8ABB 8D 86 0E					STA SPRITES1+$670+5*4+2
   198 8ABE AD 8C 8E					LDA ENEMYSHAPE+6
   198 8AC1 8D 88 0E					STA SPRITES1+$670+6*4
   198 8AC4 8D 89 0E					STA SPRITES1+$670+6*4+1
   198 8AC7 8D 8A 0E					STA SPRITES1+$670+6*4+2
   198 8ACA AD 8D 8E					LDA ENEMYSHAPE+7
   198 8ACD 8D 8C 0E					STA SPRITES1+$670+7*4
   198 8AD0 8D 8D 0E					STA SPRITES1+$670+7*4+1
   198 8AD3 8D 8E 0E					STA SPRITES1+$670+7*4+2
   198 8AD6 AD 8E 8E					LDA ENEMYSHAPE+8
   198 8AD9 8D 90 0E					STA SPRITES1+$670+8*4
   198 8ADC 8D 91 0E					STA SPRITES1+$670+8*4+1
   198 8ADF 8D 92 0E					STA SPRITES1+$670+8*4+2
   198 8AE2 AD 8F 8E					LDA ENEMYSHAPE+9
   198 8AE5 8D 94 0E					STA SPRITES1+$670+9*4
   198 8AE8 8D 95 0E					STA SPRITES1+$670+9*4+1
   198 8AEB 8D 96 0E					STA SPRITES1+$670+9*4+2
   198 8AEE AD 90 8E					LDA ENEMYSHAPE+10
   198 8AF1 8D 98 0E					STA SPRITES1+$670+10*4
   198 8AF4 8D 99 0E					STA SPRITES1+$670+10*4+1
   198 8AF7 8D 9A 0E					STA SPRITES1+$670+10*4+2
   198 8AFA AD 91 8E					LDA ENEMYSHAPE+11
   198 8AFD 8D 9C 0E					STA SPRITES1+$670+11*4
   198 8B00 8D 9D 0E					STA SPRITES1+$670+11*4+1
   198 8B03 8D 9E 0E					STA SPRITES1+$670+11*4+2
   198 8B06 AD 92 8E					LDA ENEMYSHAPE+12
   198 8B09 8D A0 0E					STA SPRITES1+$670+12*4
   198 8B0C 8D A1 0E					STA SPRITES1+$670+12*4+1
   198 8B0F 8D A2 0E					STA SPRITES1+$670+12*4+2
Source: time.asm
   203 8B12 60					rts
   204 						
   205 = 8B13			picSkull	equ *
   206 						.rept 71, #
   207 						LDA SKULLSHAPE+:1
   208 						STA SPRITES1+$660+:1
   209 						.ENDR
   209 						.endr
Source: REPT
   207 8B13 AD 24 8E				LDA SKULLSHAPE+0
   207 8B16 8D 60 0E				STA SPRITES1+$660+0
   207 8B19 AD 25 8E				LDA SKULLSHAPE+1
   207 8B1C 8D 61 0E				STA SPRITES1+$660+1
   207 8B1F AD 26 8E				LDA SKULLSHAPE+2
   207 8B22 8D 62 0E				STA SPRITES1+$660+2
   207 8B25 AD 27 8E				LDA SKULLSHAPE+3
   207 8B28 8D 63 0E				STA SPRITES1+$660+3
   207 8B2B AD 28 8E				LDA SKULLSHAPE+4
   207 8B2E 8D 64 0E				STA SPRITES1+$660+4
   207 8B31 AD 29 8E				LDA SKULLSHAPE+5
   207 8B34 8D 65 0E				STA SPRITES1+$660+5
   207 8B37 AD 2A 8E				LDA SKULLSHAPE+6
   207 8B3A 8D 66 0E				STA SPRITES1+$660+6
   207 8B3D AD 2B 8E				LDA SKULLSHAPE+7
   207 8B40 8D 67 0E				STA SPRITES1+$660+7
   207 8B43 AD 2C 8E				LDA SKULLSHAPE+8
   207 8B46 8D 68 0E				STA SPRITES1+$660+8
   207 8B49 AD 2D 8E				LDA SKULLSHAPE+9
   207 8B4C 8D 69 0E				STA SPRITES1+$660+9
   207 8B4F AD 2E 8E				LDA SKULLSHAPE+10
   207 8B52 8D 6A 0E				STA SPRITES1+$660+10
   207 8B55 AD 2F 8E				LDA SKULLSHAPE+11
   207 8B58 8D 6B 0E				STA SPRITES1+$660+11
   207 8B5B AD 30 8E				LDA SKULLSHAPE+12
   207 8B5E 8D 6C 0E				STA SPRITES1+$660+12
   207 8B61 AD 31 8E				LDA SKULLSHAPE+13
   207 8B64 8D 6D 0E				STA SPRITES1+$660+13
   207 8B67 AD 32 8E				LDA SKULLSHAPE+14
   207 8B6A 8D 6E 0E				STA SPRITES1+$660+14
   207 8B6D AD 33 8E				LDA SKULLSHAPE+15
   207 8B70 8D 6F 0E				STA SPRITES1+$660+15
   207 8B73 AD 34 8E				LDA SKULLSHAPE+16
   207 8B76 8D 70 0E				STA SPRITES1+$660+16
   207 8B79 AD 35 8E				LDA SKULLSHAPE+17
   207 8B7C 8D 71 0E				STA SPRITES1+$660+17
   207 8B7F AD 36 8E				LDA SKULLSHAPE+18
   207 8B82 8D 72 0E				STA SPRITES1+$660+18
   207 8B85 AD 37 8E				LDA SKULLSHAPE+19
   207 8B88 8D 73 0E				STA SPRITES1+$660+19
   207 8B8B AD 38 8E				LDA SKULLSHAPE+20
   207 8B8E 8D 74 0E				STA SPRITES1+$660+20
   207 8B91 AD 39 8E				LDA SKULLSHAPE+21
   207 8B94 8D 75 0E				STA SPRITES1+$660+21
   207 8B97 AD 3A 8E				LDA SKULLSHAPE+22
   207 8B9A 8D 76 0E				STA SPRITES1+$660+22
   207 8B9D AD 3B 8E				LDA SKULLSHAPE+23
   207 8BA0 8D 77 0E				STA SPRITES1+$660+23
   207 8BA3 AD 3C 8E				LDA SKULLSHAPE+24
   207 8BA6 8D 78 0E				STA SPRITES1+$660+24
   207 8BA9 AD 3D 8E				LDA SKULLSHAPE+25
   207 8BAC 8D 79 0E				STA SPRITES1+$660+25
   207 8BAF AD 3E 8E				LDA SKULLSHAPE+26
   207 8BB2 8D 7A 0E				STA SPRITES1+$660+26
   207 8BB5 AD 3F 8E				LDA SKULLSHAPE+27
   207 8BB8 8D 7B 0E				STA SPRITES1+$660+27
   207 8BBB AD 40 8E				LDA SKULLSHAPE+28
   207 8BBE 8D 7C 0E				STA SPRITES1+$660+28
   207 8BC1 AD 41 8E				LDA SKULLSHAPE+29
   207 8BC4 8D 7D 0E				STA SPRITES1+$660+29
   207 8BC7 AD 42 8E				LDA SKULLSHAPE+30
   207 8BCA 8D 7E 0E				STA SPRITES1+$660+30
   207 8BCD AD 43 8E				LDA SKULLSHAPE+31
   207 8BD0 8D 7F 0E				STA SPRITES1+$660+31
   207 8BD3 AD 44 8E				LDA SKULLSHAPE+32
   207 8BD6 8D 80 0E				STA SPRITES1+$660+32
   207 8BD9 AD 45 8E				LDA SKULLSHAPE+33
   207 8BDC 8D 81 0E				STA SPRITES1+$660+33
   207 8BDF AD 46 8E				LDA SKULLSHAPE+34
   207 8BE2 8D 82 0E				STA SPRITES1+$660+34
   207 8BE5 AD 47 8E				LDA SKULLSHAPE+35
   207 8BE8 8D 83 0E				STA SPRITES1+$660+35
   207 8BEB AD 48 8E				LDA SKULLSHAPE+36
   207 8BEE 8D 84 0E				STA SPRITES1+$660+36
   207 8BF1 AD 49 8E				LDA SKULLSHAPE+37
   207 8BF4 8D 85 0E				STA SPRITES1+$660+37
   207 8BF7 AD 4A 8E				LDA SKULLSHAPE+38
   207 8BFA 8D 86 0E				STA SPRITES1+$660+38
   207 8BFD AD 4B 8E				LDA SKULLSHAPE+39
   207 8C00 8D 87 0E				STA SPRITES1+$660+39
   207 8C03 AD 4C 8E				LDA SKULLSHAPE+40
   207 8C06 8D 88 0E				STA SPRITES1+$660+40
   207 8C09 AD 4D 8E				LDA SKULLSHAPE+41
   207 8C0C 8D 89 0E				STA SPRITES1+$660+41
   207 8C0F AD 4E 8E				LDA SKULLSHAPE+42
   207 8C12 8D 8A 0E				STA SPRITES1+$660+42
   207 8C15 AD 4F 8E				LDA SKULLSHAPE+43
   207 8C18 8D 8B 0E				STA SPRITES1+$660+43
   207 8C1B AD 50 8E				LDA SKULLSHAPE+44
   207 8C1E 8D 8C 0E				STA SPRITES1+$660+44
   207 8C21 AD 51 8E				LDA SKULLSHAPE+45
   207 8C24 8D 8D 0E				STA SPRITES1+$660+45
   207 8C27 AD 52 8E				LDA SKULLSHAPE+46
   207 8C2A 8D 8E 0E				STA SPRITES1+$660+46
   207 8C2D AD 53 8E				LDA SKULLSHAPE+47
   207 8C30 8D 8F 0E				STA SPRITES1+$660+47
   207 8C33 AD 54 8E				LDA SKULLSHAPE+48
   207 8C36 8D 90 0E				STA SPRITES1+$660+48
   207 8C39 AD 55 8E				LDA SKULLSHAPE+49
   207 8C3C 8D 91 0E				STA SPRITES1+$660+49
   207 8C3F AD 56 8E				LDA SKULLSHAPE+50
   207 8C42 8D 92 0E				STA SPRITES1+$660+50
   207 8C45 AD 57 8E				LDA SKULLSHAPE+51
   207 8C48 8D 93 0E				STA SPRITES1+$660+51
   207 8C4B AD 58 8E				LDA SKULLSHAPE+52
   207 8C4E 8D 94 0E				STA SPRITES1+$660+52
   207 8C51 AD 59 8E				LDA SKULLSHAPE+53
   207 8C54 8D 95 0E				STA SPRITES1+$660+53
   207 8C57 AD 5A 8E				LDA SKULLSHAPE+54
   207 8C5A 8D 96 0E				STA SPRITES1+$660+54
   207 8C5D AD 5B 8E				LDA SKULLSHAPE+55
   207 8C60 8D 97 0E				STA SPRITES1+$660+55
   207 8C63 AD 5C 8E				LDA SKULLSHAPE+56
   207 8C66 8D 98 0E				STA SPRITES1+$660+56
   207 8C69 AD 5D 8E				LDA SKULLSHAPE+57
   207 8C6C 8D 99 0E				STA SPRITES1+$660+57
   207 8C6F AD 5E 8E				LDA SKULLSHAPE+58
   207 8C72 8D 9A 0E				STA SPRITES1+$660+58
   207 8C75 AD 5F 8E				LDA SKULLSHAPE+59
   207 8C78 8D 9B 0E				STA SPRITES1+$660+59
   207 8C7B AD 60 8E				LDA SKULLSHAPE+60
   207 8C7E 8D 9C 0E				STA SPRITES1+$660+60
   207 8C81 AD 61 8E				LDA SKULLSHAPE+61
   207 8C84 8D 9D 0E				STA SPRITES1+$660+61
   207 8C87 AD 62 8E				LDA SKULLSHAPE+62
   207 8C8A 8D 9E 0E				STA SPRITES1+$660+62
   207 8C8D AD 63 8E				LDA SKULLSHAPE+63
   207 8C90 8D 9F 0E				STA SPRITES1+$660+63
   207 8C93 AD 64 8E				LDA SKULLSHAPE+64
   207 8C96 8D A0 0E				STA SPRITES1+$660+64
   207 8C99 AD 65 8E				LDA SKULLSHAPE+65
   207 8C9C 8D A1 0E				STA SPRITES1+$660+65
   207 8C9F AD 66 8E				LDA SKULLSHAPE+66
   207 8CA2 8D A2 0E				STA SPRITES1+$660+66
   207 8CA5 AD 67 8E				LDA SKULLSHAPE+67
   207 8CA8 8D A3 0E				STA SPRITES1+$660+67
   207 8CAB AD 68 8E				LDA SKULLSHAPE+68
   207 8CAE 8D A4 0E				STA SPRITES1+$660+68
   207 8CB1 AD 69 8E				LDA SKULLSHAPE+69
   207 8CB4 8D A5 0E				STA SPRITES1+$660+69
   207 8CB7 AD 6A 8E				LDA SKULLSHAPE+70
   207 8CBA 8D A6 0E				STA SPRITES1+$660+70
Source: time.asm
   210 8CBD 60					rts
   211 						
   212 = 8CBE			picSpy		equ *
   213 						.rept 51, #
   214 						LDA SPYSHAPE+:1
   215 						STA SPRITES1+$680+:1
   216 						.ENDR
   216 						.endr
Source: REPT
   214 8CBE AD F1 8D				LDA SPYSHAPE+0
   214 8CC1 8D 80 0E				STA SPRITES1+$680+0
   214 8CC4 AD F2 8D				LDA SPYSHAPE+1
   214 8CC7 8D 81 0E				STA SPRITES1+$680+1
   214 8CCA AD F3 8D				LDA SPYSHAPE+2
   214 8CCD 8D 82 0E				STA SPRITES1+$680+2
   214 8CD0 AD F4 8D				LDA SPYSHAPE+3
   214 8CD3 8D 83 0E				STA SPRITES1+$680+3
   214 8CD6 AD F5 8D				LDA SPYSHAPE+4
   214 8CD9 8D 84 0E				STA SPRITES1+$680+4
   214 8CDC AD F6 8D				LDA SPYSHAPE+5
   214 8CDF 8D 85 0E				STA SPRITES1+$680+5
   214 8CE2 AD F7 8D				LDA SPYSHAPE+6
   214 8CE5 8D 86 0E				STA SPRITES1+$680+6
   214 8CE8 AD F8 8D				LDA SPYSHAPE+7
   214 8CEB 8D 87 0E				STA SPRITES1+$680+7
   214 8CEE AD F9 8D				LDA SPYSHAPE+8
   214 8CF1 8D 88 0E				STA SPRITES1+$680+8
   214 8CF4 AD FA 8D				LDA SPYSHAPE+9
   214 8CF7 8D 89 0E				STA SPRITES1+$680+9
   214 8CFA AD FB 8D				LDA SPYSHAPE+10
   214 8CFD 8D 8A 0E				STA SPRITES1+$680+10
   214 8D00 AD FC 8D				LDA SPYSHAPE+11
   214 8D03 8D 8B 0E				STA SPRITES1+$680+11
   214 8D06 AD FD 8D				LDA SPYSHAPE+12
   214 8D09 8D 8C 0E				STA SPRITES1+$680+12
   214 8D0C AD FE 8D				LDA SPYSHAPE+13
   214 8D0F 8D 8D 0E				STA SPRITES1+$680+13
   214 8D12 AD FF 8D				LDA SPYSHAPE+14
   214 8D15 8D 8E 0E				STA SPRITES1+$680+14
   214 8D18 AD 00 8E				LDA SPYSHAPE+15
   214 8D1B 8D 8F 0E				STA SPRITES1+$680+15
   214 8D1E AD 01 8E				LDA SPYSHAPE+16
   214 8D21 8D 90 0E				STA SPRITES1+$680+16
   214 8D24 AD 02 8E				LDA SPYSHAPE+17
   214 8D27 8D 91 0E				STA SPRITES1+$680+17
   214 8D2A AD 03 8E				LDA SPYSHAPE+18
   214 8D2D 8D 92 0E				STA SPRITES1+$680+18
   214 8D30 AD 04 8E				LDA SPYSHAPE+19
   214 8D33 8D 93 0E				STA SPRITES1+$680+19
   214 8D36 AD 05 8E				LDA SPYSHAPE+20
   214 8D39 8D 94 0E				STA SPRITES1+$680+20
   214 8D3C AD 06 8E				LDA SPYSHAPE+21
   214 8D3F 8D 95 0E				STA SPRITES1+$680+21
   214 8D42 AD 07 8E				LDA SPYSHAPE+22
   214 8D45 8D 96 0E				STA SPRITES1+$680+22
   214 8D48 AD 08 8E				LDA SPYSHAPE+23
   214 8D4B 8D 97 0E				STA SPRITES1+$680+23
   214 8D4E AD 09 8E				LDA SPYSHAPE+24
   214 8D51 8D 98 0E				STA SPRITES1+$680+24
   214 8D54 AD 0A 8E				LDA SPYSHAPE+25
   214 8D57 8D 99 0E				STA SPRITES1+$680+25
   214 8D5A AD 0B 8E				LDA SPYSHAPE+26
   214 8D5D 8D 9A 0E				STA SPRITES1+$680+26
   214 8D60 AD 0C 8E				LDA SPYSHAPE+27
   214 8D63 8D 9B 0E				STA SPRITES1+$680+27
   214 8D66 AD 0D 8E				LDA SPYSHAPE+28
   214 8D69 8D 9C 0E				STA SPRITES1+$680+28
   214 8D6C AD 0E 8E				LDA SPYSHAPE+29
   214 8D6F 8D 9D 0E				STA SPRITES1+$680+29
   214 8D72 AD 0F 8E				LDA SPYSHAPE+30
   214 8D75 8D 9E 0E				STA SPRITES1+$680+30
   214 8D78 AD 10 8E				LDA SPYSHAPE+31
   214 8D7B 8D 9F 0E				STA SPRITES1+$680+31
   214 8D7E AD 11 8E				LDA SPYSHAPE+32
   214 8D81 8D A0 0E				STA SPRITES1+$680+32
   214 8D84 AD 12 8E				LDA SPYSHAPE+33
   214 8D87 8D A1 0E				STA SPRITES1+$680+33
   214 8D8A AD 13 8E				LDA SPYSHAPE+34
   214 8D8D 8D A2 0E				STA SPRITES1+$680+34
   214 8D90 AD 14 8E				LDA SPYSHAPE+35
   214 8D93 8D A3 0E				STA SPRITES1+$680+35
   214 8D96 AD 15 8E				LDA SPYSHAPE+36
   214 8D99 8D A4 0E				STA SPRITES1+$680+36
   214 8D9C AD 16 8E				LDA SPYSHAPE+37
   214 8D9F 8D A5 0E				STA SPRITES1+$680+37
   214 8DA2 AD 17 8E				LDA SPYSHAPE+38
   214 8DA5 8D A6 0E				STA SPRITES1+$680+38
   214 8DA8 AD 18 8E				LDA SPYSHAPE+39
   214 8DAB 8D A7 0E				STA SPRITES1+$680+39
   214 8DAE AD 19 8E				LDA SPYSHAPE+40
   214 8DB1 8D A8 0E				STA SPRITES1+$680+40
   214 8DB4 AD 1A 8E				LDA SPYSHAPE+41
   214 8DB7 8D A9 0E				STA SPRITES1+$680+41
   214 8DBA AD 1B 8E				LDA SPYSHAPE+42
   214 8DBD 8D AA 0E				STA SPRITES1+$680+42
   214 8DC0 AD 1C 8E				LDA SPYSHAPE+43
   214 8DC3 8D AB 0E				STA SPRITES1+$680+43
   214 8DC6 AD 1D 8E				LDA SPYSHAPE+44
   214 8DC9 8D AC 0E				STA SPRITES1+$680+44
   214 8DCC AD 1E 8E				LDA SPYSHAPE+45
   214 8DCF 8D AD 0E				STA SPRITES1+$680+45
   214 8DD2 AD 1F 8E				LDA SPYSHAPE+46
   214 8DD5 8D AE 0E				STA SPRITES1+$680+46
   214 8DD8 AD 20 8E				LDA SPYSHAPE+47
   214 8DDB 8D AF 0E				STA SPRITES1+$680+47
   214 8DDE AD 21 8E				LDA SPYSHAPE+48
   214 8DE1 8D B0 0E				STA SPRITES1+$680+48
   214 8DE4 AD 22 8E				LDA SPYSHAPE+49
   214 8DE7 8D B1 0E				STA SPRITES1+$680+49
   214 8DEA AD 23 8E				LDA SPYSHAPE+50
   214 8DED 8D B2 0E				STA SPRITES1+$680+50
Source: time.asm
   217 8DF0 60					rts
   218
   219
   220 = 8DF1			spyShape	equ *
   221 8DF1 08 08				:2 dta b(%00001000)
   222 8DF3 00					dta b(0)
   223 8DF4 08					dta b(%00001000)
   224 8DF5 1C 1C				:2 dta b(%00011100)
   225 8DF7 00					dta b(0)
   226 8DF8 3E 3E 3E				:3 dta b(%00111110)
   227 8DFB 00					dta b(0)
   228 8DFC 2A					dta b(%00101010)
   229 8DFD 6B 6B				:2 dta b(%01101011)
   230 8DFF 00					dta b(0)
   231 8E00 6B 6B 6B				:3 dta b(%01101011)
   232 8E03 00					dta b(0)
   233 8E04 7F 7F 7F				:3 dta b(%01111111)
   234 8E07 00					dta b(0)
   235 8E08 7F 7F 7F				:3 dta b(%01111111)
   236 8E0B 00					dta b(0)
   237 8E0C 5D 5D				:2 dta b(%01011101)
   238 8E0E 49					dta b(%01001001)
   239 8E0F 00					dta b(0)
   240 8E10 49 49 49				:3 dta b(%01001001)
   241 8E13 00					dta b(0)
   242 8E14 49 49 49				:3 dta b(%01001001)
   243 8E17 00					dta b(0)
   244 8E18 49 49 49				:3 dta b(%01001001)
   245 8E1B 00					dta b(0)
   246 8E1C 08 08 08				:3 dta b(%00001000)
   247 8E1F 00 00 00 00 00			:5 dta b(0)
   248 						
   249 = 8E24			skullShape	equ *
   250 8E24 18 18				:2 dta b(%00011000)
   251 8E26 3C 3C				:2 dta b(%00111100)
   252 8E28 00					dta b(0)
   253 8E29 7E 7E 7E				:3 dta b(%01111110)
   254 8E2C 00					dta b(0)
   255 8E2D FF FF FF				:3 dta b(%11111111)
   256 8E30 00					dta b(0)
   257 8E31 99 99 99				:3 dta b(%10011001)
   258 8E34 00					dta b(0)
   259 8E35 99 99				:2 dta b(%10011001)
   260 8E37 DB					dta b(%11011011)
   261 8E38 00					dta b(0)
   262 8E39 FF FF FF				:3 dta b(%11111111)
   263 8E3C 00					dta b(0)
   264 8E3D FF FF FF				:3 dta b(%11111111)
   265 8E40 00					dta b(0)
   266 8E41 7E 7E 7E				:3 dta b(%01111110)
   267 8E44 00					dta b(0)
   268 8E45 7E					dta b(%01111110)
   269 8E46 3C					dta b(%00111100)
   270 8E47 24					dta b(%00100100)
   271 8E48 00					dta b(0)
   272 8E49 24 24 24				:3 dta b(%00100100)
   273 8E4C 00					dta b(0)
   274 8E4D 24					dta b(%00100100)
   275 8E4E 3C					dta b(%00111100)
   276 8E4F 18					dta b(%00011000)
   277 8E50 00					dta b(0)
   278 8E51 18 18 18				:3 dta b(%00011000)
   279 8E54 00					dta b(0)
   280 8E55 42 42 42				:3 dta b(%01000010)
   281 8E58 00					dta b(0)
   282 8E59 C3 C3 C3				:3 dta b(%11000011)
   283 8E5C 00					dta b(0)
   284 8E5D 24 24				:2 dta b(%00100100)
   285 8E5F 18 18				:2 dta b(%00011000)
   286 8E61 24 24				:2 dta b(%00100100)
   287 8E63 00					dta b(0)
   288 8E64 C3 C3 C3				:3 dta b(%11000011)
   289 8E67 00					dta b(0)
   290 8E68 42 42 42				:3 dta b(%01000010)
   291 						
   292 = 8E6B			alarmShape	equ *
   293 8E6B 08 08 08				:3 dta b(%00001000)
   294 8E6E 00 00 00				:3 dta b(0)
   295 8E71 41					dta b(%01000001)
   296 8E72 49 49				:2 dta b(%01001001)
   297 8E74 00					dta b(0)
   298 8E75 1C 1C				:2 dta b(%00011100)
   299 8E77 00					dta b(0)
   300 8E78 3E 3E				:2 dta b(%00111110)
   301 8E7A 00					dta b(0)
   302 8E7B 3E 3E				:2 dta b(%00111110)
   303 8E7D 00					dta b(0)
   304 8E7E 3E 3E				:2 dta b(%00111110)
   305 8E80 41					dta b(%01000001)
   306 8E81 7F 7F 7F 7F 7F			:5 dta b(%01111111)
   307 						
   308 = 8E86			enemyShape	equ *
   309 8E86 08					dta b(%00001000)
   310 8E87 1C					dta b(%00011100)
   311 8E88 14					dta b(%00010100)
   312 8E89 36					dta b(%00110110)
   313 8E8A 3E 3E				:2 dta b(%00111110)
   314 8E8C 77					dta b(%01110111)
   315 8E8D 63 63				:2 dta b(%01100011)
   316 8E8F 41 41 41 41				:4 dta b(%01000001)
   317 					
   318 = 8E93			formationShape	equ	*
   319 8E93 10 10				:2 dta b(%00010000)
   320 8E95 38 38				:2 dta b(%00111000)
   321 8E97 28 28				:2 dta b(%00101000)
   322 8E99 6C 6C				:2 dta b(%01101100)
   323 8E9B 7C 7C 7C				:3 dta b(%01111100)
   324 8E9E EE EE				:2 dta b(%11101110)
   325 8EA0 C6 C6 C6 C6				:4 dta b(%11000110)
   326 8EA4 82 82 82 82 82 82 + 		:8 dta b(%10000010)
   327 8EAC 00 00				dta b(0,0)
   328 8EAE 08 08				:2 dta b(%00001000)
   329 8EB0 1C 1C				:2 dta b(%00011100)
   330 8EB2 14 14				:2 dta b(%00010100)
   331 8EB4 36 36				:2 dta b(%00110110)
   332 8EB6 3E 3E 3E				:3 dta b(%00111110)
   333 8EB9 77 77				:2 dta b(%01110111)
   334 8EBB 63 63 63 63				:4 dta b(%01100011)
   335 8EBF 41 41 41 41 41 41 + 		:8 dta b(%01000001)
   336 8EC7 00 00				dta b(0,0)
   337 8EC9 10 10				:2 dta b(%00010000)
   338 8ECB 38 38				:2 dta b(%00111000)
   339 8ECD 28 28				:2 dta b(%00101000)
   340 8ECF 6C 6C				:2 dta b(%01101100)
   341 8ED1 7C 7C 7C				:3 dta b(%01111100)
   342 8ED4 EE EE				:2 dta b(%11101110)
   343 8ED6 C6 C6 C6 C6				:4 dta b(%11000110)
   344 8EDA 82 82 82 82 82 82 + 		:8 dta b(%10000010)
   345 						
   346 = 8EE2			pokaz_duszki	equ *
   347 8EE2 A9 00				lda #>SPRITES
   348 8EE4 8D 07 D4				sta PMBASE
   349 						
   350 8EE7 A9 00 8D 0A C0			mva #0 SIZEP2
   351 8EEC A9 00 8D 15 C0			mva #$0 COLPM3
   352 8EF1 A9 B1				lda #pozWyniki
   353 8EF3 8D 00 C0				sta HPOSP0 
   354 8EF6 A9 B9				lda #pozWyniki+8
   355 8EF8 8D 01 C0				sta HPOSP1
   356
   357 8EFB A9 00				lda #0		
   358 8EFD 8D 60 0E 8D 61 0E + 		:105 sta sprites1+$660+#
   359 						
   360 						
   361 9038 60					rts
   362 						
   363 				;po zbiciu bazy zmniejsz kondycjÄ™ o ustalona wartoÅ›c i ustaw odpowiedni stan kondycji (green,yellow,red)
   364 = 9039			zmniejszKondycja	equ *
   365 9039 AE 66 36				ldx timeLevel
   366 903C AD 56 36				lda kondycja
   367 903F DD 22 86				cmp conRed,x
   368 9042 90 29				bcc zmKondycja1
   369 						
   370 9044 BD 13 86				lda con2enemy,x
   371 9047 8D 56 36				sta kondycja
   372 904A AD 5D 36 8D 8A 36			mva speedEnemy0 speedEnemy	;=yellow po red
   373 9050 AD 5F 36 8D 5E 36			mva opoz_denemy1 opoz_denemy
   374 9056 AD 69 36 8D 67 36			mva rotate_speed1d rotate_speed1
   375 905C AD 6A 36 8D 68 36			mva rotate_speed2d rotate_speed2
   376 9062 AD 61 36 8D 62 36			mva opoz_dlosuj losuj1
   377 9068 A0 01				ldy #1
   378 906A 4C 10 5C				jmp setCondition		;ustaw yellow
   379
   380 = 906D			zmKondycja1	equ *	
   381 906D 38					sec
   382 906E AD 56 36				lda kondycja
   383 9071 D0 02				bne @+
   384 9073 A9 FF				lda #255
   385 9075 AE 66 36		@		ldx timeLevel
   386 9078 FD 04 86				sbc timeBonus,x
   387 907B F0 02				beq @+	;jesli zero, lub <0 to ustaw kondycja_start
   388 907D B0 06				bcs @+1	
   389 907F A9 02		@		lda #kondycja_start+1	
   390 9081 8D 56 36				sta kondycja
   391 9084 60					rts
   392
   393 9085 8D 56 36		@		sta kondycja
   394 9088 DD 09 86				cmp conYellow,x
   395 908B D0 04				bne zm1
   396 908D EE 56 36				inc kondycja	;nie wlaczaj sampla
   397 9090 60					rts				;=yellow
   398 9091 B0 08		zm1		bcs @+
   399 						
   400 9093 A0 00 8C 51 36			mvy #0 max_Enemy		;<yellow, czyli green
   401 9098 4C 10 5C				jmp setCondition		;ustaw green
   402 						
   403 909B DD 0E 86		@		cmp con1enemy,x
   404 909E D0 01				bne *+3
   405 90A0 60					rts 
   406 90A1 B0 01				bcs @+
   407 						
   408 90A3 60					rts		;<con1enemy
   409 						
   410 90A4 DD 13 86		@		cmp con2enemy,x
   411 90A7 D0 01				bne *+3
   412 90A9 60					rts		;=con2enemy
   413 90AA B0 06				bcs @+
   414 						
   415 90AC A9 01 8D 51 36			mva #1 max_Enemy
   416 90B1 60					rts		;<con2enemy czyli = con1enemy
   417 						
   418 90B2 DD 18 86		@		cmp con3enemy,x
   419 90B5 D0 01				bne *+3
   420 90B7 60					rts
   421 90B8 B0 06				bcs @+
   422 						
   423 90BA A0 02				ldy #2
   424 90BC 8C 51 36				sty max_Enemy	;<con3enemy, czyli con2enemy
   425 90BF 60					rts
   426 						
   427 90C0 60			@		rts
   428 						
   536 90C1						icl 'rakiety.asm'
Source: rakiety.asm
     1
     2
     3 				;obsluga rakiet
     4 = 90C1			rakiety		equ *
     5 90C1 A2 07					ldx #7
     6 = 90C3			rak0		equ *
     7 90C3 BD E0 28		@			lda rakietyStan,x
     8 90C6 D0 04					bne @+
     9 90C8 CA			rak1		dex
    10 90C9 10 F8					bpl @-
    11 90CB 60						rts			
    12 								
    13 90CC BD E8 28		@			lda rakietyTyp,x
    14 90CF 4A						lsr 
    15 90D0 F0 03 4C 5E 91				jne rakPoziom
    16 							
    17 = 90D5			rakPion		equ *
    18 90D5 38						sec
    19 90D6 BD 78 02					lda rakietyY,x
    20 90D9 E5 BB					sbc posY
    21 90DB 9D 80 02					sta rakietyY0,x
    22 90DE 18						clc
    23 90DF 69 01					adc #1
    24 90E1 C9 1E					cmp #30
    25 90E3 B0 11					bcs @+
    26 							
    27 90E5 38						sec
    28 90E6 BD F0 28					lda rakietyX,x
    29 90E9 E5 BA					sbc posX		;c=1
    30 90EB A8						tay
    31 90EC B9 00 08					lda tabX,y
    32 90EF 9D F8 28					sta rakietyX0,x
    33 90F2 C9 21					cmp #33
    34 90F4 90 18					bcc @+1
    35 90F6 BD 88 02		@			lda rakietyMove,x
    36 90F9 F0 CD					beq rak1
    37 90FB BC E0 28					ldy rakietyStan,x
    38 90FE A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
    39 9103 A9 00					lda #0
    40 9105 9D E0 28					sta rakietyStan,x
    41 9108 9D 88 02					sta rakietyMove,x
    42 910B 4C C8 90					jmp rak1
    43
    44 910E 69 08		@			adc #8
    45 9110 85 AB					sta pom0f
    46 9112 BC 80 02					ldy rakietyY0,x
    47 9115 C8						iny
    48 							
    49 9116 A5 BC					lda ramka
    50 9118 D0 22					bne @+
    51 							
    52 911A 18						clc
    53 911B B9 54 37					lda obraz1La+7,y
    54 911E 65 AB					adc pom0f
    55 9120 85 9B					sta pom
    56 9122 B9 79 37					lda obraz1Ha+7,y
    57 9125 69 00					adc #0
    58 9127 85 9C					sta pom+1
    59 							
    60 9129 BD E8 28					lda rakietyTyp,x
    61 912C 0A						asl 
    62 912D 69 A7					adc #firstRakietaChar+128
    63 							
    64 912F A0 00					ldy #0
    65 9131 91 9B					sta (pom),y
    66 9133 A0 30					ldy #48
    67 9135 69 01					adc #1
    68 9137 91 9B					sta (pom),y
    69 9139 4C C8 90					jmp rak1
    70 							
    71 913C 18			@			clc
    72 913D B9 9E 37					lda obraz2La+7,y
    73 9140 65 AB					adc pom0f
    74 9142 85 9B					sta pom
    75 9144 B9 C3 37					lda obraz2Ha+7,y
    76 9147 69 00					adc #0
    77 9149 85 9C					sta pom+1
    78
    79 914B BD E8 28					lda rakietyTyp,x
    80 914E 0A						asl @
    81 914F 69 A7					adc #firstRakietaChar+128
    82 							
    83 9151 A0 00					ldy #0
    84 9153 91 9B					sta (pom),y
    85 9155 A0 30					ldy #48
    86 9157 69 01					adc #1
    87 9159 91 9B					sta (pom),y
    88 915B 4C C8 90					jmp rak1
    89
    90
    91 = 915E			rakPoziom	equ *
    92 915E 38						sec
    93 915F BD 78 02					lda rakietyY,x
    94 9162 E5 BB					sbc posY
    95 9164 9D 80 02					sta rakietyY0,x
    96 9167 C9 1D					cmp #29
    97 9169 B0 14					bcs @+
    98 							
    99 916B 38						sec
   100 916C BD F0 28					lda rakietyX,x
   101 916F E5 BA					sbc posX		;c=1
   102 9171 A8						tay
   103 9172 B9 00 08					lda tabX,y
   104 9175 9D F8 28					sta rakietyX0,x
   105 9178 18						clc
   106 9179 69 01					adc #1
   107 917B C9 22					cmp #34
   108 917D 90 1B					bcc @+1
   109 917F BD 88 02		@			lda rakietyMove,x
   110 9182 D0 03 4C C8 90				jeq rak1
   111 9187 BC E0 28					ldy rakietyStan,x
   112 918A A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
   113 918F A9 00					lda #0
   114 9191 9D E0 28					sta rakietyStan,x
   115 9194 9D 88 02					sta rakietyMove,x
   116 9197 4C C8 90					jmp rak1
   117
   118 919A 69 07		@			adc #7
   119 919C 85 AB					sta pom0f
   120 919E BC 80 02					ldy rakietyY0,x
   121 							
   122 91A1 A5 BC					lda ramka
   123 91A3 D0 21					bne @+
   124 							
   125 91A5 18						clc
   126 91A6 B9 55 37					lda obraz1La+8,y
   127 91A9 65 AB					adc pom0f
   128 91AB 85 9B					sta pom
   129 91AD B9 7A 37					lda obraz1Ha+8,y
   130 91B0 69 00					adc #0
   131 91B2 85 9C					sta pom+1
   132 							
   133 91B4 BD E8 28					lda rakietyTyp,x
   134 91B7 0A						asl @
   135 91B8 69 A7					adc #firstRakietaChar+128
   136 							
   137 91BA A0 00					ldy #0
   138 91BC 91 9B					sta (pom),y
   139 91BE C8						iny
   140 91BF 69 01					adc #1
   141 91C1 91 9B					sta (pom),y
   142
   143 91C3 4C C8 90					jmp rak1
   144 							
   145 91C6 18			@			clc
   146 91C7 B9 9F 37					lda obraz2La+8,y
   147 91CA 65 AB					adc pom0f
   148 91CC 85 9B					sta pom
   149 91CE B9 C4 37					lda obraz2Ha+8,y
   150 91D1 69 00					adc #0
   151 91D3 85 9C					sta pom+1
   152
   153 91D5 BD E8 28					lda rakietyTyp,x
   154 91D8 0A						asl @
   155 91D9 69 A7					adc #firstRakietaChar+128
   156 							
   157 91DB A0 00					ldy #0
   158 91DD 91 9B					sta (pom),y
   159 91DF C8						iny
   160 91E0 69 01					adc #1
   161 91E2 91 9B					sta (pom),y
   162
   163 91E4 4C C8 90					jmp rak1
   164 							
   165 				;poruszaj rakietami
   166 = 91E7			moveRakiety	equ *
   167 91E7 A2 07					ldx #7
   168 91E9 BD 88 02		mra2		lda rakietyMove,x
   169 91EC D0 04					bne mra1
   170 91EE CA						dex
   171 91EF 10 F8					bpl mra2
   172 91F1 60						rts
   173 										
   174 91F2 BD E8 28		mra1		lda rakietyTyp,x
   175 91F5 D0 07					bne @+
   176 91F7 DE 78 02					dec rakietyY,x
   177 91FA CA						dex
   178 91FB 10 EC					bpl mra2
   179 91FD 60						rts
   180 91FE C9 01		@			cmp #1
   181 9200 D0 07					bne @+
   182 9202 FE 78 02					inc rakietyY,x
   183 9205 CA						dex
   184 9206 10 E1					bpl mra2
   185 9208 60						rts
   186 9209 C9 03		@			cmp #3
   187 920B B0 0E					bcs @+		
   188 920D BD F0 28					lda rakietyX,x
   189 9210 E9 00					sbc #0	;c=0 czyli odejmij 1
   190 9212 29 7F					and #127
   191 9214 9D F0 28					sta rakietyX,x
   192 9217 CA						dex
   193 9218 10 CF					bpl mra2
   194 921A 60						rts
   195 921B BD F0 28		@			lda rakietyX,x
   196 921E 69 00					adc #0		;c=1 czyli dodaj 1
   197 9220 29 7F					and #127
   198 9222 9D F0 28					sta rakietyX,x
   199 9225 CA						dex
   200 9226 10 C1					bpl mra2
   201 9228 60						rts
   202
   203 9229 00			rak_flag	dta b(0)
   204 							
   205 				;uruchom rakiety przy bazach typu A	pionowe, typ 0 i 1
   206 				odpalRakietyA	.macro	;equ *
   207 				
   208 							ldy #7
   209 							mva #0 rak_flag
   210 				odpraka0	ldx rakietyStan,y
   211 							beq odpraka1
   212 							
   213 							lda rakietyTyp,y
   214 							and #%10
   215 							bne odpraka1
   216 							sta bazyRakieta-1,x			;wyczysc numer rakiety przypisanej do bazy,A=0
   217 							mva #1 rakietyMove,y		;uwolnienie rakiety
   218 							sta rak_flag
   219 				odpraka1	dey
   220 							bpl odpraka0
   221 							lda rak_flag
   222 							beq odpraka2
   223 							lda #15*2
   224 							sta SFX_RAKIETA
   225 				odpraka2	equ *	;lda licznikJadroA
   226 							
   227 							.endm
   228 							
   229 							
   230 							
   231 							
   232 				odpalRakietyB	.macro	;equ *		;poziome typ 2 i 3
   233 				
   234 							ldy #7
   235 							mva #0 rak_flag
   236 				odprakb0	ldx rakietyStan,y
   237 							beq odprakb1
   238 							
   239 							lda rakietyTyp,y
   240 							and #%10
   241 							beq odprakb1
   242 							sta rakietyMove,y	;mva #1 rakietyMove,y		;uwolnienie rakiety
   243 							sta rak_flag
   244 							mva #0 bazyRakieta-1,x		;wyczysc numer rakiety przypisanej do bazy
   245 				odprakb1	dey
   246 							bpl odprakb0
   247 							lda rak_flag
   248 							beq odprakb2
   249 							lda #15*2
   250 							sta SFX_RAKIETA
   251 				odprakb2	equ *	;lda licznikJadroB
   252 							
   253 							.endm
   254 							
   255 					
   256 				;rakiety bazy A
   257 				DODAJRAKIETAA	.macro	
   258 							lda licznikJadroA
   259 							cmp #5
   260 							bcc dra1
   261 							cmp #16
   262 							bcs dra1
   263 							
   264 							szukajRakieta		;MACRO
   265 							sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
   266 							
   267 							txa
   268 							sta rakietyStan,y
   269 							lda bazyX-1,x
   270 							clc
   271 							adc #4
   272 							sta rakietyX,y
   273 							
   274 							lda bazyY0-1,x		;nad czy pod statkiem ?
   275 							clc
   276 							adc #8
   277 							cmp #10+8
   278 							bcc dra2
   279 							
   280 							mva #0 rakietyTyp,y		;w gore
   281 							lda bazyY-1,x
   282 							clc
   283 							adc #2
   284 							sta rakietyY,y
   285 							jmp dra1
   286 							
   287 				dra2		mva #1 rakietyTyp,y		;w dol
   288 							lda bazyY-1,x
   289 							clc
   290 							adc #4
   291 							sta rakietyY,y
   292 										
   293 				dra1		equ *
   294 							.endm
   295
   296 				;poszukaj nieaktywna rakiete
   297 				szukajRakieta	.macro	;equ *
   298 				
   299 							ldy #7
   300 				szrak0		lda rakietyStan,y
   301 							beq szrak1
   302 							dey
   303 							bpl szrak0
   304 				szrak1		tya
   305 							
   306 							.endm
   307 							
   308
   309 				;rakiety bazy B
   310 				DODAJRAKIETAB	.macro
   311 							lda licznikJadroB
   312 							cmp #5
   313 							bcc drb1
   314 							cmp #16
   315 							bcs drb1
   316 							
   317 							szukajRakieta		;MACRO
   318 							sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
   319 							
   320 							txa
   321 							sta rakietyStan,y
   322 							lda bazyY-1,x
   323 							clc
   324 							adc #4
   325 							sta rakietyY,y
   326 							
   327 							lda bazyX0-1,x		;po lewo czy po prawo od statku?
   328 							clc
   329 							adc #8
   330 							cmp #12+8
   331 							bcc drb2
   332 							
   333 							mva #2 rakietyTyp,y		;w lewo
   334 							lda bazyX-1,x
   335 							clc
   336 							adc #2
   337 							sta rakietyX,y
   338 							jmp drb1
   339 							
   340 				drb2		mva #3 rakietyTyp,y		;w prawo
   341 							lda bazyX-1,x
   342 							clc
   343 							adc #4
   344 							sta rakietyX,y
   345 									
   346 				drb1		equ *			
   347 							.endm
   348 							
   349 							
   350 							
   351 							
   352
   353 							
   537 922A						icl 'enemy.asm'
Source: enemy.asm
     1 							
     2 922A 06 08 08 08 08 08 + fazaTab		dta b(6,8,8,8,8,8,8,8)
     3 9232 04 06 07 07 07 07 + 			dta b(4,6,7,7,7,7,8,7)
     4 923A 04 06 06 07 07 07 + 			dta b(4,6,6,7,7,7,8,7)
     5 9242 04 06 06 06 07 07 + 			dta b(4,6,6,6,7,7,8,7)
     6 924A 04 05 05 06 06 07 + 			dta b(4,5,5,6,6,7,7,7)
     7 9252 04 05 05 05 05 05 + 			dta b(4,5,5,5,5,5,6,7)
     8 925A 04 06 05 05 05 05 + 			dta b(4,6,5,5,5,5,5,6)
     9 							
    10 9262 0E 02 0A 06		fazaTab1	dta b(14,2,10,6)
    11
    12 = 0586			P2=1414
    13 = 0A35			P5=2613	;P5=2236		
    14 = 043A			P6=1082
    15 9266			enemyTab2
    16 9266			.local speed0
    17 = 003B			d0=59
    18 = 0040			d1=d0*110/100	;+10%
    19 = 003D			d2=d0*105/100	
    20 = 002D			w1=d1*1000/P2
    21 = 0017			w2=d2*1000/P5
    22 = 0038			w3=d2*1000/P6
    23 9266 00 17 2D 38 3B 38 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    24 9276 C5 C8 D3 E9 00 17 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    25 				.endl			
    26 9286			.local speed1
    27 = 003F			d0=63
    28 = 0046			d1=d0*112/100	;+12%
    29 = 0042			d2=d0*106/100
    30 = 0031			w1=d1*1000/P2
    31 = 0019			w2=d2*1000/P5
    32 = 003C			w3=d2*1000/P6
    33 9286 00 19 31 3C 3F 3C + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    34 9296 C1 C4 CF E7 00 19 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    35 				.endl					
    36 92A6			.local speed2
    37 = 0044			d0=68
    38 = 004E			d1=d0*115/100	;+15%
    39 = 0048			d2=d0*107/100
    40 = 0037			w1=d1*1000/P2
    41 = 001B			w2=d2*1000/P5
    42 = 0042			w3=d2*1000/P6
    43 92A6 00 1B 37 42 44 42 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    44 92B6 BC BE C9 E5 00 1B + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    45 				.endl	
    46 92C6			.local speed3
    47 = 0048			d0=72
    48 = 0056			d1=d0*120/100	;+20%
    49 = 004F			d2=d0*110/100
    50 = 003C			w1=d1*1000/P2
    51 = 001E			w2=d2*1000/P5
    52 = 0049			w3=d2*1000/P6
    53 92C6 00 1E 3C 49 48 49 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    54 92D6 B8 B7 C4 E2 00 1E + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    55 				.endl	
    56 92E6			.local speed4
    57 = 004E			d0=78
    58 = 0061			d1=d0*125/100	;+25%
    59 = 0057			d2=d0*112/100
    60 = 0044			w1=d1*1000/P2
    61 = 0021			w2=d2*1000/P5
    62 = 0050			w3=d2*1000/P6
    63 92E6 00 21 44 50 4E 50 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    64 92F6 B2 B0 BC DF 00 21 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    65 				.endl	
    66 9306			.local speed5
    67 = 0054			d0=84
    68 = 006D			d1=d0*130/100	;+30%
    69 = 0060			d2=d0*115/100
    70 = 004D			w1=d1*1000/P2
    71 = 0024			w2=d2*1000/P5
    72 = 0058			w3=d2*1000/P6
    73 9306 00 24 4D 58 54 58 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    74 9316 AC A8 B3 DC 00 24 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    75 				.endl			
    76 9326			.local speed6
    77 = 0058			d0=88
    78 = 0076			d1=d0*135/100	;+35%
    79 = 0065			d2=d0*115/100
    80 = 0053			w1=d1*1000/P2
    81 = 0026			w2=d2*1000/P5
    82 = 005D			w3=d2*1000/P6
    83 9326 00 26 53 5D 58 5D + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    84 9336 A8 A3 AD DA 00 26 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    85 				.endl	
    86 9346			.local speed7
    87 = 005E			d0=94
    88 = 0083			d1=d0*140/100	;+40%
    89 = 006D			d2=d0*117/100
    90 = 005C			w1=d1*1000/P2
    91 = 0029			w2=d2*1000/P5
    92 = 0064			w3=d2*1000/P6
    93 9346 00 29 5C 64 5E 64 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    94 9356 A2 9C A4 D7 00 29 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    95 				.endl	
    96
    97 									
    98 							
    99 				;Ucieczka przeciwnikow, korekcja ich lotu
   100 = 9366			Ucieczka	equ *
   101 9366 A0 00				ldy #0
   102 9368 BD 43 32				lda enemyY0,x
   103 936B 30 06				bmi @+		;jesli wartosc ujemna to przyjmij 0
   104 936D C9 0E				cmp #14
   105 936F 90 02				bcc @+
   106 9371 A0 02				ldy #2
   107
   108 9373 BD 37 32		@		lda enemyX0,x
   109 9376 30 05				bmi @+
   110 9378 C9 10				cmp #16
   111 937A 90 01				bcc @+
   112 937C C8					iny
   113 937D B9 62 92		@		lda fazaTab1,y		
   114 								
   115 9380 38					sec
   116 9381 FD 61 32				sbc enemyFaza,x
   117
   118 9384 29 0F				and #%1111
   119 9386 D0 01				bne @+
   120 9388 60					rts			;nie zmieniaj fazy , sa rÃ³wne
   121 						
   122 9389 C9 08		@		cmp #8
   123 938B B0 0B				bcs @+
   124 						;clc
   125 938D BD 61 32				lda enemyFaza,x
   126 9390 69 01				adc #1
   127 9392 29 0F				and #%1111
   128 9394 9D 61 32				sta enemyFaza,x
   129 9397 60					rts
   130 9398 BD 61 32		@		lda enemyFaza,x
   131 						;sec
   132 939B E9 01				sbc #1
   133 939D 29 0F				and #%1111
   134 939F 9D 61 32				sta enemyFaza,x
   135 93A2 60					rts				
   136 					
   137 				;korekcja kÄ…tu lotu
   138 = 93A3			korekcjaLotu	equ *
   139 93A3 A0 00				ldy #0
   140 93A5 BD 43 32				lda enemyY0,x
   141 93A8 18					clc
   142 93A9 69 01				adc #1
   143 						
   144 93AB 10 02				bpl @+		;jesli wartosc ujemna to przyjmij 0
   145 93AD A9 00				lda #0
   146 93AF 4A			@		lsr
   147 93B0 C9 07				cmp #7
   148 93B2 90 0A				bcc @+
   149 93B4 A0 02				ldy #2
   150 93B6 49 FF				eor #255
   151 93B8 69 0D				adc #13		;c=1 +1
   152 93BA 10 02				bpl @+
   153 93BC A9 00				lda #0
   154 93BE 0A			@		asl 
   155 93BF 0A					asl
   156 93C0 0A					asl
   157 93C1 85 A5				sta pom0
   158
   159 93C3 BD 37 32				lda enemyX0,x
   160 93C6 18					clc
   161 93C7 69 01				adc #1
   162 93C9 10 02				bpl @+
   163 93CB A9 00				lda #0
   164 93CD 4A			@		lsr
   165 93CE C9 08				cmp #8
   166 93D0 90 09				bcc @+
   167 93D2 C8					iny
   168 93D3 49 FF				eor #255		;II lub III cwiartka
   169 93D5 69 0F				adc #15		;c=1 +1 zmiana znaku
   170 93D7 10 02				bpl @+
   171 93D9 A9 00				lda #0		;poza ekranem
   172 93DB 05 A5		@		ora pom0
   173 93DD 84 A3				sty pom4
   174 93DF A8					tay
   175 93E0 B9 2A 92				lda fazaTab,y
   176
   177 93E3 A4 A3				ldy pom4
   178 						
   179 93E5 C0 01				cpy #1
   180 93E7 F0 04				beq @+
   181 93E9 C0 02				cpy #2
   182 93EB D0 05				bne @+1
   183 						
   184 93ED 49 FF		@		eor #255
   185 93EF 38					sec
   186 93F0 69 08				adc #8
   187 						
   188 93F2 C0 00		@		cpy #0
   189 93F4 F0 07				beq @+
   190 93F6 C0 02				cpy #2
   191 93F8 F0 03				beq @+
   192 						
   193 93FA 18					clc
   194 93FB 69 08				adc #8
   195 								
   196 93FD 38			@		sec
   197 93FE FD 61 32				sbc enemyFaza,x
   198
   199 9401 29 0F				and #%1111
   200 9403 D0 01				bne @+
   201 9405 60					rts			;nie zmieniaj fazy , sa rÃ³wne
   202 						
   203 9406 C9 08		@		cmp #8
   204 9408 B0 0B				bcs @+
   205 						;clc
   206 940A BD 61 32				lda enemyFaza,x
   207 940D 69 01				adc #1
   208 940F 29 0F				and #%1111
   209 9411 9D 61 32				sta enemyFaza,x
   210 9414 60					rts
   211 9415 BD 61 32		@		lda enemyFaza,x
   212 						;sec
   213 9418 E9 01				sbc #1
   214 941A 29 0F				and #%1111
   215 941C 9D 61 32				sta enemyFaza,x
   216 941F 60					rts		
   217 						
   218 = 9420			dodaj_przeciwnika	equ *	
   219 9420 CE 60 36				dec dlicz1
   220 9423 F0 01				beq @+
   221 9425 60					rts
   222 9426 AD 5E 36 8D 60 36	@		mva opoz_denemy dlicz1
   223 						
   224 942C AD 1D 34				lda formacja_stan
   225 942F F0 01				beq *+3
   226 9431 60					rts		;jesli wlaczona formacja to nie dodawaj nowych statkow
   227 						
   228 9432 AD 52 36				lda ile_enemy		;ilu przeciwnikow jest na ekranie
   229 9435 CD 51 36				cmp max_enemy		;czy jest maksymalna ilosc?
   230 9438 90 01				bcc @+
   231 943A 60					rts			;wystarczy;)
   232 						
   233 943B AD 0A E8		@		lda random		;czy ma sie pojawiÄ‡?losuj
   234 943E 29 07				and #%111
   235 9440 C9 04				cmp #%100
   236 9442 D0 01				bne @+
   237 9444 60					rts			;nie
   238 						
   239 9445 A2 04		@		ldx #4		;szukaj nieuzywanego przeciwnika
   240 9447 BD 1F 32		@		lda enemy,x
   241 944A F0 1E				beq @+
   242 944C CA					dex
   243 944D 10 F8				bpl @-
   244 944F 60					rts		;zabezpieczenie jak beda wszystki zajete (nie powinno sie zdazyc!)
   245
   246 = 9450			dod_en1	equ *		;miejsce dodania enemy X
   247 9450 AD 52 36				lda ile_enemy		;czy dodajemy enemy podczas formacji?
   248 9453 C9 05				cmp #5
   249 9455 90 01				bcc *+3
   250 9457 60					rts
   251 9458 AD 1F 32				lda enemy
   252 945B F0 01				beq *+3
   253 945D 60					rts
   254 						
   255 945E CE 60 36				dec dlicz1		;dodajmy opoznienie
   256 9461 F0 01				beq *+3
   257 9463 60					rts
   258 9464 AD 5E 36 8D 60 36			mva opoz_denemy dlicz1 
   259 						
   260 946A A9 01		@		lda #1
   261 946C 9D 2B 32				sta enemyEkran,x		;1 na starcie
   262 946F AD 0A E8				lda random		;wylosuj pozyccje startowa
   263 9472 29 0F				and #%1111
   264 9474 A8					tay
   265 9475 18					clc
   266 9476 B9 C7 94				lda enemyTab1,y
   267 9479 65 BA				adc posX
   268 947B 29 7F				and #127
   269 947D 9D 31 32				sta enemyX,x
   270 9480 AD 0A E8				lda random
   271 9483 29 E0				and #%11100000
   272 9485 9D 49 32				sta enemyDX,x
   273 9488 18					clc
   274 9489 B9 D7 94				lda enemyTab1+16,y
   275 948C 65 BB				adc posY
   276 948E 9D 3D 32				sta enemyY,x
   277 9491 AD 0A E8				lda random
   278 9494 29 E0				and #%11100000
   279 9496 9D 55 32				sta enemyDY,x
   280 9499 A9 00				lda #EKOLOR0
   281 949B 9D 67 32				sta enemyNegatyw,x
   282 949E B9 E7 94				lda enemyTab1+32,y
   283 94A1 9D 61 32				sta enemyFaza,x
   284
   285 94A4 AD 0A E8				lda random		;losuj kolor i ksztalt
   286 94A7 29 03				and #3
   287 94A9 18					clc
   288 94AA 69 41				adc #>enemy1shapetab 
   289 94AC 9D 73 32				sta enemyShapeH,x
   290
   291 							
   292 						
   293 94AF EE 52 36				inc ile_enemy		;zwieksz liczbe obecnych przeciwnikow
   294 94B2 A9 01 9D 1F 32			mva #1 enemy,x
   295 94B7 A9 00 9D 25 32			mva #0 enemyWybuch,x
   296 94BC A9 14 9D 8D 36			mva #20 enRotate,x
   297 94C1 A9 78 9D 93 36			mva #115+5 enLicznik,x
   298 						
   299 94C6 60					rts
   300 								
   301 						
   302 						
   303 94C7 FE 04 1B 21 21 1B + enemyTab1	dta b(-2,4,27,33,33,27,4,-2)
   304 94CF 0D 12 21 21 12 0D + 			dta b(13,18,33,33,18,13,-2,-2)
   305 							
   306 94D7 04 FE FE 04 18 1E + 			dta b(4,-2,-2,4,24,30,30,24)
   307 94DF FE FE 0C 11 1E 1E + 			dta b(-2,-2,12,17,30,30,12,17)
   308 							
   309 94E7 05 07 09 0B 0D 0E + 			dta b(5,7,9,11,13,14,2,1)
   310 94EF 08 08 0C 0C 00 00 + 			dta b(8,8,12,12,0,0,4,4)	
   311
   312 				;poruszaj przeciwnikami
   313 = 94F7			moveEnemy	equ *
   314 94F7 AD 53 36				lda jestSpy
   315 94FA F0 09				beq @+
   316 94FC AD 2A 32				lda enemyWybuch+5
   317 94FF F0 04				beq @+
   318 9501 A2 05				ldx #5
   319 9503 D0 0F				bne @+1		;jmp, jesli spy jest w trakcie wybuchu
   320
   321 9505 AD 1D 34		@		lda formacja_stan
   322 9508 C9 03				cmp #3
   323 950A 90 08				bcc @+
   324 950C C9 05				cmp #5
   325 950E F0 04				beq @+
   326 9510 A2 00				ldx #0		;obsluguj tylko zerowego enemy
   327 9512 F0 02				beq @+1
   328 						
   329
   330 9514 A2 04		@		ldx #4		;maks 4 przeciwnikow
   331 = 9516			@		equ *
   332 9516 BD 1F 32				lda enemy,x
   333 9519 D0 04				bne @+
   334 951B CA			mven1	dex
   335 951C 10 F8				bpl @-
   336 951E 60					rts
   337 						
   338 = 951F			@		equ *		;animuj przeciwnika
   339 						
   340 951F BD 2B 32				lda enemyEkran,x
   341 9522 F0 17				beq @+
   342 						
   343 						
   344 9524 BC 93 36				ldy enLicznik,x		;jak dÅ‚ugo przeciwnik jest na ekranie
   345 9527 C0 68				cpy #104
   346 9529 B0 10				bcs @+				;jeÅ›li >11 to nie usuwaj go jeszcze
   347 						
   348 952B A9 00 9D 1F 32			mva #0 enemy,x		;poza ekranem
   349 9530 9D 25 32				sta enemyWybuch,x
   350 9533 CE 52 36				dec ile_enemy
   351 9536 86 DF				stx lastEnemy		;zaoamietaj ostatnio usunietego przeciwnika
   352 9538 4C 1B 95				jmp mven1
   353 						
   354 						
   355 953B BD 25 32		@		lda enemyWybuch,x
   356 953E F0 06				beq @+ 			
   357 9540 BD 79 32				lda enemyLastFaza,x		;wybuch nie podlega korekcji lotu
   358 9543 4C 89 95				jmp mvruch1
   359 						
   360 9546 BD 93 36		@		lda enLicznik,x		;czas zycia enemy
   361 9549 F0 0C				beq @+
   362 954B C9 68				cmp #104
   363 954D 90 05				bcc enzm1
   364 954F BD 2B 32				lda enemyEkran,x
   365 9552 D0 03				bne @+
   366 = 9554			enzm1	equ *
   367 9554 DE 93 36				dec enLicznik,x
   368 						
   369 9557 DE 8D 36		@		dec enRotate,x		;czas do korekcji ruchu
   370 955A D0 1E				bne mvruch
   371 						
   372 955C AD 67 36				lda rotate_speed1		;normalny obrot
   373 955F BC 73 32				ldy enemyShapeH,x
   374 9562 C0 43				cpy #>enemy3ShapeTab
   375 9564 90 03				bcc @+
   376 9566 AD 68 36				lda rotate_speed2		;2 ksztalt,szybciej sie obraca
   377 9569 9D 8D 36		@		sta enRotate,x
   378
   379 956C BD 93 36				lda enLicznik,x
   380 956F D0 06				bne @+
   381 9571 20 66 93				jsr Ucieczka
   382 9574 4C 7A 95				jmp mvruch
   383 9577 20 A3 93		@		jsr korekcjaLotu
   384 						
   385 957A BD 61 32		mvruch	lda enemyFaza,x			;przesun duszka
   386 957D BC 93 36				ldy enLicznik,x
   387 9580 C0 6D				cpy #104+5			;jesli >240 to podwojna predkosc
   388 9582 90 05				bcc mvruch1
   389 9584 09 E0				ora #$e0
   390 9586 4C A2 95				jmp @+1		
   391 						
   392 9589 AC 1D 34		mvruch1	ldy formacja_stan	
   393 958C C0 02				cpy #2		;jesli 1 to formacja czeka
   394 958E 90 0F				bcc @+				;jeÅ›li brak formacji to nie zmieniaj predkosci
   395 9590 E0 00				cpx #0
   396 9592 F0 0B				beq @+				;jesli jest formacja to enemy 0 porusza siÄ™ z normalna predkoscia
   397 9594 BC 25 32				ldy enemyWybuch,x	; nie przyspieszaj poruszania siÄ™ wybuchu podczas formacji
   398 9597 D0 06				bne @+
   399 9599 0D 64 36				ora formacja_speed	;formacja ma swojÄ… predkoÅ›Ä‡
   400 959C 4C A2 95				jmp @+1
   401 959F 0D 8A 36		@		ora speedEnemy
   402 95A2 A8			@		tay
   403 95A3 18					clc
   404 95A4 BD 49 32				lda enemyDX,x
   405 95A7 79 66 92				adc enemyTab2,y
   406 95AA 9D 49 32				sta enemyDX,x
   407 95AD 90 12				bcc @+			
   408 95AF B9 66 92				lda enemyTab2,y
   409 95B2 30 1C				bmi @+1		;przepeÅ‚nienie byÅ‚o spowodowane odejmowaniem
   410 95B4 FE 31 32				inc enemyX,x
   411 95B7 10 17				bpl @+1
   412 95B9 A9 00 9D 31 32			mva #0 enemyX,x
   413 95BE 4C D0 95				jmp @+1	;jmp
   414 95C1 B9 66 92		@		lda enemyTab2,y
   415 95C4 10 0A				bpl @+
   416 95C6 DE 31 32				dec enemyX,x
   417 95C9 10 05				bpl @+
   418 95CB A9 7F 9D 31 32			mva #127 enemyX,x
   419 95D0 18			@		clc
   420 95D1 BD 55 32				lda enemyDY,x
   421 95D4 79 76 92				adc enemyTab2+16,y
   422 95D7 9D 55 32				sta enemyDY,x
   423 95DA 90 0B				bcc @+
   424 95DC B9 76 92				lda enemyTab2+16,y
   425 95DF 30 0E				bmi @+1
   426 95E1 FE 3D 32				inc enemyY,x
   427 95E4 4C 1B 95				jmp mven1
   428 95E7 B9 76 92		@		lda enemyTab2+16,y
   429 95EA 10 03				bpl @+
   430 95EC DE 3D 32				dec enemyY,x
   431
   432 95EF 4C 1B 95		@		jmp mven1		;next
   433 						
   434 						
   435 						
   436 				;Narysuj wszystkich przeciwnikow, lub ewentualne wybuchy
   437 = 95F2			rysujEnemy	equ *
   438 95F2 A2 05				ldx #5		;maksymalna ilosc przeciwnikow	
   439 95F4 BD 1F 32		@		lda enemy,x
   440 95F7 F0 08				beq ren1
   441 95F9 BD 25 32				lda enemyWybuch,x
   442 95FC D0 07				bne @+
   443 95FE 20 5A 3A				jsr duszkiPrint		;rysujemy przeciwnika nr X
   444 9601 CA			ren1		dex
   445 9602 10 F0				bpl @-
   446 9604 60					rts
   447 							
   448 9605 AC 1D 34		@		ldy formacja_stan
   449 9608 F0 1B				beq @+1
   450 960A E0 00				cpx #0
   451 960C F0 17				beq @+1
   452 960E C9 08				cmp #8
   453 9610 D0 03				bne @+
   454 9612 EE 99 36				inc formacja_zbite		;zwieksz liczbe zbitych przeciwnikow z formacji
   455 9615 C9 01		@		cmp #1
   456 9617 D0 0C				bne @+
   457 9619 BC 31 32 8C BE 35			mvy enemyX,x spyScoreX
   458 961F BC 3D 32 8C BF 35			mvy enemyY,x spyScoreY
   459 						
   460 9625 38			@		sec			;rysujemy wybuch
   461 9626 E9 01				sbc #1
   462 9628 4A					lsr 
   463 9629 9D 61 32				sta enemyFaza,x
   464 962C 20 5A 3A				jsr duszkiPrint
   465 962F D0 05				bne @+
   466 9631 DE 25 32				dec enemyWybuch,x
   467 9634 D0 CB				bne ren1
   468 9636 A9 00 9D 25 32	@		mva #0 enemyWybuch,x
   469 963B 9D 1F 32				sta enemy,x
   470 963E A9 01 9D 2B 32			mva #1 enemyEkran,x
   471 9643 86 DF				stx lastEnemy
   472 						
   473 9645 E0 05				cpx #5
   474 9647 D0 05				bne @+
   475 9649 AD 1D 34				lda formacja_stan
   476 964C F0 B3				beq ren1		;jesli 5=spy to pomin
   477 964E CE 52 36		@		dec ile_enemy
   478 9651 4C 01 96				jmp ren1
   479 						
   480 					
   538 9654						icl 'bantyair.asm'
Source: bantyair.asm
     1 				;Obrona przeciwlotnicza
     2 				;opoznieniePocisku	equ 13
     3
     4 9654 40 50 10 14 04 05 + pociskiOra 		dta b(%01000000,%01010000,%00010000,%00010100,%00000100,%00000101,%00000101,%00000001)
     5 = 0004			bit1	equ 4
     6
     7 965C 00 09 12 1B		tabcan3cor_ad	dta b(0,9,18,27)
     8 9660 31 01 20 F4 DF E3 + tabcan3corB		dta b(%00110001,%00000001,%00100000,0-28+16,-18-32+17,-17-28+16,7-32+17,-17-28+16,-5-32+17)
     9 9669 07 01 04 F4 DF 04 + 				dta b(%00000111,%00000001,%00000100,0-28+16,-18-32+17,16-28+16,-5-32+17,16-28+16,7-32+17)
    10 9672 38 08 20 F4 04 E3 + 				dta b(%00111000,%00001000,%00100000,0-28+16,19-32+17,-17-28+16,7-32+17,-17-28+16,-5-32+17)
    11 967B 0E 08 04 F4 04 04 + 				dta b(%00001110,%00001000,%00000100,0-28+16,19-32+17,16-28+16,-5-32+17,16-28+16,7-32+17)
    12 								
    13 9684 23 20 02 DF F4 EC + tabcan3cor		dta b(%00100011,%00100000,%00000010,-18-32+17,0-28+16,-5-32+17,-17-28+16,8-32+17,-17-28+16)
    14 968D 07 04 02 04 F4 EC + 				dta b(%00000111,%00000100,%00000010,19-32+17,0-28+16,-5-32+17,-17-28+16,8-32+17,-17-28+16)
    15 9696 38 20 10 DF F4 F9 + 				dta b(%00111000,%00100000,%00010000,-18-32+17,0-28+16,8-32+17,16-28+16,-5-32+17,16-28+16)
    16 969F 1C 04 10 04 F4 F9 + 				dta b(%00011100,%00000100,%00010000,19-32+17,0-28+16,8-32+17,16-28+16,-5-32+17,16-28+16)
    17 								
    18 96A8 AA 7D 5E 4E 3F 2F + tabcankier		dta b($aa,$7d,$5e,$4e,$3f,$2f,$2f,$2f,$1f,$1f,$1f,$1f,$1f,$1f,$1f,0)	
    19 96B8 D6 AA 8C 6D 6E 5E + 				dta b($d6,$aa,$8c,$6d,$6e,$5e,$4e,$3e,$3e,$3e,$2e,$2e,$2f,$2f,$2f,0)
    20 96C8 E4 C8 AA 9C 7C 6D + 				dta b($e4,$c8,$aa,$9c,$7c,$6d,$6d,$5e,$4e,$4e,$4e,$3e,$3e,$3e,$3e,0)
    21 96D8 E3 D6 C9 AA 9B 8C + 				dta b($e3,$d6,$c9,$aa,$9b,$8c,$7d,$6d,$6d,$5e,$5e,$4e,$4e,$4e,$4e,0)
    22 96E8 E3 D5 C7 B9 AA 9B + 				dta b($e3,$d5,$c7,$b9,$aa,$9b,$8c,$8c,$7d,$6d,$6d,$5d,$5e,$5e,$4e,0)
    23 96F8 E2 E4 D6 C8 B9 AA + 				dta b($e2,$e4,$d6,$c8,$b9,$aa,$9b,$9c,$8c,$7c,$7d,$6d,$6d,$6d,$5e,0)
    24 9708 E2 E4 D6 D7 C8 B9 + 				dta b($e2,$e4,$d6,$d7,$c8,$b9,$aa,$9b,$9b,$8c,$8c,$7d,$7d,$6d,$6d,0)
    25 9718 E2 E3 E5 D6 C8 C9 + 				dta b($e2,$e3,$e5,$d6,$c8,$c9,$b9,$aa,$ab,$9b,$8c,$8c,$7c,$7d,$7d,0)
    26 9728 E1 E3 E4 D6 D7 C8 + 				dta b($e1,$e3,$e4,$d6,$d7,$c8,$b9,$b9,$aa,$ab,$9b,$9c,$8c,$8c,$7c,0)
    27 9738 E1 E3 E4 E5 D6 C7 + 				dta b($e1,$e3,$e4,$e5,$d6,$c7,$c8,$b9,$ba,$aa,$ab,$9b,$9b,$8c,$8c,0)
    28 9748 F1 E2 E4 E5 D6 D7 + 				dta b($f1,$e2,$e4,$e5,$d6,$d7,$c8,$c8,$b9,$ba,$aa,$ab,$9b,$9b,$8c,0)
    29 9758 F1 E2 E3 E4 D5 D6 + 				dta b($f1,$e2,$e3,$e4,$d5,$d6,$d7,$c8,$c9,$b9,$ba,$aa,$ab,$9b,$9b,0)
    30 9768 F1 F2 E3 E4 E5 D6 + 				dta b($f1,$f2,$e3,$e4,$e5,$d6,$d7,$c7,$c8,$b9,$b9,$ba,$aa,$ab,$9b,0)
    31 9778 F1 F2 E3 E4 E5 D6 + 				dta b($f1,$f2,$e3,$e4,$e5,$d6,$d6,$d7,$c8,$c8,$b9,$b9,$ba,$aa,$ab,0)
    32
    33 							
    34 = 9788			antyair1	equ *
    35 9788 A5 C3				lda startMapy
    36 978A F0 01				beq *+3
    37 978C 60					rts
    38
    39 978D CE 14 31				dec antyairOpoznienie
    40 9790 F0 01				beq *+3
    41 9792 60					rts
    42 9793 A9 01 8D 14 31			mva #1 antyairOpoznienie
    43 9798 AD 0E 36				lda liczbaPociskow
    44 979B C5 CA				cmp maxPociskow1
    45 979D 90 01				bcc *+3
    46 979F 60					rts
    47 97A0 AE 71 36				ldx licznikBazyEkran
    48 97A3 D0 01				bne *+3
    49 97A5 60					rts
    50
    51 97A6 20 56 9A				jsr wylosujbaze
    52 						
    53 97A9 BC 73 36				ldy bazyEkran,x
    54 97AC 88					dey
    55 97AD B9 90 02				lda bazyRodzaj,y
    56 97B0 F0 03				beq @+		;baza typu A
    57 97B2 4C B2 98				jmp antB1
    58 						
    59 = 97B5			@		equ *	;Baza typu A
    60 97B5 A2 00				ldx #0	;nr cwiartki
    61
    62 97B7 18					clc
    63 97B8 B9 F0 02				lda bazyY0,y
    64 97BB 69 07				adc #7
    65 97BD 0A 0A				:2 asl
    66 97BF 85 A9				sta pom0d
    67 97C1 38					sec
    68 97C2 E5 C9				sbc movy0
    69 97C4 38					sec
    70 97C5 E9 43				sbc #67
    71 97C7 10 04				bpl @+
    72 97C9 A2 02				ldx #2
    73 97CB 49 FF				eor #255
    74
    75 97CD C9 44		@		cmp #68		;czy spelnia zakres
    76 97CF 90 01				bcc @+
    77 97D1 60					rts
    78 						
    79 97D2 85 AB		@		sta pom0f
    80 97D4 18					clc
    81 97D5 B9 D0 02				lda bazyX0,y
    82 97D8 69 08				adc #8
    83 97DA 0A 0A				:2 asl
    84 97DC 85 A8				sta pom0c
    85 97DE 38					sec
    86 97DF E5 C8				sbc movx0
    87 97E1 38					sec
    88 97E2 E9 4F				sbc #79
    89 97E4 10 03				bpl @+
    90 97E6 E8					inx
    91 97E7 49 FF				eor #255
    92 						
    93 97E9 C9 4E		@		cmp #78		;czy speÅ‚nia zakres
    94 97EB 90 01				bcc @+
    95 97ED 60					rts
    96 						
    97 97EE 85 AA		@		sta pom0e
    98 97F0 BD 5C 96				lda tabcan3cor_ad,x		;pobieramy adres tablicy z korekcjami 3 dziaÅ‚ek dla danej cwiartki
    99 97F3 AA					tax
   100 97F4 B9 A0 02				lda bazyStan,y
   101 97F7 3D 84 96				and tabcan3cor,x		;porownaj z maskÄ… tych dziaÅ‚ek, sprawdzamy czy nie sÄ… wszystkie zestrzelone
   102 97FA D0 01				bne @+
   103 97FC 60					rts			;brak tych dziaÅ‚ek
   104 						
   105 97FD DD 85 96		@		cmp tabcan3cor+1,x
   106 9800 F0 18				beq _bokA
   107 9802 3D 85 96				and tabcan3cor+1,x		;czy jest pion i poziom?
   108 9805 F0 36				beq _goradolA
   109 						
   110 9807 A5 AB				lda pom0f
   111 9809 C9 11				cmp #17
   112 980B 90 0D				bcc _bokA
   113 980D A5 AA				lda pom0e
   114 980F C9 13				cmp #19
   115 9811 90 2A				bcc _goradolA
   116 						
   117 9813 AD 0A E8				lda random		;sÄ… oba losujemy ktÃ³re mogÄ… strzelac
   118 9816 29 04				and #bit1
   119 9818 F0 23				beq _goradolA
   120 						
   121 = 981A			_bokA	equ *		;strzela boczne dzialko
   122 981A A5 AA				lda pom0e
   123 981C C9 13				cmp #19
   124 981E B0 01				bcs @+
   125 9820 60					rts
   126 9821 18			@		clc
   127 9822 A5 A8				lda pom0c
   128 9824 7D 87 96				adc tabcan3cor+3,x
   129 9827 85 A6				sta pom0a		;pozycja X pocisku
   130 9829 18					clc
   131 982A A5 A9				lda pom0d
   132 982C 7D 88 96				adc tabcan3cor+4,x
   133 982F 85 A7				sta pom0b		;pozycja Y pocisku
   134 9831 A9 FF 85 9B				mva #$ff pom
   135 9835 AD 5C 36 85 9D			mva kat2 pom1
   136 983A 4C AF 99				jmp dodajPocisk
   137
   138 = 983D			_goradolA	equ *		;strzelaja dzialka gorne lub dolne zaleznie od polozenia		
   139 983D A5 AB				lda pom0f
   140 983F C9 11				cmp #17
   141 9841 B0 01				bcs @+
   142 9843 60					rts
   143 9844 BD 84 96		@		lda tabcan3cor,x
   144 9847 5D 85 96				eor tabcan3cor+1,x
   145 984A 39 A0 02				and bazyStan,y
   146 984D DD 86 96				cmp tabcan3cor+2,x
   147 9850 90 28				bcc _pierwszeA
   148 9852 F0 42				beq _drugieA
   149 							
   150 				;sÄ… oba
   151 9854 AD 0E 36		@		lda liczbaPociskow
   152 9857 CD 6B 36				cmp maxPociskow
   153 985A B0 17				bcs @+				;za malo dostepnych pociskow , strzela tylko 1 dzialko
   154 						
   155 985C A5 AA				lda pom0e
   156 985E C9 11				cmp #17
   157 9860 B0 11				bcs @+			;jeÅ›li statek jest daleko to strzela tylko 1 dzialko
   158 						
   159 9862 AD 0A E8				lda random			;czy maja strzelic oba naraz?
   160 9865 29 04				and #bit1
   161 9867 F0 0A				beq @+		
   162 9869 86 A5				stx pom0
   163 986B 20 7A 98				jsr _pierwszeA		;strzelajÄ… oba
   164 986E A6 A5				ldx pom0
   165 9870 4C 96 98				jmp _drugieA
   166 						
   167 9873 AD 0A E8		@		lda random 
   168 9876 29 04				and #bit1
   169 9878 F0 1C				beq _drugieA
   170 						
   171 = 987A			_pierwszeA	equ *		;strzela pierwsze
   172 987A 18					clc
   173 987B A5 A8				lda pom0c
   174 987D 7D 89 96				adc tabcan3cor+5,x
   175 9880 85 A6				sta pom0a
   176 9882 18					clc
   177 9883 A5 A9				lda pom0d
   178 9885 7D 8A 96				adc tabcan3cor+6,x
   179 9888 85 A7				sta pom0b
   180 988A AD 5B 36 85 9B			mva kat1 pom		;typ dziaÅ‚ka 
   181 988F A9 FF 85 9D				mva #$ff pom1
   182 9893 4C AF 99				jmp dodajPocisk
   183 = 9896			_drugieA	equ *		;strzela drugie
   184 9896 18					clc
   185 9897 A5 A8				lda pom0c
   186 9899 7D 8B 96				adc tabcan3cor+7,x
   187 989C 85 A6				sta pom0a
   188 989E 18					clc
   189 989F A5 A9				lda pom0d
   190 98A1 7D 8C 96				adc tabcan3cor+8,x
   191 98A4 85 A7				sta pom0b
   192 98A6 AD 5B 36 85 9B			mva kat1 pom
   193 98AB A9 FF 85 9D				mva #$ff pom1
   194 98AF 4C AF 99				jmp dodajPocisk
   195 						
   196 						
   197 = 98B2			antB1	equ *	
   198 98B2 A2 00				ldx #0	;nr cwiartki
   199
   200 98B4 18					clc
   201 98B5 B9 F0 02				lda bazyY0,y
   202 98B8 69 08				adc #8
   203 98BA 0A 0A				:2 asl
   204 98BC 85 A9				sta pom0d
   205 98BE 38					sec
   206 98BF E5 C9				sbc movy0
   207 98C1 38					sec
   208 98C2 E9 46				sbc #70
   209 98C4 10 04				bpl @+
   210 98C6 A2 02				ldx #2
   211 98C8 49 FF				eor #255
   212
   213 98CA C9 44		@		cmp #68		;czy spelnia zakres
   214 98CC 90 01				bcc @+
   215 98CE 60					rts
   216 						
   217 98CF 85 AB		@		sta pom0f
   218 98D1 18					clc
   219 98D2 B9 D0 02				lda bazyX0,y
   220 98D5 69 07				adc #7
   221 98D7 0A 0A				:2 asl
   222 98D9 85 A8				sta pom0c
   223 98DB 38					sec
   224 98DC E5 C8				sbc movx0
   225 98DE 38					sec
   226 98DF E9 4C				sbc #76
   227 98E1 10 03				bpl @+
   228 98E3 E8					inx
   229 98E4 49 FF				eor #255
   230 						
   231 98E6 C9 4E		@		cmp #78		;czy speÅ‚nia zakres
   232 98E8 90 01				bcc @+
   233 98EA 60					rts
   234 						
   235 98EB 85 AA		@		sta pom0e
   236 98ED BD 5C 96				lda tabcan3cor_ad,x		;pobieramy adres tablicy z korekcjami 3 dziaÅ‚ek dla danej cwiartki
   237 98F0 AA					tax
   238 98F1 B9 A0 02				lda bazyStan,y
   239 98F4 3D 60 96				and tabcan3corB,x		;porownaj z maskÄ… tych dziaÅ‚ek, sprawdzamy czy nie sÄ… wszystkie zestrzelone
   240 98F7 D0 01				bne @+
   241 98F9 60					rts			;brak tych dziaÅ‚ek
   242 						
   243 98FA DD 61 96		@		cmp tabcan3corB+1,x
   244 98FD F0 18				beq _bokB
   245 98FF 3D 61 96				and tabcan3corB+1,x		;czy jest pion i poziom?
   246 9902 F0 36				beq _goradolB
   247 						
   248 9904 A5 AA				lda pom0e
   249 9906 C9 11				cmp #17
   250 9908 90 0D				bcc _bokB
   251 						
   252 990A A5 AB				lda pom0f
   253 990C C9 13				cmp #19
   254 990E 90 2A				bcc _goradolB
   255 						
   256 9910 AD 0A E8				lda random		;sÄ… oba losujemy ktÃ³re mogÄ… strzelac
   257 9913 29 04				and #bit1
   258 9915 D0 23				bne _goradolB
   259 						
   260 = 9917			_bokB	equ *		;strzela pojedyncze dzialko
   261 9917 A5 AB				lda pom0f
   262 9919 C9 13				cmp #19
   263 991B B0 01				bcs @+
   264 991D 60					rts
   265 991E 18			@		clc
   266 991F A5 A8				lda pom0c
   267 9921 7D 63 96				adc tabcan3corB+3,x
   268 9924 85 A6				sta pom0a		;pozycja X pocisku
   269 9926 18					clc
   270 9927 A5 A9				lda pom0d
   271 9929 7D 64 96				adc tabcan3corB+4,x
   272 992C 85 A7				sta pom0b		;pozycja Y pocisku
   273 992E AD 5B 36 85 9B			mva kat1 pom
   274 9933 A9 FF 85 9D				mva #$ff pom1
   275 9937 4C AF 99				jmp dodajPocisk
   276
   277 = 993A			_goradolB	equ *		;strzelaja dzialka podwojne 		
   278 993A A5 AA				lda pom0e
   279 993C C9 11				cmp #17
   280 993E B0 01				bcs @+
   281 9940 60					rts
   282 9941 BD 60 96		@		lda tabcan3corB,x
   283 9944 5D 61 96				eor tabcan3corB+1,x
   284 9947 39 A0 02				and bazyStan,y
   285 994A DD 62 96				cmp tabcan3corB+2,x
   286 994D 90 28				bcc _pierwszeB
   287 994F F0 42				beq _drugieB
   288 							
   289 				;sÄ… oba
   290 9951 AD 0E 36		@		lda liczbaPociskow
   291 9954 CD 6B 36				cmp maxPociskow
   292 9957 B0 17				bcs @+				;za malo dostepnych pociskow , strzela tylko 1 dzialko
   293 						
   294 9959 A5 AB				lda pom0f
   295 995B C9 13				cmp #19
   296 995D B0 11				bcs @+			;jeÅ›li statek jest daleko to strzela tylko 1 dzialko
   297 						
   298 995F AD 0A E8				lda random			;czy maja strzelic oba naraz?
   299 9962 29 04				and #bit1
   300 9964 F0 0A				beq @+		
   301 9966 86 A5				stx pom0
   302 9968 20 77 99				jsr _pierwszeB		;strzelajÄ… oba
   303 996B A6 A5				ldx pom0
   304 996D 4C 93 99				jmp _drugieB
   305 						
   306 9970 AD 0A E8		@		lda random 
   307 9973 29 04				and #bit1
   308 9975 F0 1C				beq _drugieB
   309 						
   310 = 9977			_pierwszeB	equ *		;strzela pierwsze
   311 9977 18					clc
   312 9978 A5 A8				lda pom0c
   313 997A 7D 65 96				adc tabcan3corB+5,x
   314 997D 85 A6				sta pom0a
   315 997F 18					clc
   316 9980 A5 A9				lda pom0d
   317 9982 7D 66 96				adc tabcan3corB+6,x
   318 9985 85 A7				sta pom0b
   319 9987 A9 FF 85 9B				mva #$ff pom		;typ dziaÅ‚ka 
   320 998B AD 5C 36 85 9D			mva kat2 pom1
   321 9990 4C AF 99				jmp dodajPocisk
   322 = 9993			_drugieB	equ *		;strzela drugie
   323 9993 18					clc
   324 9994 A5 A8				lda pom0c
   325 9996 7D 67 96				adc tabcan3corB+7,x
   326 9999 85 A6				sta pom0a
   327 999B 18					clc
   328 999C A5 A9				lda pom0d
   329 999E 7D 68 96				adc tabcan3corB+8,x
   330 99A1 85 A7				sta pom0b
   331 99A3 A9 FF 85 9B				mva #$ff pom
   332 99A7 AD 5C 36 85 9D			mva kat2 pom1
   333 99AC 4C AF 99				jmp dodajPocisk
   334 						
   335 						
   336 						
   337 						
   338 						
   339 = 99AF			dodajPocisk	equ *
   340 99AF AC 6B 36				ldy maxPociskow	;wybierz wolny pocisk
   341 99B2 B9 C3 35		@		lda pociski,y
   342 99B5 30 03				bmi @+
   343 99B7 88					dey
   344 99B8 10 F8				bpl @-
   345 						
   346 									
   347 99BA A5 A6		@		lda pom0a
   348 99BC 18					clc
   349 99BD E5 C8				sbc movx0
   350 99BF 38					sec
   351 99C0 E9 3F				sbc #63
   352 99C2 99 04 36				sta pociskiZnakX,y		;kierunek ruchu, <0 prawo, >0 lewo
   353 99C5 18					clc
   354 99C6 10 03				bpl @+
   355 99C8 49 FF				eor #255
   356 99CA 38					sec				;przy zmianie znaku +1
   357 99CB 69 01		@		adc #1			;zaokrÄ…glenie
   358 99CD C9 40				cmp #64
   359 99CF 90 01				bcc @+
   360 99D1 60					rts
   361 99D2 4A 4A		@		:2 lsr
   362 99D4 29 0F				and #%1111
   363 99D6 85 AC				sta pom0g
   364 						
   365 99D8 A5 A7				lda pom0b
   366 99DA 38					sec
   367 99DB E5 C9				sbc movy0
   368 99DD 38					sec
   369 99DE E9 37				sbc #55
   370 99E0 99 09 36				sta pociskiZnakY,y
   371 99E3 18					clc
   372 99E4 10 03				bpl @+
   373 99E6 49 FF				eor #255
   374 99E8 38					sec
   375 99E9 69 01		@		adc #1
   376 99EB 29 3C				and #%00111100
   377 99ED C9 34				cmp #13*4
   378 99EF 90 01				bcc @+
   379 99F1 60					rts		;za daleko
   380 99F2 0A 0A		@		:2 asl
   381 99F4 05 AC				ora pom0g
   382 						
   383 99F6 AA					tax						;odczyt prÄ™dkoÅ›ci poruszanie siÄ™ pocisku w osi X i Y
   384 99F7 BD A8 96				lda tabcankier,x
   385 99FA D0 01				bne @+					;jeÅ›li zero to obiekt poza zasiÄ™giem
   386 99FC 60					rts
   387 99FD 29 0F		@		and #%1111
   388 99FF C5 9B				cmp pom
   389 9A01 90 01				bcc @+
   390 9A03 60					rts				;za duzy kat
   391 9A04 0A 0A		@		:2 asl					;dodajemy 2 zera na koncu
   392 9A06 99 FA 35				sta pociskiPlusX,y
   393 						
   394 9A09 BD A8 96				lda tabcankier,x
   395 9A0C 29 F0				and #%11110000
   396 9A0E C5 9D				cmp pom1
   397 9A10 90 01				bcc @+
   398 9A12 60					rts
   399 9A13 4A 4A		@		:2 lsr					;2 bity dx/dy, 4 bity po przecinku, 2 puste bity
   400 9A15 99 FF 35				sta pociskiPlusY,y
   401 						
   402 						
   403 9A18 A5 A6				lda pom0a	;ustalenie pozycji startowej pocisku
   404 9A1A 29 03				and #%11
   405 9A1C 4A					lsr			;2 najmlodsze bity ustawiamy jako 2 najstasze
   406 9A1D 6A 6A				:2 ror
   407 9A1F 99 E6 35				sta pociskidx,y
   408 9A22 A5 A6				lda pom0a
   409 9A24 4A 4A				:2 lsr
   410 9A26 18					clc
   411 9A27 65 BA				adc posX
   412 9A29 29 7F				and #127
   413 9A2B 99 CD 35				sta pociskiX,y
   414 						
   415 9A2E A5 A7				lda pom0b
   416 9A30 29 03				and #%11
   417 9A32 4A					lsr
   418 9A33 6A 6A				:2 ror
   419 9A35 99 F0 35				sta pociskidy,y
   420 9A38 A5 A7				lda pom0b
   421 9A3A 4A 4A				:2 lsr
   422 9A3C 18					clc
   423 9A3D 65 BB				adc posY
   424 9A3F 99 D7 35				sta pociskiY,y
   425 						
   426 9A42 A9 00 99 C3 35			mva #0 pociski,y			;zajÄ™cie pocisku
   427 9A47 EE 0E 36				inc liczbaPociskow	
   428 9A4A AD CC 36 8D 14 31			mva opoznieniePocisku antyairOpoznienie
   429 9A50 A9 18 8D C7 36			mva #12*2 sfx_antyair
   430 						
   431 9A55 60					rts
   432 						
   433 = 9A56			wylosujBaze	equ *
   434 9A56 E0 01				cpx #1
   435 9A58 D0 02				bne @+
   436 9A5A CA					dex
   437 9A5B 60					rts		;dla 1=0
   438 9A5C E0 02		@		cpx #2
   439 9A5E D0 09				bne @+
   440 9A60 AD 0A E8				lda random
   441 9A63 29 04				and #4
   442 9A65 4A 4A				:2 lsr
   443 9A67 AA					tax
   444 9A68 60					rts
   445 9A69 E0 04		@		cpx #4
   446 9A6B D0 08				bne @+
   447 9A6D AD 0A E8				lda random
   448 9A70 29 06				and #%110
   449 9A72 4A					lsr
   450 9A73 AA					tax
   451 9A74 60					rts
   452 9A75 E0 08		@		cpx #8
   453 9A77 D0 08				bne @+
   454 9A79 AD 0A E8				lda random
   455 9A7C 29 0E				and #%1110
   456 9A7E 4A					lsr
   457 9A7F AA					tax
   458 9A80 60					rts
   459 						
   460 						
   461 9A81 BD 8F 9A		@		lda tabwyl1-3,x
   462 9A84 85 A5				sta pom0
   463 						
   464 9A86 A2 FF				ldx #255
   465 9A88 AD 0A E8				lda random
   466 						
   467 9A8B 38					sec
   468 9A8C E8			@		inx
   469 9A8D E5 A5				sbc pom0
   470 9A8F B0 FB				bcs @-
   471 9A91 60					rts
   472 						
   473 9A92 55 00 33 2A 24	tabwyl1	dta b(85,0,51,42,36)	
   474
   475 						
   476 = 9A97			movePociski1	equ *
   477 9A97 AE 6B 36				ldx maxPociskow
   478 9A9A BD C3 35		@		lda pociski,x
   479 9A9D 10 04				bpl @+
   480 = 9A9F			movepnext1	equ *
   481 9A9F CA					dex
   482 9AA0 10 F8				bpl @-
   483 9AA2 60					rts
   484 						
   485 9AA3 BD 04 36		@		lda pociskiZnakX,x
   486 9AA6 10 17				bpl @+
   487 9AA8 18					clc
   488 9AA9 BD E6 35				lda pociskiDX,x
   489 9AAC 7D FA 35				adc pociskiPlusX,x
   490 9AAF 9D E6 35				sta pociskiDX,x
   491 9AB2 BD CD 35				lda pociskiX,x
   492 9AB5 69 00				adc #0
   493 9AB7 29 7F				and #127
   494 9AB9 9D CD 35				sta pociskiX,x
   495 9ABC 4C D3 9A				jmp @+1
   496
   497 						
   498 9ABF 38			@		sec
   499 9AC0 BD E6 35				lda pociskiDX,x
   500 9AC3 FD FA 35				sbc pociskiPlusX,x
   501 9AC6 9D E6 35				sta pociskiDX,x
   502 9AC9 BD CD 35				lda pociskiX,x
   503 9ACC E9 00				sbc #0
   504 9ACE 29 7F				and #127
   505 9AD0 9D CD 35				sta pociskiX,x
   506 					
   507 9AD3 BD 09 36		@		lda pociskiZnakY,x
   508 9AD6 10 12				bpl @+1
   509 9AD8 18					clc
   510 9AD9 BD F0 35				lda pociskiDY,x
   511 9ADC 7D FF 35				adc pociskiPlusY,x
   512 9ADF 9D F0 35				sta pociskiDY,x
   513 9AE2 90 BB				bcc movepnext1
   514 9AE4 FE D7 35				inc pociskiY,x
   515 9AE7 4C 9F 9A		@		jmp movepnext1
   516 						
   517 9AEA 38			@		sec
   518 9AEB BD F0 35				lda pociskiDY,x
   519 9AEE FD FF 35				sbc pociskiPlusY,x
   520 9AF1 9D F0 35				sta pociskiDY,x
   521 9AF4 B0 A9				bcs movepnext1
   522 9AF6 DE D7 35				dec pociskiY,x
   523 						
   524 9AF9 4C 9F 9A		@		jmp movepnext1
   525 						
   526 9AFC 45 46 47 48 49	pociskiCharTab	:5 dta b(firstPociskChar+#)
   527 9B01 28 30 38 40 48	pociskiAdTab	:5 dta b(<(znaki1+(firstPociskChar+#)*8))
   528 9B06 12 12 12 12 12					:5 dta b(>(znaki1+(firstPociskChar+#)*8))
   529
   530 				;rysuj pociski
   531 = 9B0B			printPociski	equ *
   532 9B0B AE 6B 36				ldx maxPociskow
   533 = 9B0E			proc_next1	equ *
   534 9B0E BD C3 35				lda pociski,x
   535 9B11 10 04				bpl @+
   536 = 9B13			poc_next	equ *
   537 9B13 CA					dex
   538 9B14 10 F8				bpl proc_next1
   539 9B16 60					rts
   540 						
   541 9B17 38			@		sec
   542 9B18 BD D7 35				lda pociskiY,x
   543 9B1B E5 BB				sbc posY
   544 9B1D C9 1D				cmp #29
   545 9B1F 90 0A				bcc @+
   546 9B21 DE C3 35				dec pociski,x		;0-1 = 255
   547 9B24 CE 0E 36				dec liczbaPociskow
   548 9B27 CA					dex
   549 9B28 10 E4				bpl proc_next1
   550 9B2A 60					rts
   551 						
   552 9B2B 9D DC 35		@		sta pociskiY0,x	
   553 9B2E A8					tay
   554 9B2F 0A 0A				:2 asl
   555 9B31 85 A8				sta pom0c
   556 						
   557 9B33 B1 D3				lda (screenL),y
   558 9B35 85 9D				sta pom1
   559 9B37 B1 D5				lda (screenH),y
   560 9B39 85 9E				sta pom1+1	
   561 							
   562 9B3B BD CD 35				lda pociskiX,x
   563 9B3E 38					sec
   564 9B3F E5 BA				sbc posX
   565 9B41 A8					tay
   566 9B42 B9 00 08				lda tabX,y
   567 9B45 C9 21				cmp #33
   568 9B47 90 0A				bcc @+
   569 9B49 DE C3 35				dec pociski,x
   570 9B4C CE 0E 36				dec liczbaPociskow
   571 9B4F CA					dex
   572 9B50 10 BC				bpl proc_next1
   573 9B52 60					rts
   574 						
   575 9B53 9D D2 35		@		sta pociskiX0,x
   576 9B56 A8					tay
   577 9B57 0A 0A				:2 asl
   578 9B59 85 A7				sta pom0b
   579 						
   580 9B5B B1 9D				lda (pom1),y
   581 9B5D 85 A5				sta pom0
   582 9B5F 29 80				and #128
   583 9B61 1D FC 9A				ora pociskiCharTab,x
   584 9B64 91 9D				sta (pom1),y
   585 						
   586 9B66 BD 01 9B				lda pociskiAdTab,x		;adres znaku pocisku
   587 9B69 85 9B				sta pom
   588 9B6B BD 06 9B				lda pociskiAdTab+5,x
   589 9B6E 05 BD				ora ramka4
   590 9B70 85 9C				sta pom+1
   591 						
   592 9B72 A5 A5				lda pom0
   593 9B74 29 7F				and #127
   594 9B76 9D C8 35				sta pociskiTlo,x
   595 						
   596 9B79 C9 03				cmp #3
   597 9B7B B0 1B				bcs @+
   598 						
   599 9B7D BD F0 35				lda pociskiDY,x
   600 9B80 29 C0				and #%11000000
   601 9B82 0A					asl
   602 9B83 2A 2A				:2 rol
   603 				 
   604 9B85 A8					tay
   605 9B86 05 A8				ora pom0c
   606 9B88 9D F5 35				sta pociskiDY0,x
   607 9B8B B9 DA 9B				lda pociskiSkokL+4,y		;skok do procedury rysowania
   608 9B8E 85 A3				sta pom4
   609 9B90 B9 E2 9B				lda pociskiSkokH+4,y
   610 9B93 85 A4				sta pom4+1
   611 9B95 4C BD 9B				jmp @+1			
   612
   613 9B98 A8			@		tay
   614 9B99 B9 00 2D				lda adresZnakL,y			;adres znaku pod pociskiem,tlo
   615 9B9C 85 9D				sta pom1
   616 9B9E B9 00 2E				lda adresZnakH,y
   617 9BA1 05 BD				ora ramka4
   618 9BA3 85 9E				sta pom1+1
   619 								
   620 9BA5 BD F0 35				lda pociskiDY,x
   621 9BA8 29 C0				and #%11000000
   622 9BAA 0A					asl
   623 9BAB 2A 2A				:2 rol
   624
   625 9BAD A8					tay
   626 9BAE 05 A8				ora pom0c
   627 9BB0 9D F5 35				sta pociskiDY0,x
   628 9BB3 B9 D6 9B				lda pociskiSkokL,y		;skok do procedury rysowania
   629 9BB6 85 A3				sta pom4
   630 9BB8 B9 DE 9B				lda pociskiSkokH,y
   631 9BBB 85 A4				sta pom4+1
   632 						
   633 9BBD BD E6 35		@		lda pociskiDX,x
   634 9BC0 4A 4A 4A 4A 4A			:5 lsr
   635 						
   636 9BC5 A8					tay
   637 9BC6 4A					lsr
   638 9BC7 05 A7				ora pom0b
   639 9BC9 9D EB 35				sta pociskiDX0,x
   640 						
   641 9BCC B9 54 96				lda pociskiOra,y
   642 9BCF 85 A6				sta pom0a	;ora dla ksztaltu pocisku
   643
   644 9BD1 A0 00				ldy #0
   645
   646 9BD3 6C A3 00				jmp (pom4)			;w procedurach rysowania naleÅ¼y wpisaÄ‡-> jmp poc_next, wtedy tutaj moze byc jmp zamiast jsr (+6cykli)
   647
   648
   649 9BD6 E6 16 44 74		pociskiSkokL	dta b(<pociskiDY00),b(<pociskiDY2),b(<pociskiDY4),b(<pociskiDY6)
   650 9BDA A2 C4 E3 02						dta b(<pociskiDY00b),b(<pociskiDY2b),b(<pociskiDY4b),b(<pociskiDY6b)
   651 9BDE 9B 9C 9C 9C		pociskiSkokH	dta b(>pociskiDY00),b(>pociskiDY2),b(>pociskiDY4),b(>pociskiDY6)
   652 9BE2 9C 9C 9C 9D						dta b(>pociskiDY00b),b(>pociskiDY2b),b(>pociskiDY4b),b(>pociskiDY6b)
   653 								
   654 = 9BE6			pociskiDY00	equ *
   655 						.rept 3
   656 						LDA (POM1),Y
   657 						EOR POM0A
   658 						STA (POM),Y
   659 						INY
   660 						.ENDR
   660 						.endr
Source: REPT
   656 9BE6 B1 9D				LDA (POM1),Y
   656 9BE8 45 A6				EOR POM0A
   656 9BEA 91 9B				STA (POM),Y
   656 9BEC C8					INY
   656 9BED B1 9D				LDA (POM1),Y
   656 9BEF 45 A6				EOR POM0A
   656 9BF1 91 9B				STA (POM),Y
   656 9BF3 C8					INY
   656 9BF4 B1 9D				LDA (POM1),Y
   656 9BF6 45 A6				EOR POM0A
   656 9BF8 91 9B				STA (POM),Y
   656 9BFA C8					INY
Source: bantyair.asm
   661 						.rept 4
   662 						LDA (POM1),Y
   663 						STA (POM),Y
   664 						INY
   665 						.ENDR
   665 						.endr
Source: REPT
   662 9BFB B1 9D				LDA (POM1),Y
   662 9BFD 91 9B				STA (POM),Y
   662 9BFF C8					INY
   662 9C00 B1 9D				LDA (POM1),Y
   662 9C02 91 9B				STA (POM),Y
   662 9C04 C8					INY
   662 9C05 B1 9D				LDA (POM1),Y
   662 9C07 91 9B				STA (POM),Y
   662 9C09 C8					INY
   662 9C0A B1 9D				LDA (POM1),Y
   662 9C0C 91 9B				STA (POM),Y
   662 9C0E C8					INY
Source: bantyair.asm
   666 9C0F B1 9D				lda (pom1),y
   667 9C11 91 9B				sta (pom),y
   668 9C13 4C 13 9B				jmp poc_next	
   669 						
   670 = 9C16			pociskiDY2	equ *
   671 9C16 B1 9D				lda (pom1),y
   672 9C18 91 9B				sta (pom),y
   673 9C1A C8					iny
   674 9C1B B1 9D				lda (pom1),y
   675 9C1D 91 9B				sta (pom),y
   676 9C1F C8					iny
   677 						.rept 2
   678 						LDA (POM1),Y
   679 						EOR POM0A
   680 						STA (POM),Y
   681 						INY
   682 						.ENDR
   682 						.endr
Source: REPT
   678 9C20 B1 9D				LDA (POM1),Y
   678 9C22 45 A6				EOR POM0A
   678 9C24 91 9B				STA (POM),Y
   678 9C26 C8					INY
   678 9C27 B1 9D				LDA (POM1),Y
   678 9C29 45 A6				EOR POM0A
   678 9C2B 91 9B				STA (POM),Y
   678 9C2D C8					INY
Source: bantyair.asm
   683 						.rept 3
   684 						LDA (POM1),Y
   685 						STA (POM),Y
   686 						INY
   687 						.ENDR
   687 						.endr
Source: REPT
   684 9C2E B1 9D				LDA (POM1),Y
   684 9C30 91 9B				STA (POM),Y
   684 9C32 C8					INY
   684 9C33 B1 9D				LDA (POM1),Y
   684 9C35 91 9B				STA (POM),Y
   684 9C37 C8					INY
   684 9C38 B1 9D				LDA (POM1),Y
   684 9C3A 91 9B				STA (POM),Y
   684 9C3C C8					INY
Source: bantyair.asm
   688 9C3D B1 9D				lda (pom1),y
   689 9C3F 91 9B				sta (pom),y
   690 9C41 4C 13 9B				jmp poc_next
   691 					
   692 = 9C44			pociskiDY4	equ *
   693 						.rept 3
   694 						LDA (POM1),Y
   695 						STA (POM),Y
   696 						INY
   697 						.ENDR
   697 						.endr
Source: REPT
   694 9C44 B1 9D				LDA (POM1),Y
   694 9C46 91 9B				STA (POM),Y
   694 9C48 C8					INY
   694 9C49 B1 9D				LDA (POM1),Y
   694 9C4B 91 9B				STA (POM),Y
   694 9C4D C8					INY
   694 9C4E B1 9D				LDA (POM1),Y
   694 9C50 91 9B				STA (POM),Y
   694 9C52 C8					INY
Source: bantyair.asm
   698 						.rept 3
   699 						LDA (POM1),Y
   700 						EOR POM0A
   701 						STA (POM),Y
   702 						INY
   703 						.ENDR
   703 						.endr
Source: REPT
   699 9C53 B1 9D				LDA (POM1),Y
   699 9C55 45 A6				EOR POM0A
   699 9C57 91 9B				STA (POM),Y
   699 9C59 C8					INY
   699 9C5A B1 9D				LDA (POM1),Y
   699 9C5C 45 A6				EOR POM0A
   699 9C5E 91 9B				STA (POM),Y
   699 9C60 C8					INY
   699 9C61 B1 9D				LDA (POM1),Y
   699 9C63 45 A6				EOR POM0A
   699 9C65 91 9B				STA (POM),Y
   699 9C67 C8					INY
Source: bantyair.asm
   704 9C68 B1 9D				lda (pom1),y
   705 9C6A 91 9B				sta (pom),y
   706 9C6C C8					iny
   707 9C6D B1 9D				lda (pom1),y
   708 9C6F 91 9B				sta (pom),y
   709 9C71 4C 13 9B				jmp poc_next
   710 						
   711 = 9C74			pociskiDY6	equ *
   712 						.rept 6
   713 						LDA (POM1),Y
   714 						STA (POM),Y
   715 						INY
   716 						.ENDR
   716 						.endr
Source: REPT
   713 9C74 B1 9D				LDA (POM1),Y
   713 9C76 91 9B				STA (POM),Y
   713 9C78 C8					INY
   713 9C79 B1 9D				LDA (POM1),Y
   713 9C7B 91 9B				STA (POM),Y
   713 9C7D C8					INY
   713 9C7E B1 9D				LDA (POM1),Y
   713 9C80 91 9B				STA (POM),Y
   713 9C82 C8					INY
   713 9C83 B1 9D				LDA (POM1),Y
   713 9C85 91 9B				STA (POM),Y
   713 9C87 C8					INY
   713 9C88 B1 9D				LDA (POM1),Y
   713 9C8A 91 9B				STA (POM),Y
   713 9C8C C8					INY
   713 9C8D B1 9D				LDA (POM1),Y
   713 9C8F 91 9B				STA (POM),Y
   713 9C91 C8					INY
Source: bantyair.asm
   717 9C92 B1 9D				lda (pom1),y
   718 9C94 45 A6				eor pom0a
   719 9C96 91 9B				sta (pom),y
   720 9C98 C8					iny
   721 9C99 B1 9D				lda (pom1),y
   722 9C9B 45 A6				eor pom0a
   723 9C9D 91 9B				sta (pom),y
   724 9C9F 4C 13 9B				jmp poc_next	
   725
   726 				;rysujemy na pustym znaku
   727 = 9CA2			pociskiDY00b	equ *
   728
   729 9CA2 A5 A6				lda pom0a
   730 9CA4 91 9B				sta (pom),y
   731 9CA6 C8					iny
   732 9CA7 A5 A6				lda pom0a
   733 9CA9 91 9B				sta (pom),y
   734 9CAB C8					iny
   735 9CAC A5 A6				lda pom0a
   736 9CAE 91 9B				sta (pom),y
   737 9CB0 C8					iny
   738 9CB1 A9 00				lda #0
   739 9CB3 91 9B				sta (pom),y
   740 9CB5 C8					iny
   741 9CB6 91 9B				sta (pom),y
   742 9CB8 C8					iny
   743 9CB9 91 9B				sta (pom),y
   744 9CBB C8					iny
   745 9CBC 91 9B				sta (pom),y
   746 9CBE C8					iny
   747 9CBF 91 9B				sta (pom),y
   748
   749 9CC1 4C 13 9B				jmp poc_next	
   750 						
   751 = 9CC4			pociskiDY2b	equ *
   752 9CC4 98					tya
   753 9CC5 91 9B				sta (pom),y
   754 9CC7 C8					iny
   755 9CC8 91 9B				sta (pom),y
   756 9CCA A0 04				ldy #4
   757 9CCC 91 9B				sta (pom),y
   758 9CCE C8					iny
   759 9CCF 91 9B				sta (pom),y
   760 9CD1 C8					iny
   761 9CD2 91 9B				sta (pom),y
   762 9CD4 C8					iny
   763 9CD5 91 9B				sta (pom),y
   764 9CD7 A0 02				ldy #2
   765 9CD9 A5 A6				lda pom0a
   766 9CDB 91 9B				sta (pom),y
   767 9CDD C8					iny
   768 9CDE 91 9B				sta (pom),y
   769
   770 9CE0 4C 13 9B				jmp poc_next
   771 					
   772 = 9CE3			pociskiDY4b	equ *
   773 9CE3 98					tya
   774 9CE4 91 9B				sta (pom),y
   775 9CE6 C8					iny
   776 9CE7 91 9B				sta (pom),y
   777 9CE9 C8					iny
   778 9CEA 91 9B				sta (pom),y
   779 9CEC A0 06				ldy #6
   780 9CEE 91 9B				sta (pom),y
   781 9CF0 C8					iny
   782 9CF1 91 9B				sta (pom),y
   783 9CF3 A0 03				ldy #3
   784 9CF5 A5 A6				lda pom0a
   785 9CF7 91 9B				sta (pom),y
   786 9CF9 C8					iny
   787 9CFA 91 9B				sta (pom),y
   788 9CFC C8					iny
   789 9CFD 91 9B				sta (pom),y
   790
   791 9CFF 4C 13 9B				jmp poc_next
   792 						
   793 = 9D02			pociskiDY6b	equ *
   794 9D02 98					tya
   795 9D03 91 9B				sta (pom),y
   796 9D05 C8					iny
   797 9D06 91 9B				sta (pom),y
   798 9D08 C8					iny
   799 9D09 91 9B				sta (pom),y
   800 9D0B C8					iny
   801 9D0C 91 9B				sta (pom),y
   802 9D0E C8					iny
   803 9D0F 91 9B				sta (pom),y
   804 9D11 C8					iny
   805 9D12 91 9B				sta (pom),y
   806 9D14 C8					iny
   807 9D15 A5 A6				lda pom0a
   808 9D17 91 9B				sta (pom),y
   809 9D19 C8					iny
   810 9D1A 91 9B				sta (pom),y
   811 						
   812 9D1C 4C 13 9B				jmp poc_next
   813
   539 9D1F						icl 'bstrzaly.asm'
Source: bstrzaly.asm
     1
     2 = 0002			STRZALSPEED	equ 2
     3
     4 = 9D1F			pushFire		equ *
     5 9D1F A5 C7 85 E0					mva movY movYs
     6 							
     7 9D23 AD 9A 36					lda opoznienieFire
     8 9D26 30 05					bmi @+
     9 9D28 CE 9A 36					dec opoznienieFire
    10 9D2B 10 0F					bpl @+1
    11 						
    12 9D2D AD 10 C0		@			lda FIRE
    13 9D30 D0 0A					bne @+
    14 9D32 4C 52 9D					jmp dodajStrzal
    15 9D35 A9 08 8D 9A 36	pf0			mva #8 opoznienieFire
    16 9D3A D0 0F					bne pf1
    17 							
    18 9D3C AD 10 C0		@			lda FIRE
    19 9D3F F0 0A					beq pf1
    20 9D41 CD 9B 36					cmp sFIRE
    21 9D44 F0 05					beq pf1
    22 9D46 A9 00 8D 9A 36				mva #0 opoznienieFire
    23 							
    24 9D4B AD 10 C0 8D 9B 36	pf1			mva FIRE sFIRE
    25 9D51 60						rts
    26
    27 = 9D52			dodajStrzal		equ *
    28 9D52 A2 00					ldx #0
    29 9D54 BD 10 36					lda strzal,x
    30 9D57 1D 11 36					ora strzal+1,x
    31 9D5A F0 0A					beq @+
    32 9D5C A2 02					ldx #2
    33 9D5E BD 10 36					lda strzal,x
    34 9D61 1D 11 36					ora strzal+1,x
    35 9D64 D0 CF					bne pf0			
    36 							
    37 9D66 A9 0C 8D C1 36	@			mva #6*2	sfx_effect
    38 9D6B A9 0C 8D 88 36				mva #12 licznikStrzal		;dlugosc dzwieku strzalu
    39 9D70 AC CA 36					ldy	sJoy
    40 9D73 D0 02					bne @+
    41 9D75 A0 01					ldy #1	;jesli nie poruszono jeszcze joystickiem to wybierz gore
    42 9D77 B9 84 9D		@			lda strzalTab5,y
    43 9D7A 85 B8					sta strz2
    44 9D7C B9 8F 9D					lda strzalTab5+11,y
    45 9D7F 85 B9					sta strz2+1
    46 							
    47 = 9D81			_strzalJump0	equ *
    48 9D81 6C B8 00					jmp (strz2)
    49 							
    50 9D84 08 E8 E8 08 0B C1 + strzalTab5	dta b(<_rts,<goraDol,<goraDol,<_rts,<lewoPrawo,<skos1,<skos2,<_rts,<lewoPrawo,<skos2,<skos1)
    51 9D8F 9E 9D 9D 9E 9E 9D + 			dta b(>_rts,>goraDol,>goraDol,>_rts,>lewoPrawo,>skos1,>skos2,>_rts,>lewoPrawo,>skos2,>skos1)
    52 							
    53 				;prawoGora i lewoDol
    54 = 9D9A			skos2		equ *
    55 9D9A A9 01 9D 10 36				mva #1 strzal,x
    56 9D9F 9D 11 36					sta strzal+1,x
    57 							
    58 9DA2 A9 03 9D 40 36				mva #3 strzalKierunek,x
    59 9DA7 9D 41 36					sta strzalKierunek+1,x	
    60
    61 9DAA A9 43 9D 14 36				mva #17*4-1 strzalX,x
    62 9DAF A9 34 9D 2C 36				mva #13*4 strzalY,x
    63 							
    64 9DB4 A9 3B 9D 15 36				mva #15*4-1 strzalX+1,x
    65 9DB9 A9 3C 9D 2D 36				mva #15*4 strzalY+1,x
    66 							
    67 9DBE 4C 35 9D					jmp pf0
    68 							
    69 				;LewoGora i prawoDol
    70 = 9DC1			skos1		equ *
    71 9DC1 A9 01 9D 10 36				mva #1 strzal,x
    72 9DC6 9D 11 36					sta strzal+1,x
    73 							
    74 9DC9 A9 02 9D 40 36				mva #2 strzalKierunek,x
    75 9DCE 9D 41 36					sta strzalKierunek+1,x
    76 							
    77 9DD1 A9 3C 9D 14 36				mva #15*4 strzalX,x
    78 9DD6 A9 34 9D 2C 36				mva #13*4 strzalY,x
    79 							
    80 9DDB A9 44 9D 15 36				mva #17*4 strzalX+1,x
    81 9DE0 A9 3C 9D 2D 36				mva #15*4 strzalY+1,x
    82 							
    83 9DE5 4C 35 9D					jmp pf0
    84 							
    85 				;strzaly poruszaja sie w gore i dol			
    86 = 9DE8			goraDol		equ *
    87 9DE8 A9 01 9D 10 36				mva #1 strzal,x
    88 9DED 9D 11 36					sta strzal+1,x
    89 							
    90 9DF0 9D 40 36					sta strzalKierunek,x
    91 9DF3 9D 41 36					sta strzalKierunek+1,x
    92 							
    93 9DF6 A9 3F 9D 14 36				mva #16*4-1 strzalX,x
    94 9DFB 9D 15 36					sta strzalX+1,x
    95 							
    96 9DFE A9 33 9D 2C 36				mva #12*4+3 strzalY,x
    97 9E03 A9 3D 9D 2D 36				mva #15*4+1 strzalY+1,x
    98 							
    99 9E08 4C 35 9D		_rts		jmp pf0	
   100
   101 				;strzaly poruszajÄ… siÄ™ w prawo i w lewo			
   102 = 9E0B			lewoPrawo	equ *
   103 9E0B A9 01 9D 10 36				mva #1 strzal,x
   104 9E10 9D 11 36					sta strzal+1,x
   105
   106 9E13 A9 00 9D 40 36				mva #0 strzalKierunek,x
   107 9E18 9D 41 36					sta strzalKierunek+1,x
   108 							
   109 9E1B A9 3B 9D 14 36				mva #15*4-1 strzalX,x
   110 9E20 A9 45 9D 15 36				mva #17*4+1 strzalX+1,x
   111 							
   112 9E25 A9 38 9D 2C 36				mva #14*4 strzalY,x
   113 9E2A 9D 2D 36					sta strzalY+1,x
   114 							
   115 9E2D 4C 35 9D					jmp pf0
   116
   117 				;poruszaj strzalami			
   118 = 9E30			movestrzal	equ *
   119 9E30 A2 02					ldx #2
   120 9E32 BD 10 36		@			lda strzal,x
   121 9E35 1D 11 36					ora strzal+1,x
   122 9E38 F0 10					beq mst1
   123 9E3A BC 40 36					ldy strzalKierunek,x
   124 9E3D B9 4F 9E					lda strzalTab1,y
   125 9E40 85 B8					sta strz2
   126 9E42 B9 53 9E					lda strzalTab1+4,y
   127 9E45 85 B9					sta strz2+1
   128 9E47 6C B8 00					jmp (strz2)
   129 9E4A CA			mst1		dex
   130 9E4B CA						dex
   131 9E4C 10 E4					bpl @-
   132 							
   133 9E4E 60						rts
   134
   135 9E4F 04 D5 96 57		strzalTab1	dta b(<moveStrzalLP,<moveStrzalGD,<moveStrzalSkos1,<moveStrzalSkos2)
   136 9E53 9F 9E 9E 9E					dta b(>moveStrzalLP,>moveStrzalGD,>moveStrzalSkos1,>moveStrzalSkos2)
   137
   138
   139 				;prawoGora i lewoDol
   140 = 9E57			moveStrzalSkos2	equ *
   141 9E57 BD 10 36					lda strzal,x
   142 9E5A F0 18					beq @+
   143 9E5C 18						clc
   144 9E5D BD 14 36					lda strzalX,x
   145 9E60 69 02					adc #STRZALSPEED
   146 9E62 9D 14 36					sta strzalX,x
   147 							;sec
   148 9E65 BD 2C 36					lda strzalY,x
   149 9E68 E9 01					sbc #STRZALSPEED-1
   150 9E6A 9D 2C 36					sta strzalY,x
   151 9E6D 10 05					bpl @+
   152 9E6F A9 00 9D 10 36				mva #0 strzal,x
   153 							
   154 9E74 BD 11 36		@			lda strzal+1,x
   155 9E77 F0 1A					beq @+
   156 9E79 38						sec
   157 9E7A BD 15 36					lda strzalX+1,x
   158 9E7D E9 02					sbc #STRZALSPEED
   159 9E7F 9D 15 36					sta strzalX+1,x
   160 							;clc
   161 9E82 BD 2D 36					lda strzalY+1,x
   162 9E85 69 01					adc #STRZALSPEED-1
   163 9E87 9D 2D 36					sta strzalY+1,x
   164 9E8A C9 70					cmp #112
   165 9E8C 90 05					bcc @+
   166 9E8E A9 00 9D 11 36				mva #0 strzal+1,x
   167 										
   168 9E93 4C 4A 9E		@			jmp mst1
   169 							
   170 				;lewoGora i PrawoDol
   171 = 9E96			moveStrzalSkos1	equ *
   172 9E96 BD 10 36					lda strzal,x
   173 9E99 F0 18					beq @+
   174 9E9B 38						sec
   175 9E9C BD 14 36					lda strzalX,x
   176 9E9F E9 02					sbc #STRZALSPEED
   177 9EA1 9D 14 36					sta strzalX,x
   178 9EA4 BD 2C 36					lda strzalY,x
   179 9EA7 E9 02					sbc #STRZALSPEED
   180 9EA9 9D 2C 36					sta strzalY,x
   181 9EAC 10 05					bpl @+
   182 9EAE A9 00 9D 10 36				mva #0 strzal,x
   183 							
   184 9EB3 BD 11 36		@			lda strzal+1,x
   185 9EB6 F0 1A					beq @+
   186 9EB8 18						clc
   187 9EB9 BD 15 36					lda strzalX+1,x
   188 9EBC 69 02					adc #STRZALSPEED
   189 9EBE 9D 15 36					sta strzalX+1,x
   190 9EC1 BD 2D 36					lda strzalY+1,x
   191 9EC4 69 02					adc #STRZALSPEED
   192 9EC6 9D 2D 36					sta strzalY+1,x
   193 9EC9 C9 70					cmp #112
   194 9ECB 90 05					bcc @+
   195 9ECD A9 00 9D 11 36				mva #0 strzal+1,x
   196 							
   197 9ED2 4C 4A 9E		@			jmp mst1
   198
   199 				;os pionowa
   200 = 9ED5			moveStrzalGD	equ *
   201 9ED5 BD 10 36					lda strzal,x
   202 9ED8 F0 10					beq @+
   203 9EDA 38						sec
   204 9EDB BD 2C 36					lda strzalY,x
   205 9EDE E9 02					sbc #STRZALSPEED
   206 9EE0 9D 2C 36					sta strzalY,x
   207 9EE3 10 05					bpl @+
   208 9EE5 A9 00 9D 10 36				mva #0 strzal,x
   209 							
   210 9EEA BD 11 36		@			lda strzal+1,x
   211 9EED F0 12					beq @+
   212 9EEF 18						clc
   213 9EF0 BD 2D 36					lda strzalY+1,x
   214 9EF3 69 02					adc #STRZALSPEED
   215 9EF5 9D 2D 36					sta strzalY+1,x
   216 9EF8 C9 70					cmp #112
   217 9EFA 90 05					bcc @+
   218 9EFC A9 00 9D 11 36				mva #0 strzal+1,x
   219 							
   220 9F01 4C 4A 9E		@			jmp mst1
   221 							
   222 				;os pozioma			
   223 = 9F04			moveStrzalLP	equ *
   224 9F04 BD 10 36					lda strzal,x
   225 9F07 F0 10					beq @+
   226 9F09 38						sec
   227 9F0A BD 14 36					lda strzalX,x
   228 9F0D E9 02					sbc #STRZALSPEED
   229 9F0F 9D 14 36					sta strzalX,x
   230 9F12 10 05					bpl @+
   231 9F14 A9 00 9D 10 36				mva #0 strzal,x
   232 							
   233 9F19 BD 11 36		@			lda strzal+1,x
   234 9F1C F0 10					beq @+
   235 9F1E 18						clc
   236 9F1F BD 15 36					lda strzalX+1,x
   237 9F22 69 02					adc #STRZALSPEED
   238 9F24 9D 15 36					sta strzalX+1,x
   239 9F27 10 05					bpl @+
   240 9F29 A9 00 9D 11 36				mva #0 strzal+1,x
   241 						
   242 9F2E 4C 4A 9E		@			jmp mst1
   243
   244 							
   245 				;obliczamy obecnÄ… pozycjÄ™ X,Y pocisku (X1,Y1)
   246 = 9F31			obliczStrzalXY2	equ *
   247 9F31 A2 03					ldx #3
   248 							
   249 9F33 BD 10 36		@			lda strzal,x
   250 9F36 F0 2C					beq @+
   251 							
   252 9F38 BD 14 36					lda strzalX,x
   253 							;clc
   254 9F3B 38						sec
   255 9F3C 65 C8					adc movX0
   256 							
   257 9F3E 9D 20 36					sta strzalX3,x	;pozycja z poprawka przesuniecia obrazu
   258 9F41 29 03					and #%11
   259 9F43 9D A4 36					sta strzalXbit,x
   260 9F46 BD 20 36					lda strzalX3,x
   261 9F49 4A						lsr @
   262 9F4A 4A						lsr @
   263 9F4B 9D 1C 36					sta strzalX2,x
   264 							
   265 9F4E 18						clc
   266 9F4F A5 C9					lda movY0
   267 9F51 7D 2C 36					adc strzalY,x
   268 9F54 9D 38 36					sta strzalY3,x	;pozycja z poprawka przesuniecia obrazu
   269 9F57 29 03					and #%11
   270 9F59 9D 3C 36					sta strzalYbit,x
   271 9F5C BD 38 36					lda strzalY3,x
   272 9F5F 4A						lsr @
   273 9F60 4A						lsr @
   274 9F61 9D 34 36					sta strzalY2,x
   275 							
   276 9F64 CA			@			dex
   277 9F65 10 CC					bpl @-1
   278 9F67 60						rts
   279
   280 							
   281
   282 							
   283 				;obliczenia ktore powtarzaja sie podczas rysowania pociskow	
   284 				OBLICZSTRZAL	.macro		
   285 				;obliczStrzal	equ *
   286 							lda strzalXbit,x
   287 							tay
   288 							lda strzalTab6,y
   289 							sta strz0b		;ora
   290 							
   291 							ldy strzalY2,x
   292 							
   293 							lda ramka
   294 							bne @+
   295 							
   296 							clc
   297 							lda obraz1L,y
   298 							adc strzalX2,x
   299 							sta strz1
   300 							sta zmazTab,x
   301 							lda obraz1H,y
   302 							adc #0
   303 							sta strz1+1
   304 							sta zmazTab+4,x
   305 							jmp @+1		;skok bezwarunkowy
   306 							
   307 				@			clc
   308 							lda obraz2L,y
   309 							adc strzalX2,x
   310 							sta strz1
   311 							sta zmazTab,x
   312 							lda obraz2H,y
   313 							adc #0
   314 							sta strz1+1	
   315 							sta zmazTab+4,x
   316 							
   317 				@			ldy #0	
   318 							lda (strz1),y
   319 							sta strzalTlo,x		;do zmazania 
   320 							tay
   321 							and #127	
   322 							cmp #3		;czy znak zerowy ?
   323 							bcs @+
   324 						
   325 				mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
   326 							lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
   327 							ldy #0
   328 							sta (strz1),y
   329 							tay
   330 							lda adresZnakL,y
   331 							sta strz1
   332 							
   333 							lda adresZnakH,y
   334 							ora ramka4
   335 							sta strz1+1
   336 							lda strzalYbit,x
   337 							ora #4
   338 							
   339 							jmp @+1	;jmp
   340 							
   341 							
   342 				@			tya
   343 							and #128
   344 							ora strzalTab0,x
   345 							tax
   346 							
   347 							lda adresZnakL,y	;nr znaku pod pociskiem
   348 							sta strz
   349 							lda adresZnakH,y
   350 							ora ramka4
   351 							sta strz+1
   352 							
   353 							ldy #0
   354 							txa
   355 							sta (strz1),y
   356 							lda adresZnakL,x
   357 							sta strz1
   358 							
   359 							lda adresZnakH,x
   360 							ora ramka4
   361 							sta strz1+1			
   362 							
   363 				.endm	
   364
   365 = 9F68			locateStrzal1	equ *
   366 9F68 A2 03					ldx #3
   367 9F6A BD 10 36		@			lda strzal,x
   368 9F6D F0 2A					beq @+
   369 							
   370 9F6F BC 34 36					ldy strzalY2,x
   371 							
   372 9F72 18						clc
   373 9F73 B9 D9 36					lda obraz1L,y
   374 9F76 7D 1C 36					adc strzalX2,x
   375 9F79 85 9D					sta pom1
   376 9F7B B9 F6 36					lda obraz1H,y
   377 9F7E 69 00					adc #0
   378 9F80 85 9E					sta pom1+1
   379 							
   380 9F82 A0 00					ldy #0	
   381 9F84 B1 9D					lda (pom1),y
   382 9F86 9D 48 36					sta strzalTlo1,x		;do zmazania 
   383 9F89 29 7F					and #127
   384 9F8B C9 41					cmp #firstStrzalChar
   385 9F8D 90 0A					bcc @+
   386 9F8F C9 45					cmp #firstPociskChar
   387 9F91 B0 06					bcs @+
   388 9F93 BD 44 36					lda strzalTlo,x			;ta sama pozycja co ostatnio
   389 9F96 9D 48 36					sta strzalTLo1,x
   390 							
   391 9F99 CA			@			dex
   392 9F9A 10 CE					bpl @-1
   393 9F9C 60						rts
   394 							
   395 = 9F9D			locateStrzal2	equ *
   396 9F9D A2 03					ldx #3
   397 9F9F BD 10 36		@			lda strzal,x
   398 9FA2 F0 2A					beq @+
   399 							
   400 9FA4 BC 34 36					ldy strzalY2,x
   401 							
   402 9FA7 18						clc
   403 9FA8 B9 13 37					lda obraz2L,y
   404 9FAB 7D 1C 36					adc strzalX2,x
   405 9FAE 85 9D					sta pom1
   406 9FB0 B9 30 37					lda obraz2H,y
   407 9FB3 69 00					adc #0
   408 9FB5 85 9E					sta pom1+1	
   409 							
   410 9FB7 A0 00					ldy #0	
   411 9FB9 B1 9D					lda (pom1),y
   412 9FBB 9D 48 36					sta strzalTlo1,x		;do zmazania 
   413 9FBE 29 7F					and #127
   414 9FC0 C9 41					cmp #firstStrzalChar
   415 9FC2 90 0A					bcc @+
   416 9FC4 C9 45					cmp #firstPociskChar
   417 9FC6 B0 06					bcs @+
   418 9FC8 BD 44 36					lda strzalTlo,x			;ta sama pozycja co ostatnio
   419 9FCB 9D 48 36					sta strzalTLo1,x
   420 							
   421 9FCE CA			@			dex
   422 9FCF 10 CE					bpl @-1
   423 9FD1 60						rts
   424 					
   425 				;narysuj strzaly na ekranie, albo je usun(poza ekranem)			
   426 = 9FD2			printStrzal	equ *
   427 9FD2 A2 03					ldx #3
   428 9FD4 BD 10 36		@			lda strzal,x
   429 9FD7 F0 16					beq @+
   430 9FD9 BC 40 36					ldy strzalKierunek,x
   431 9FDC 84 B3					sty strz0f
   432 9FDE B9 F3 9F					lda strzalTab2,y
   433 9FE1 85 B8					sta strz2
   434 9FE3 B9 F7 9F					lda strzalTab2+4,y
   435 9FE6 85 B9					sta strz2+1
   436 							
   437 9FE8 86 B1					stx strz0d
   438 9FEA 6C B8 00					jmp (strz2)
   439 9FED A6 B1		pst1		ldx strz0d
   440 9FEF CA			@			dex
   441 9FF0 10 E2					bpl @-1
   442 							
   443 9FF2 60						rts
   444
   445 9FF3 E2 04 FF FF		strzalTab2	dta b(<printStrzalLP,<printStrzalGD,<printStrzalSkos1,<printStrzalSkos1)
   446 9FF7 A2 A4 9F 9F					dta b(>printStrzalLP,>printStrzalGD,>printStrzalSkos1,>printStrzalSkos1)
   447
   448 9FFB 41 42 43 44		strzalTab0		:4 dta b(firstStrzalChar+#)
   449
   450 				;strzaly lewoGora i prawoDol
   451 = 9FFF			printStrzalSkos1	equ *
   452 9FFF A5 C1					lda vblFlaga
   453 A001 F0 11					beq @+
   454 							
   455 A003 A0 00					ldy #0
   456 A005 BD 9C 36					lda zmazTab,x
   457 A008 85 B4					sta strz
   458 A00A BD A0 36					lda zmazTab+4,x
   459 A00D 85 B5					sta strz+1
   460 A00F BD 44 36					lda strzalTlo,x
   461 A012 91 B4					sta (strz),y
   462 							
   463 A014			@			OBLICZSTRZAL ;jsr obliczStrzal
Macro: OBLICZSTRZAL [Source: bstrzaly.asm]
     2 A014 BD A4 36					lda strzalXbit,x
     3 A017 A8						tay
     4 A018 B9 FC A3					lda strzalTab6,y
     5 A01B 85 AF					sta strz0b		;ora
     7 A01D BC 34 36					ldy strzalY2,x
     9 A020 A5 BC					lda ramka
    10 A022 D0 19					bne @+
    12 A024 18						clc
    13 A025 B9 D9 36					lda obraz1L,y
    14 A028 7D 1C 36					adc strzalX2,x
    15 A02B 85 B6					sta strz1
    16 A02D 9D 9C 36					sta zmazTab,x
    17 A030 B9 F6 36					lda obraz1H,y
    18 A033 69 00					adc #0
    19 A035 85 B7					sta strz1+1
    20 A037 9D A0 36					sta zmazTab+4,x
    21 A03A 4C 53 A0					jmp @+1		;skok bezwarunkowy
    23 A03D 18			@			clc
    24 A03E B9 13 37					lda obraz2L,y
    25 A041 7D 1C 36					adc strzalX2,x
    26 A044 85 B6					sta strz1
    27 A046 9D 9C 36					sta zmazTab,x
    28 A049 B9 30 37					lda obraz2H,y
    29 A04C 69 00					adc #0
    30 A04E 85 B7					sta strz1+1	
    31 A050 9D A0 36					sta zmazTab+4,x
    33 A053 A0 00		@			ldy #0	
    34 A055 B1 B6					lda (strz1),y
    35 A057 9D 44 36					sta strzalTlo,x		;do zmazania 
    36 A05A A8						tay
    37 A05B 29 7F					and #127	
    38 A05D C9 03					cmp #3		;czy znak zerowy ?
    39 A05F B0 20					bcs @+
    41 A061 A9 04 85 B0		mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
    42 A065 BD FB 9F					lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
    43 A068 A0 00					ldy #0
    44 A06A 91 B6					sta (strz1),y
    45 A06C A8						tay
    46 A06D B9 00 2D					lda adresZnakL,y
    47 A070 85 B6					sta strz1
    49 A072 B9 00 2E					lda adresZnakH,y
    50 A075 05 BD					ora ramka4
    51 A077 85 B7					sta strz1+1
    52 A079 BD 3C 36					lda strzalYbit,x
    53 A07C 09 04					ora #4
    55 A07E 4C AA A0					jmp @+1	;jmp
    58 A081 98			@			tya
    59 A082 29 80					and #128
    60 A084 1D FB 9F					ora strzalTab0,x
    61 A087 AA						tax
    63 A088 B9 00 2D					lda adresZnakL,y	;nr znaku pod pociskiem
    64 A08B 85 B4					sta strz
    65 A08D B9 00 2E					lda adresZnakH,y
    66 A090 05 BD					ora ramka4
    67 A092 85 B5					sta strz+1
    69 A094 A0 00					ldy #0
    70 A096 8A						txa
    71 A097 91 B6					sta (strz1),y
    72 A099 BD 00 2D					lda adresZnakL,x
    73 A09C 85 B6					sta strz1
    75 A09E BD 00 2E					lda adresZnakH,x
    76 A0A1 05 BD					ora ramka4
    77 A0A3 85 B7					sta strz1+1			
Source: bstrzaly.asm
   464 							
   465 A0A5 A6 B1					ldx strz0d
   466 A0A7 BD 3C 36					lda strzalYbit,x
   467 							
   468 A0AA A8			@			tay				;skok z OBLICZ przy pustym znaku
   469 A0AB B9 FC A1					lda strzalTab8,y
   470 A0AE 85 B8					sta strz2
   471 A0B0 B9 04 A2					lda strzalTab8+8,y
   472 A0B3 85 B9					sta strz2+1
   473 = A0B5			_strzalSkos1	equ *
   474 A0B5 6C B8 00					jmp (strz2)
   475 							
   476 A0B8			@			
   477 						
   478 = A0B8			strzalSkos10	equ *
   479 A0B8 A0 07					ldy #7			;0010
   480 A0BA B1 B4					lda (strz),y		;0000
   481 A0BC 91 B6					sta (strz1),y	;0000
   482 A0BE 88						dey				;0000
   483 A0BF B1 B4					lda (strz),y
   484 A0C1 91 B6					sta (strz1),y
   485 A0C3 88						dey
   486 A0C4 B1 B4					lda (strz),y
   487 A0C6 91 B6					sta (strz1),y
   488 A0C8 88						dey
   489 A0C9 B1 B4					lda (strz),y
   490 A0CB 91 B6					sta (strz1),y
   491 A0CD 88						dey
   492 A0CE B1 B4					lda (strz),y
   493 A0D0 91 B6					sta (strz1),y
   494 A0D2 88						dey
   495 A0D3 B1 B4					lda (strz),y
   496 A0D5 91 B6					sta (strz1),y
   497 A0D7 88						dey
   498 A0D8 B1 B4					lda (strz),y
   499 A0DA 45 AF					eor strz0b
   500 A0DC 91 B6					sta (strz1),y
   501 A0DE 88						dey
   502 A0DF B1 B4					lda (strz),y
   503 A0E1 45 AF					eor strz0b
   504 A0E3 91 B6					sta (strz1),y
   505 							
   506 A0E5 4C ED 9F					jmp pst1
   507 							
   508 = A0E8			strzalSkos11	equ *			
   509 A0E8 A0 07		@			ldy #7			;na gorze
   510 A0EA B1 B4		@			lda (strz),y		;0100
   511 A0EC 91 B6					sta (strz1),y	;0010
   512 A0EE 88						dey				;0000
   513 A0EF B1 B4					lda (strz),y		;0000
   514 A0F1 91 B6					sta (strz1),y
   515 A0F3 88						dey
   516 A0F4 B1 B4					lda (strz),y
   517 A0F6 91 B6					sta (strz1),y
   518 A0F8 88						dey
   519 A0F9 B1 B4					lda (strz),y
   520 A0FB 91 B6					sta (strz1),y
   521 A0FD 88						dey
   522 							
   523 A0FE B1 B4					lda (strz),y
   524 A100 45 AF					eor strz0b
   525 A102 91 B6					sta (strz1),y
   526 A104 88						dey
   527 A105 B1 B4					lda (strz),y
   528 A107 45 AF					eor strz0b
   529 A109 91 B6					sta (strz1),y
   530 A10B 88						dey
   531 							
   532 A10C A5 B3					lda strz0f
   533 A10E C9 03					cmp #3
   534 A110 F0 14					beq @+
   535 							
   536 A112 06 AF					asl strz0b
   537 A114 06 AF					asl strz0b	;skos1  \
   538 A116 B1 B4					lda (strz),y
   539 A118 45 AF					eor strz0b
   540 A11A 91 B6					sta (strz1),y
   541 A11C 88						dey
   542 A11D B1 B4					lda (strz),y
   543 A11F 45 AF					eor strz0b
   544 A121 91 B6					sta (strz1),y
   545 							
   546 A123 4C ED 9F					jmp pst1
   547 							
   548 A126 46 AF		@			lsr strz0b
   549 A128 46 AF					lsr strz0b		;skos2 /
   550 							
   551 A12A B1 B4					lda (strz),y
   552 A12C 45 AF					eor strz0b
   553 A12E 91 B6					sta (strz1),y
   554 A130 88						dey
   555 A131 B1 B4					lda (strz),y
   556 A133 45 AF					eor strz0b
   557 A135 91 B6					sta (strz1),y
   558 							
   559 A137 4C ED 9F					jmp pst1
   560 							
   561 = A13A			strzalSkos12	equ *
   562 A13A A0 07					ldy #7
   563 A13C B1 B4					lda (strz),y
   564 A13E 91 B6					sta (strz1),y
   565 A140 88						dey
   566 A141 B1 B4					lda (strz),y		;0000
   567 A143 91 B6					sta (strz1),y	;0100
   568 A145 88						dey				;0010
   569 											;0000
   570 A146 B1 B4					lda (strz),y
   571 A148 45 AF					eor strz0b
   572 A14A 91 B6					sta (strz1),y
   573 A14C 88						dey
   574 A14D B1 B4					lda (strz),y
   575 A14F 45 AF					eor strz0b
   576 A151 91 B6					sta (strz1),y
   577 A153 88						dey
   578 							
   579 A154 A5 B3					lda strz0f
   580 A156 C9 03					cmp #3
   581 A158 F0 1E					beq @+
   582 							
   583 A15A 06 AF					asl strz0b
   584 A15C 06 AF					asl strz0b	;skos1  \
   585 A15E B1 B4					lda (strz),y
   586 A160 45 AF					eor strz0b
   587 A162 91 B6					sta (strz1),y
   588 A164 88						dey
   589 A165 B1 B4					lda (strz),y
   590 A167 45 AF					eor strz0b
   591 A169 91 B6					sta (strz1),y
   592 A16B 88						dey
   593 							
   594 A16C B1 B4					lda (strz),y
   595 A16E 91 B6					sta (strz1),y
   596 A170 88						dey
   597 A171 B1 B4					lda (strz),y
   598 A173 91 B6					sta (strz1),y
   599 A175 4C ED 9F					jmp pst1	
   600 							
   601 A178 46 AF		@			lsr strz0b
   602 A17A 46 AF					lsr strz0b		;skos2 /
   603 							
   604 A17C B1 B4					lda (strz),y
   605 A17E 45 AF					eor strz0b
   606 A180 91 B6					sta (strz1),y
   607 A182 88						dey
   608 A183 B1 B4					lda (strz),y
   609 A185 45 AF					eor strz0b
   610 A187 91 B6					sta (strz1),y
   611 A189 88						dey
   612 							
   613 A18A B1 B4					lda (strz),y
   614 A18C 91 B6					sta (strz1),y
   615 A18E 88						dey
   616 A18F B1 B4					lda (strz),y
   617 A191 91 B6					sta (strz1),y
   618 A193 4C ED 9F					jmp pst1	
   619
   620 = A196			strzalSkos13	equ *	
   621 A196 A0 07					ldy #7
   622 A198 B1 B4					lda (strz),y		;na dole
   623 A19A 45 AF					eor strz0b
   624 A19C 91 B6					sta (strz1),y		;0000
   625 A19E 88						dey				;0000
   626 A19F B1 B4					lda (strz),y		;0100		
   627 A1A1 45 AF					eor strz0b		;0010
   628 A1A3 91 B6					sta (strz1),y
   629 A1A5 88						dey
   630 							
   631 A1A6 A5 B3					lda strz0f
   632 A1A8 C9 03					cmp #3
   633 A1AA F0 28					beq @+
   634 							
   635 A1AC 06 AF					asl strz0b
   636 A1AE 06 AF					asl strz0b	;skos1  \
   637 A1B0 B1 B4					lda (strz),y		
   638 A1B2 45 AF					eor strz0b
   639 A1B4 91 B6					sta (strz1),y
   640 A1B6 88						dey
   641 A1B7 B1 B4					lda (strz),y		
   642 A1B9 45 AF					eor strz0b
   643 A1BB 91 B6					sta (strz1),y
   644 A1BD 88						dey
   645 							
   646 A1BE B1 B4					lda (strz),y
   647 A1C0 91 B6					sta (strz1),y
   648 A1C2 88						dey
   649 A1C3 B1 B4					lda (strz),y
   650 A1C5 91 B6					sta (strz1),y
   651 A1C7 88						dey
   652 A1C8 B1 B4					lda (strz),y
   653 A1CA 91 B6					sta (strz1),y
   654 A1CC 88						dey
   655 A1CD B1 B4					lda (strz),y
   656 A1CF 91 B6					sta (strz1),y
   657 							
   658 A1D1 4C ED 9F					jmp pst1
   659 							
   660 A1D4 46 AF		@			lsr strz0b
   661 A1D6 46 AF					lsr strz0b		;skos2 /
   662 							
   663 A1D8 B1 B4					lda (strz),y		
   664 A1DA 45 AF					eor strz0b
   665 A1DC 91 B6					sta (strz1),y
   666 A1DE 88						dey
   667 A1DF B1 B4					lda (strz),y		
   668 A1E1 45 AF					eor strz0b
   669 A1E3 91 B6					sta (strz1),y
   670 A1E5 88						dey
   671 							
   672 A1E6 B1 B4					lda (strz),y
   673 A1E8 91 B6					sta (strz1),y
   674 A1EA 88						dey
   675 A1EB B1 B4					lda (strz),y
   676 A1ED 91 B6					sta (strz1),y
   677 A1EF 88						dey
   678 A1F0 B1 B4					lda (strz),y
   679 A1F2 91 B6					sta (strz1),y
   680 A1F4 88						dey
   681 A1F5 B1 B4					lda (strz),y
   682 A1F7 91 B6					sta (strz1),y
   683 							
   684 A1F9 4C ED 9F					jmp pst1
   685 							
   686 A1FC B8 E8 3A 96		strzalTab8	dta b(<strzalSkos10,<strzalSkos11,<strzalSkos12,<strzalSkos13)
   687 A200 0C 2C 62 9A					dta b(<strzalSkos10b,<strzalSkos11b,<strzalSkos12b,<strzalSkos13b)	;pusty znak
   688 A204 A0 A0 A1 A1					dta b(>strzalSkos10,>strzalSkos11,>strzalSkos12,>strzalSkos13)			
   689 A208 A2 A2 A2 A2					dta b(>strzalSkos10b,>strzalSkos11b,>strzalSkos12b,>strzalSkos13b)	;pusty znak
   690
   691 = A20C			strzalSkos10b	equ *
   692 A20C A0 07					ldy #7			;0010
   693 A20E A9 00					lda #0			;0000
   694 A210 91 B6					sta (strz1),y	;0000
   695 A212 88						dey				;0000
   696 A213 91 B6					sta (strz1),y
   697 A215 88						dey
   698 A216 91 B6					sta (strz1),y
   699 A218 88						dey
   700 A219 91 B6					sta (strz1),y
   701 A21B 88						dey
   702 A21C 91 B6					sta (strz1),y
   703 A21E 88						dey
   704 A21F 91 B6					sta (strz1),y
   705 A221 88						dey
   706 A222 A5 AF					lda strz0b
   707 A224 91 B6					sta (strz1),y
   708 A226 88						dey
   709 A227 91 B6					sta (strz1),y
   710 							
   711 A229 4C ED 9F					jmp pst1
   712 							
   713 = A22C			strzalSkos11b	equ *			
   714 A22C A0 07		@			ldy #7			;na gorze
   715 A22E A9 00		@			lda #0			;0100
   716 A230 91 B6					sta (strz1),y	;0010
   717 A232 88						dey				;0000				
   718 A233 91 B6					sta (strz1),y	;0000
   719 A235 88						dey
   720 A236 91 B6					sta (strz1),y
   721 A238 88						dey
   722 A239 91 B6					sta (strz1),y
   723 A23B 88						dey
   724 							
   725 A23C A5 AF					lda strz0b
   726 A23E 91 B6					sta (strz1),y
   727 A240 88						dey
   728 A241 91 B6					sta (strz1),y
   729 A243 88						dey
   730 							
   731 A244 A5 B3					lda strz0f
   732 A246 C9 03					cmp #3
   733 A248 F0 0C					beq @+
   734 							
   735 A24A A5 AF					lda strz0b	;skos1  \
   736 A24C 0A						asl
   737 A24D 0A						asl
   738
   739 A24E 91 B6					sta (strz1),y
   740 A250 88						dey
   741 A251 91 B6					sta (strz1),y
   742 							
   743 A253 4C ED 9F					jmp pst1
   744 							
   745 A256 A5 AF		@			lda strz0b		;skos2 /
   746 A258 4A						lsr
   747 A259 4A						lsr
   748
   749 A25A 91 B6					sta (strz1),y
   750 A25C 88						dey
   751 A25D 91 B6					sta (strz1),y
   752 							
   753 A25F 4C ED 9F					jmp pst1
   754 							
   755 = A262			strzalSkos12b	equ *
   756 A262 A0 07					ldy #7
   757 A264 A9 00					lda #0
   758 A266 91 B6					sta (strz1),y
   759 A268 88						dey				;0000	
   760 A269 91 B6					sta (strz1),y	;0100
   761 A26B A0 01					ldy #1			;0010
   762 A26D 91 B6					sta (strz1),y	;0000
   763 A26F 88						dey
   764 A270 91 B6					sta (strz1),y
   765 							
   766 A272 A0 05					ldy #5
   767 A274 A5 AF					lda strz0b
   768 A276 91 B6					sta (strz1),y
   769 A278 88						dey
   770 A279 A5 AF					lda strz0b
   771 A27B 91 B6					sta (strz1),y
   772 A27D 88						dey			;y=3
   773 							
   774 A27E C4 B3					cpy strz0f
   775 A280 F0 0C					beq @+
   776 							
   777 A282 A5 AF					lda strz0b	;skos1  \
   778 A284 0A						asl
   779 A285 0A						asl
   780 A286 91 B6					sta (strz1),y
   781 A288 88						dey
   782 A289 91 B6					sta (strz1),y
   783
   784 A28B 4C ED 9F					jmp pst1
   785 							
   786 A28E A5 AF		@			lda strz0b		;skos2 /
   787 A290 4A						lsr
   788 A291 4A						lsr
   789 							
   790 A292 91 B6					sta (strz1),y
   791 A294 88						dey
   792 A295 91 B6					sta (strz1),y
   793
   794 A297 4C ED 9F					jmp pst1	
   795
   796 = A29A			strzalSkos13b	equ *	
   797 A29A A0 07					ldy #7	
   798 A29C A5 AF					lda strz0b		;na dole
   799 A29E 91 B6					sta (strz1),y	;0000
   800 A2A0 88						dey				;0000
   801 											;0100				
   802 A2A1 91 B6					sta (strz1),y	;0010
   803 A2A3 88						dey
   804 							
   805 A2A4 A5 B3					lda strz0f
   806 A2A6 C9 03					cmp #3
   807 A2A8 F0 1A					beq @+
   808 							
   809 A2AA A5 AF					lda strz0b
   810 A2AC 0A						asl
   811 A2AD 0A						asl			;skos1  \	
   812 A2AE 91 B6					sta (strz1),y
   813 A2B0 88						dey	
   814 A2B1 91 B6					sta (strz1),y
   815 A2B3 88						dey
   816 							
   817 A2B4 A9 00					lda #0
   818 A2B6 91 B6					sta (strz1),y
   819 A2B8 88						dey
   820 A2B9 91 B6					sta (strz1),y
   821 A2BB 88						dey
   822 A2BC 91 B6					sta (strz1),y
   823 A2BE 88						dey
   824 A2BF 91 B6					sta (strz1),y
   825 							
   826 A2C1 4C ED 9F					jmp pst1
   827 							
   828 A2C4 A5 AF		@			lda strz0b		;skos2 /
   829 A2C6 4A						lsr
   830 A2C7 4A						lsr
   831 								
   832 A2C8 91 B6					sta (strz1),y
   833 A2CA 88						dey	
   834 A2CB 91 B6					sta (strz1),y
   835 A2CD 88						dey
   836 							
   837 A2CE A9 00					lda #0
   838 A2D0 91 B6					sta (strz1),y
   839 A2D2 88						dey
   840 A2D3 91 B6					sta (strz1),y
   841 A2D5 88						dey
   842 A2D6 91 B6					sta (strz1),y
   843 A2D8 88						dey
   844 A2D9 91 B6					sta (strz1),y
   845 							
   846 A2DB 4C ED 9F					jmp pst1
   847 							
   848 							
   849 A2DE 40 50 14 05		strzalTab3		dta b(%01000000,%01010000,%00010100,%00000101)
   850
   851 = A2E2			printStrzalLP	equ *
   852 				;rejestr X (nr pocisku) w strz0d
   853 A2E2 A5 C1					lda vblFlaga
   854 A2E4 F0 16					beq @+1
   855 A2E6 BD 44 36					lda strzalTlo,x
   856 A2E9 A4 BC					ldy ramka
   857 A2EB D0 09					bne @+			;odwrotne obrazy
   858 A2ED BC 18 36					ldy strzalX1,x
   859 A2F0 99 28 1C					sta obraz1+14*48,y
   860 A2F3 4C FC A2					jmp @+1
   861 A2F6 BC 18 36		@			ldy strzalX1,x
   862 A2F9 99 20 23					sta obraz2+14*48,y
   863 							
   864 A2FC BD 20 36		@			lda strzalX3,x
   865 							
   866 A2FF 29 03					and #%11
   867 A301 A8						tay
   868 							
   869 A302 B9 DE A2					lda strzalTab3,y
   870 A305 85 AF					sta strz0b		;Ora
   871 									
   872 A307 BD 1C 36					lda strzalX2,x
   873 A30A A8						tay
   874 A30B 9D 18 36					sta strzalX1,x		;do zmazania
   875 A30E BD 34 36					lda strzalY2,x
   876 A311 9D 30 36					sta strzalY1,x		;do zmazania
   877 							
   878 							
   879 A314 A5 BC					lda ramka
   880 A316 D0 46					bne @+
   881 						
   882 A318 B9 28 1C					lda obraz1+14*48,y
   883 A31B 9D 44 36					sta strzalTlo,x		;do zmazania 
   884 							
   885 A31E 29 7F					and #127
   886 A320 C9 03					cmp #3 
   887 A322 B0 14					bcs puste1		;jesli nr znaku >3		
   888 							
   889 A324 BD FB 9F					lda strzalTab0,x
   890 A327 99 28 1C					sta obraz1+14*48,y
   891 A32A A8						tay
   892 A32B B9 00 2D					lda adresZnakL,y 	;adres znaku pocisku
   893 A32E 85 B6					sta strz1
   894 A330 B9 00 2E					lda adresZnakH,y
   895 A333 85 B7					sta strz1+1
   896 A335 4C 7D A3					jmp slp0		;jmp
   897 							
   898 A338 B9 28 1C		puste1		lda obraz1+14*48,y
   899 A33B 29 80					and #128
   900 A33D 1D FB 9F					ora strzalTab0,x
   901
   902 A340 99 28 1C					sta obraz1+14*48,y
   903 A343 A8						tay
   904 A344 B9 00 2D					lda adresZnakL,y 	;adres znaku pocisku
   905 A347 85 B6					sta strz1
   906 A349 B9 00 2E					lda adresZnakH,y
   907 A34C 85 B7					sta strz1+1
   908 							
   909 A34E BC 44 36					ldy strzalTlo,x
   910 							
   911 A351 B9 00 2D					lda adresZnakL,y 	;adres znaku pod pociskiem
   912 A354 85 B4					sta strz
   913 A356 B9 00 2E					lda adresZnakH,y
   914 A359 85 B5					sta strz+1	
   915 							
   916 A35B 4C C8 A3					jmp slp1		;jmp
   917 								
   918 								
   919 A35E B9 20 23		@			lda obraz2+14*48,y
   920 A361 9D 44 36					sta strzalTlo,x		;do zmazania 
   921 							
   922 A364 29 7F					and #127
   923 A366 C9 03					cmp #3
   924 A368 B0 37					bcs puste10		;jesli nr znaku >3	
   925 							
   926 A36A BD FB 9F					lda strzalTab0,x
   927 A36D 99 20 23					sta obraz2+14*48,y
   928 A370 A8						tay
   929 A371 B9 00 2D					lda adresZnakL,y 	;adres znaku pocisku
   930 A374 85 B6					sta strz1
   931 A376 B9 00 2E					lda adresZnakH,y
   932 A379 09 04					ora #4
   933 A37B 85 B7					sta strz1+1
   934
   935 A37D A0 07		slp0		ldy #7
   936 A37F A9 00					lda #0
   937 A381 91 B6					sta (strz1),y
   938 A383 88						dey
   939 A384 91 B6					sta (strz1),y
   940 A386 88						dey
   941 A387 91 B6					sta (strz1),y
   942 A389 88						dey
   943 A38A 91 B6					sta (strz1),y
   944 A38C 88						dey
   945 A38D 91 B6					sta (strz1),y
   946 A38F 88						dey
   947 A390 91 B6					sta (strz1),y
   948 A392 88						dey
   949 A393 91 B6					sta (strz1),y
   950 A395 88						dey
   951 A396 91 B6					sta (strz1),y
   952 							
   953 A398 A4 E0					ldy movYs
   954 A39A A5 AF					lda strz0b
   955 A39C 91 B6					sta (strz1),y
   956 							
   957 A39E 4C ED 9F					jmp pst1
   958 							
   959 A3A1 B9 20 23		puste10		lda obraz2+14*48,y
   960 A3A4 29 80					and #128
   961 A3A6 1D FB 9F					ora strzalTab0,x
   962
   963 A3A9 99 20 23					sta obraz2+14*48,y
   964 A3AC A8						tay
   965 A3AD B9 00 2D					lda adresZnakL,y 	;adres znaku pocisku
   966 A3B0 85 B6					sta strz1
   967 A3B2 B9 00 2E					lda adresZnakH,y
   968 A3B5 09 04					ora #4
   969 A3B7 85 B7					sta strz1+1
   970 							
   971 A3B9 BC 44 36					ldy strzalTlo,x
   972 							
   973 A3BC B9 00 2D					lda adresZnakL,y 	;adres znaku pod pociskiem
   974 A3BF 85 B4					sta strz
   975 A3C1 B9 00 2E					lda adresZnakH,y
   976 A3C4 09 04					ora #4
   977 A3C6 85 B5					sta strz+1	
   978 							
   979 = A3C8			slp1		equ *			
   980 A3C8 A0 07					ldy #7
   981 A3CA B1 B4					lda (strz),y
   982 A3CC 91 B6					sta (strz1),y
   983 A3CE 88						dey
   984 A3CF B1 B4					lda (strz),y
   985 A3D1 91 B6					sta (strz1),y
   986 A3D3 88						dey
   987 A3D4 B1 B4					lda (strz),y
   988 A3D6 91 B6					sta (strz1),y
   989 A3D8 88						dey
   990 A3D9 B1 B4					lda (strz),y
   991 A3DB 91 B6					sta (strz1),y
   992 A3DD 88						dey
   993 A3DE B1 B4					lda (strz),y
   994 A3E0 91 B6					sta (strz1),y
   995 A3E2 88						dey
   996 A3E3 B1 B4					lda (strz),y
   997 A3E5 91 B6					sta (strz1),y
   998 A3E7 88						dey
   999 A3E8 B1 B4					lda (strz),y
  1000 A3EA 91 B6					sta (strz1),y
  1001 A3EC 88						dey
  1002 A3ED B1 B4					lda (strz),y
  1003 A3EF 91 B6					sta (strz1),y
  1004 							
  1005 A3F1 A4 E0					ldy movYs
  1006 A3F3 B1 B6					lda (strz1),y
  1007 A3F5 45 AF					eor strz0b
  1008 A3F7 91 B6					sta (strz1),y
  1009 							
  1010 A3F9 4C ED 9F					jmp pst1
  1011 							
  1012
  1013 										
  1014 A3FC 40 10 04 01		strzalTab6	dta b(%01000000,%00010000,%00000100,%00000001)
  1015 A400 3F CF F3 FC					dta b(%00111111,%11001111,%11110011,%11111100)
  1016 								
  1017 = A404			printStrzalGD	equ *
  1018 A404 A5 C1					lda vblFlaga
  1019 A406 F0 11					beq @+
  1020 							
  1021 A408 A0 00					ldy #0
  1022 A40A BD 9C 36					lda zmazTab,x
  1023 A40D 85 B4					sta strz
  1024 A40F BD A0 36					lda zmazTab+4,x
  1025 A412 85 B5					sta strz+1
  1026 A414 BD 44 36					lda strzalTlo,x
  1027 A417 91 B4					sta (strz),y
  1028 							
  1029 A419			@			OBLICZSTRZAL	
Macro: OBLICZSTRZAL [Source: bstrzaly.asm]
     2 A419 BD A4 36					lda strzalXbit,x
     3 A41C A8						tay
     4 A41D B9 FC A3					lda strzalTab6,y
     5 A420 85 AF					sta strz0b		;ora
     7 A422 BC 34 36					ldy strzalY2,x
     9 A425 A5 BC					lda ramka
    10 A427 D0 19					bne @+
    12 A429 18						clc
    13 A42A B9 D9 36					lda obraz1L,y
    14 A42D 7D 1C 36					adc strzalX2,x
    15 A430 85 B6					sta strz1
    16 A432 9D 9C 36					sta zmazTab,x
    17 A435 B9 F6 36					lda obraz1H,y
    18 A438 69 00					adc #0
    19 A43A 85 B7					sta strz1+1
    20 A43C 9D A0 36					sta zmazTab+4,x
    21 A43F 4C 58 A4					jmp @+1		;skok bezwarunkowy
    23 A442 18			@			clc
    24 A443 B9 13 37					lda obraz2L,y
    25 A446 7D 1C 36					adc strzalX2,x
    26 A449 85 B6					sta strz1
    27 A44B 9D 9C 36					sta zmazTab,x
    28 A44E B9 30 37					lda obraz2H,y
    29 A451 69 00					adc #0
    30 A453 85 B7					sta strz1+1	
    31 A455 9D A0 36					sta zmazTab+4,x
    33 A458 A0 00		@			ldy #0	
    34 A45A B1 B6					lda (strz1),y
    35 A45C 9D 44 36					sta strzalTlo,x		;do zmazania 
    36 A45F A8						tay
    37 A460 29 7F					and #127	
    38 A462 C9 03					cmp #3		;czy znak zerowy ?
    39 A464 B0 20					bcs @+
    41 A466 A9 04 85 B0		mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
    42 A46A BD FB 9F					lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
    43 A46D A0 00					ldy #0
    44 A46F 91 B6					sta (strz1),y
    45 A471 A8						tay
    46 A472 B9 00 2D					lda adresZnakL,y
    47 A475 85 B6					sta strz1
    49 A477 B9 00 2E					lda adresZnakH,y
    50 A47A 05 BD					ora ramka4
    51 A47C 85 B7					sta strz1+1
    52 A47E BD 3C 36					lda strzalYbit,x
    53 A481 09 04					ora #4
    55 A483 4C AF A4					jmp @+1	;jmp
    58 A486 98			@			tya
    59 A487 29 80					and #128
    60 A489 1D FB 9F					ora strzalTab0,x
    61 A48C AA						tax
    63 A48D B9 00 2D					lda adresZnakL,y	;nr znaku pod pociskiem
    64 A490 85 B4					sta strz
    65 A492 B9 00 2E					lda adresZnakH,y
    66 A495 05 BD					ora ramka4
    67 A497 85 B5					sta strz+1
    69 A499 A0 00					ldy #0
    70 A49B 8A						txa
    71 A49C 91 B6					sta (strz1),y
    72 A49E BD 00 2D					lda adresZnakL,x
    73 A4A1 85 B6					sta strz1
    75 A4A3 BD 00 2E					lda adresZnakH,x
    76 A4A6 05 BD					ora ramka4
    77 A4A8 85 B7					sta strz1+1			
Source: bstrzaly.asm
  1030 							
  1031 A4AA A6 B1					ldx strz0d
  1032 A4AC BD 3C 36					lda strzalYbit,x
  1033 							
  1034 A4AF A8			@			tay					;skok z OBLICZ przy pustym znaku
  1035 A4B0 B9 89 A5					lda strzalTab7,y
  1036 A4B3 85 B8					sta strz2
  1037 A4B5 B9 91 A5					lda strzalTab7+8,y
  1038 A4B8 85 B9					sta strz2+1
  1039 A4BA 6C B8 00					jmp (strz2)
  1040 							
  1041 					
  1042 = A4BD			strzalGD0	equ *
  1043 A4BD A0 07					ldy #7
  1044 A4BF B1 B4					lda (strz),y
  1045 A4C1 91 B6					sta (strz1),y
  1046 A4C3 88						dey
  1047 A4C4 B1 B4					lda (strz),y
  1048 A4C6 91 B6					sta (strz1),y
  1049 A4C8 88						dey
  1050 A4C9 B1 B4					lda (strz),y
  1051 A4CB 91 B6					sta (strz1),y
  1052 A4CD 88						dey
  1053 A4CE B1 B4					lda (strz),y
  1054 A4D0 91 B6					sta (strz1),y
  1055 A4D2 88						dey
  1056 A4D3 B1 B4					lda (strz),y
  1057 A4D5 91 B6					sta (strz1),y
  1058 A4D7 88						dey
  1059 A4D8 B1 B4					lda (strz),y
  1060 A4DA 91 B6					sta (strz1),y
  1061 A4DC 88						dey
  1062
  1063 A4DD B1 B4					lda (strz),y
  1064 A4DF 45 AF					eor strz0b
  1065 A4E1 91 B6					sta (strz1),y
  1066 A4E3 88						dey
  1067 A4E4 B1 B4					lda (strz),y
  1068 A4E6 45 AF					eor strz0b
  1069 A4E8 91 B6					sta (strz1),y
  1070 A4EA 4C ED 9F					jmp pst1
  1071
  1072 = A4ED			strzalGD1	equ *			
  1073 A4ED A0 07					ldy #7			;na gorze
  1074 A4EF B1 B4					lda (strz),y
  1075 A4F1 91 B6					sta (strz1),y
  1076 A4F3 88						dey
  1077 A4F4 B1 B4					lda (strz),y
  1078 A4F6 91 B6					sta (strz1),y
  1079 A4F8 88						dey
  1080 A4F9 B1 B4					lda (strz),y
  1081 A4FB 91 B6					sta (strz1),y
  1082 A4FD 88						dey
  1083 A4FE B1 B4					lda (strz),y
  1084 A500 91 B6					sta (strz1),y
  1085 A502 88						dey
  1086 							
  1087 A503 B1 B4					lda (strz),y
  1088 A505 45 AF					eor strz0b
  1089 A507 91 B6					sta (strz1),y
  1090 A509 88						dey
  1091 A50A B1 B4					lda (strz),y
  1092 A50C 45 AF					eor strz0b
  1093 A50E 91 B6					sta (strz1),y
  1094 A510 88						dey
  1095 A511 B1 B4					lda (strz),y
  1096 A513 45 AF					eor strz0b
  1097 A515 91 B6					sta (strz1),y
  1098 A517 88						dey
  1099 A518 B1 B4					lda (strz),y
  1100 A51A 45 AF					eor strz0b
  1101 A51C 91 B6					sta (strz1),y
  1102 							
  1103 A51E 4C ED 9F					jmp pst1
  1104 							
  1105 = A521			strzalGD2	equ *
  1106 A521 A0 07					ldy #7
  1107 A523 B1 B4					lda (strz),y
  1108 A525 91 B6					sta (strz1),y
  1109 A527 88						dey
  1110 A528 B1 B4					lda (strz),y
  1111 A52A 91 B6					sta (strz1),y
  1112 A52C 88						dey
  1113 							
  1114 A52D B1 B4					lda (strz),y
  1115 A52F 45 AF					eor strz0b
  1116 A531 91 B6					sta (strz1),y
  1117 A533 88						dey
  1118 A534 B1 B4					lda (strz),y
  1119 A536 45 AF					eor strz0b
  1120 A538 91 B6					sta (strz1),y
  1121 A53A 88						dey
  1122 A53B B1 B4					lda (strz),y
  1123 A53D 45 AF					eor strz0b
  1124 A53F 91 B6					sta (strz1),y
  1125 A541 88						dey
  1126 A542 B1 B4					lda (strz),y
  1127 A544 45 AF					eor strz0b
  1128 A546 91 B6					sta (strz1),y
  1129 A548 88						dey
  1130 							
  1131 A549 B1 B4					lda (strz),y
  1132 A54B 91 B6					sta (strz1),y
  1133 A54D 88						dey
  1134 A54E B1 B4					lda (strz),y
  1135 A550 91 B6					sta (strz1),y
  1136 A552 4C ED 9F					jmp pst1
  1137 							
  1138 = A555			strzalGD3	equ *	
  1139 A555 A0 07					ldy #7
  1140 A557 B1 B4					lda (strz),y		;na dole
  1141 A559 45 AF					eor strz0b
  1142 A55B 91 B6					sta (strz1),y	
  1143 A55D 88						dey
  1144 A55E B1 B4					lda (strz),y		
  1145 A560 45 AF					eor strz0b
  1146 A562 91 B6					sta (strz1),y	
  1147 A564 88						dey
  1148 A565 B1 B4					lda (strz),y		;na dole
  1149 A567 45 AF					eor strz0b
  1150 A569 91 B6					sta (strz1),y	
  1151 A56B 88						dey
  1152 A56C B1 B4					lda (strz),y		;na dole
  1153 A56E 45 AF					eor strz0b
  1154 A570 91 B6					sta (strz1),y	
  1155 A572 88						dey
  1156 							
  1157 A573 B1 B4					lda (strz),y
  1158 A575 91 B6					sta (strz1),y
  1159 A577 88						dey
  1160 A578 B1 B4					lda (strz),y
  1161 A57A 91 B6					sta (strz1),y
  1162 A57C 88						dey
  1163 A57D B1 B4					lda (strz),y
  1164 A57F 91 B6					sta (strz1),y
  1165 A581 88						dey
  1166 A582 B1 B4					lda (strz),y
  1167 A584 91 B6					sta (strz1),y
  1168 							
  1169 A586 4C ED 9F					jmp pst1
  1170 							
  1171 A589 BD ED 21 55		strzalTab7	dta b(<strzalGD0,<strzalGD1,<strzalGD2,<strzalGD3)
  1172 A58D 99 B9 D9 FB					dta b(<strzalGD0b,<strzalGD1b,<strzalGD2b,<strzalGD3b)
  1173 A591 A4 A4 A5 A5					dta b(>strzalGD0,>strzalGD1,>strzalGD2,>strzalGD3)
  1174 A595 A5 A5 A5 A5					dta b(>strzalGD0b,>strzalGD1b,>strzalGD2b,>strzalGD3b)
  1175 							
  1176 = A599			strzalGD0b	equ *
  1177 A599 A0 07					ldy #7
  1178 A59B A9 00					lda #0
  1179 A59D 91 B6					sta (strz1),y
  1180 A59F 88						dey
  1181 A5A0 91 B6					sta (strz1),y
  1182 A5A2 88						dey
  1183 A5A3 91 B6					sta (strz1),y
  1184 A5A5 88						dey
  1185 A5A6 91 B6					sta (strz1),y
  1186 A5A8 88						dey
  1187 A5A9 91 B6					sta (strz1),y
  1188 A5AB 88						dey
  1189 A5AC 91 B6					sta (strz1),y
  1190 A5AE 88						dey
  1191
  1192 A5AF A5 AF					lda strz0b
  1193 A5B1 91 B6					sta (strz1),y
  1194 A5B3 88						dey
  1195 A5B4 91 B6					sta (strz1),y
  1196 A5B6 4C ED 9F					jmp pst1
  1197
  1198 = A5B9			strzalGD1b	equ *			
  1199 A5B9 A0 07					ldy #7			;na gorze
  1200 A5BB A9 00					lda #0
  1201 A5BD 91 B6					sta (strz1),y
  1202 A5BF 88						dey
  1203 A5C0 91 B6					sta (strz1),y
  1204 A5C2 88						dey
  1205 A5C3 91 B6					sta (strz1),y
  1206 A5C5 88						dey
  1207 A5C6 91 B6					sta (strz1),y
  1208 A5C8 88						dey
  1209 A5C9 A5 AF					lda strz0b
  1210 A5CB 91 B6					sta (strz1),y
  1211 A5CD 88						dey
  1212 A5CE 91 B6					sta (strz1),y
  1213 A5D0 88						dey
  1214 A5D1 91 B6					sta (strz1),y
  1215 A5D3 88						dey
  1216 A5D4 91 B6					sta (strz1),y
  1217 							
  1218 A5D6 4C ED 9F					jmp pst1
  1219 							
  1220 = A5D9			strzalGD2b	equ *
  1221 A5D9 A0 07					ldy #7
  1222 A5DB A9 00					lda #0
  1223 A5DD 91 B6					sta (strz1),y
  1224 A5DF 88						dey
  1225 A5E0 91 B6					sta (strz1),y
  1226 A5E2 A0 01					ldy #1
  1227 A5E4 91 B6					sta (strz1),y
  1228 A5E6 88						dey
  1229 A5E7 91 B6					sta (strz1),y
  1230 							
  1231 A5E9 A0 05					ldy #5
  1232 A5EB A5 AF					lda strz0b
  1233 A5ED 91 B6					sta (strz1),y
  1234 A5EF 88						dey
  1235 A5F0 91 B6					sta (strz1),y
  1236 A5F2 88						dey
  1237 A5F3 91 B6					sta (strz1),y
  1238 A5F5 88						dey
  1239 A5F6 91 B6					sta (strz1),y
  1240 							
  1241 A5F8 4C ED 9F					jmp pst1
  1242 							
  1243 = A5FB			strzalGD3b	equ *	
  1244 A5FB A0 07					ldy #7		
  1245 A5FD A5 AF					lda strz0b		;na dole
  1246 A5FF 91 B6					sta (strz1),y	
  1247 A601 88						dey
  1248 A602 91 B6					sta (strz1),y	
  1249 A604 88						dey
  1250 A605 91 B6					sta (strz1),y	
  1251 A607 88						dey
  1252 A608 91 B6					sta (strz1),y	
  1253 A60A 88						dey
  1254 							
  1255 A60B A9 00					lda #0
  1256 A60D 91 B6					sta (strz1),y
  1257 A60F 88						dey
  1258 A610 91 B6					sta (strz1),y
  1259 A612 88						dey
  1260 A613 91 B6					sta (strz1),y
  1261 A615 88						dey
  1262 A616 91 B6					sta (strz1),y
  1263 							
  1264 A618 4C ED 9F					jmp pst1
  1265 							
   540 A61B						icl 'spy.asm'
Source: spy.asm
     1
     2 A61B 03 21 13 FE		spyTab1	dta b(3,33,19,-2)
     3 A61F FE 16 1D 09				dta b(-2,22,29,9)
     4 A623 06 0C 00 04				dta b(6,12,0,4)
     5 A627 01 FF		spyTab3		dta b(1,-1)	
     6
     7
     8 = A629			przepisz5duszka	equ *
     9 A629 A2 00				ldx #0
    10 A62B BD 1F 32		@		lda enemy,x		;poszukaj pustego duszka
    11 A62E F0 03				beq @+
    12 A630 E8					inx
    13 A631 D0 F8				bne @-
    14 						
    15 A633 AD 30 32		@		lda enemyEkran+5			;kopiuj obecnego przeciwnika na pozycjÄ™ 0
    16 A636 9D 2B 32				sta enemyEkran,x
    17 A639 AD 2A 32				lda enemyWybuch+5
    18 A63C 9D 25 32				sta enemyWybuch,x
    19 A63F A9 01 9D 1F 32			mva #1 enemy,x
    20 A644 8D 30 32				sta enemyEkran+5
    21 A647 A9 00 8D 24 32			mva #0 enemy+5
    22 A64C 8D 2A 32				sta enemyWybuch+5
    23 A64F AD 6C 32				lda enemyNegatyw+5
    24 A652 9D 67 32				sta enemyNegatyw,x
    25 A655 AD 72 32				lda enemyBank+5
    26 A658 9D 6D 32				sta enemyBank,x
    27 A65B AD 78 32				lda enemyShapeH+5
    28 A65E 9D 73 32				sta enemyShapeH,x
    29 A661 AD 66 32				lda enemyFaza+5
    30 A664 9D 61 32				sta enemyFaza,x
    31 A667 AD 4E 32				lda enemyDX+5
    32 A66A 9D 49 32				sta enemyDX,x
    33 A66D AD 5A 32				lda enemyDY+5
    34 A670 9D 55 32				sta enemyDY,x
    35 A673 AD 36 32				lda enemyX+5
    36 A676 9D 31 32				sta enemyX,x
    37 A679 AD 42 32				lda enemyY+5
    38 A67C 9D 3D 32				sta enemyY,x
    39 A67F AD 98 36				lda enLicznik+5
    40 A682 9D 93 36				sta enLicznik,x
    41 A685 AD 92 36				lda enRotate+5
    42 A688 9D 8D 36				sta enRotate,x
    43 						
    44 A68B 60					rts
    45
    46 = A68C			losuj	equ *
    47 A68C AD 16 31				lda poziom
    48 A68F C9 03				cmp #spy_from_level			;spy od 2 poziomu
    49 A691 B0 01				bcs *+3
    50 A693 60					rts
    51 A694 CE 62 36		@		dec losuj1
    52 A697 F0 01				beq @+
    53 A699 60					rts
    54 A69A AD 61 36 8D 62 36	@		mva opoz_dlosuj losuj1
    55 A6A0 AD 52 36				lda ile_enemy
    56 A6A3 C9 04				cmp #4			;jeÅ›li na ekranie jest wiÄ™cej niÅ¼ 3 przeciwnikow to wyjdz
    57 A6A5 90 01				bcc @+
    58 A6A7 60					rts
    59 A6A8 AD 53 36		@		lda jestSpy		;nie moÅ¼e byÄ‡ szpiega
    60 A6AB 0D 8B 36				ora speech		;jesli sampel, to wyjdz
    61 A6AE 0D 2A 32				ora enemyWybuch+5 ;brak wybuchu szpiega
    62 A6B1 0D 54 36				ora spyScoreRysuj	;brak punktÃ³w po szpiegu
    63 A6B4 0D 1D 34				ora formacja_stan	;brak formacji
    64 A6B7 F0 01				beq *+3
    65 A6B9 60					rts
    66 A6BA AE 66 36				ldx timeLevel
    67 A6BD AD 56 36				lda kondycja
    68 A6C0 DD 0E 86				cmp con1enemy,x
    69 A6C3 B0 01				bcs *+3
    70 A6C5 60					rts
    71 A6C6 DD 1D 86				cmp spyEnd,x
    72 A6C9 90 01				bcc *+3
    73 A6CB 60					rts
    74 						
    75 A6CC AD 0A E8				lda random
    76 A6CF 29 1F				and #%00011111
    77 A6D1 C9 03				cmp #%011
    78 A6D3 F0 04				beq @+
    79 A6D5 C9 05				cmp #%101
    80 A6D7 D0 1F				bne @+1
    81 						
    82 A6D9 A9 01 8D 50 36	@		mva #1 nobanner		;spy ship sighted
    83 A6DE 8D 53 36				sta jestSpy
    84 A6E1 8D 8B 36				sta speech
    85 A6E4 85 6E				sta powtorz
    86 A6E6 A9 03 8D CB 36			mva #3 rodzajSpeech
    87 A6EB A9 4C 85 31				mva #<spy_wav sam
    88 A6EF 85 5B				sta sam2
    89 A6F1 A9 7E 85 32				mva #>spy_wav sam+1
    90 A6F5 85 5F				sta sam2s
    91 					
    92 A6F7 60					rts
    93 						
    94 A6F8 C9 0B		@		cmp #%1011
    95 A6FA F0 05				beq @+
    96 A6FC C9 09				cmp #%1001
    97 A6FE F0 01				beq @+
    98 						
    99 A700 60					rts
   100 						
   101 A701 AD 16 31		@		lda poziom
   102 A704 C9 04				cmp #formation_from_level			;formacja od 4 poziomu
   103 A706 B0 01				bcs *+3
   104 A708 60					rts
   105 A709 EE 1D 34		@		inc formacja_stan
   106 A70C A2 05				ldx #5
   107 A70E BD 1F 32		@		lda enemy,x
   108 A711 F0 0A				beq @+
   109 A713 A9 00 9D 93 36			mva #0 enLicznik,x	;przyspiesz opuszczenie ekranu przez wrogÃ³w
   110 A718 A9 01 9D 8D 36			mva #1 enRotate,x
   111 A71D CA			@		dex
   112 A71E 10 EE				bpl @-1
   113 						
   114 A720 AD 0A E8				lda random		;losujemy typ formacji
   115 A723 2D 63 36				and formacja_maska		;0,1 lub 3
   116 A726 18					clc
   117 A727 69 01				adc #1
   118 A729 8D 8C 36				sta formacja_typ
   119
   120 A72C A9 01 8D 50 36			mva #1 nobanner		;battle station
   121 A731 8D 8B 36				sta speech
   122 A734 A9 01				lda #1
   123 A736 85 6E				sta powtorz
   124 A738 A9 05 8D CB 36			mva #5 rodzajSpeech
   125 						
   126 A73D A9 11 85 31				mva #<formation_wav sam
   127 A741 85 5B				sta sam2
   128 A743 A9 6E 85 32				mva #>formation_wav sam+1
   129 A747 85 5F				sta sam2s
   130 						
   131 A749 A9 26 8D 82 34			mva #$26 conditionColor1
   132 A74E A9 34 8D 7A 34			mva #$34 conditionColor
   133 A753 60					rts
   134 						
   135
   136 = A754			spy		equ *
   137 A754 AD 53 36				lda jestSpy
   138 A757 D0 01				bne @+
   139 A759 60					rts
   140 						
   141 A75A C9 01		@		cmp #1
   142 A75C D0 06				bne @+
   143 A75E CD 8B 36				cmp speech
   144 A761 D0 05				bne dodajSpy
   145 A763 60					rts		;jeszcze jest odgrywany sampel
   146 A764 C9 02		@		cmp #2		;zabezpieczenie , inna procedura moze przerwac sampla i dodac odrazu spy
   147 A766 D0 62				bne moveSpy
   148
   149 						
   150 						
   151 = A768			dodajSpy	equ *
   152 A768 AD 50 36				lda nobanner
   153 A76B F0 01				beq *+3
   154 A76D 60					rts
   155 						
   156 A76E A9 03 8D 53 36			mva #3 jestSpy
   157 A773 AD 24 32				lda enemy+5		;czy czasami nie jest zajety?
   158 A776 F0 03				beq @+
   159 						
   160 A778 20 29 A6				jsr przepisz5duszka
   161 						
   162 A77B A9 01 8D 24 32	@		mva #1 enemy+5
   163 A780 AD 0A E8				lda Random
   164 A783 29 03				and #%11
   165 A785 AA					tax
   166 						
   167 A786 18					clc
   168 A787 A5 BA				lda posX
   169 A789 7D 1B A6				adc spyTab1,x
   170 A78C 29 7F				and #127
   171 A78E 8D 36 32				sta enemyX+5
   172 A791 18					clc
   173 A792 A5 BB				lda posY
   174 A794 7D 1F A6				adc spyTab1+4,x
   175 A797 8D 42 32				sta enemyY+5
   176 A79A BD 23 A6				lda spyTab1+8,x
   177 A79D 8D 66 32				sta enemyFaza+5
   178 A7A0 AD 0A E8				lda random
   179 A7A3 29 F0				and #%11110000
   180 A7A5 8D 4E 32				sta enemyDX+5
   181 A7A8 AD 0A E8				lda random
   182 A7AB 29 F0				and #%11110000
   183 A7AD 8D 5A 32				sta enemyDY+5
   184 A7B0 A9 80 8D 6C 32			mva #EKOLOR1 enemyNegatyw+5
   185 A7B5 A9 00				lda #0
   186 A7B7 8D 2A 32				sta enemyWybuch+5
   187 A7BA A9 45 8D 78 32			mva #>enemy5shapetab enemyShapeH+5 
   188 A7BF A9 0A 8D A8 36			mva #20-10 spylicznik	;opoznienie zmiany kierunku
   189 A7C4 A9 F0 8D A9 36			mva #240 spylicznik1	;jak dlugo duszek musi byc na ekranie
   190 A7C9 60					rts
   191
   192 A7CA AD 2A 32		moveSpy	lda enemyWybuch+5
   193 A7CD 0D 24 32				ora enemy+5
   194 A7D0 D0 26				bne @+1
   195 A7D2 8D 53 36				sta jestSpy			;po zakoÅ„czeniu wybuchu, A=0
   196 A7D5 AD BD 35				lda spyScore
   197 A7D8 10 07				bpl @+
   198 A7DA AD 61 36 8D 62 36			mva opoz_dlosuj losuj1
   199 A7E0 60					rts
   200 						
   201 A7E1 A9 01 8D 54 36	@		mva #1 spyScoreRysuj	;narysuj wylosowane punkty	
   202 A7E6 A9 19 8D C2 35			mva #25 licznikSpyScore
   203 A7EB AD 36 32 8D BE 35			mva enemyX+5 spyscoreX
   204 A7F1 AD 42 32 8D BF 35			mva enemyY+5 spyscoreY
   205 A7F7 60					rts
   206 						
   207 A7F8 AD 2A 32		@		lda enemyWybuch+5
   208 A7FB F0 01				beq @+
   209 A7FD 60					rts
   210 							
   211 A7FE AD 66 32		@		lda enemyFaza+5			;przesun duszka
   212 A801 0D C1 35				ora spySpeed		;predkosc szpiega
   213 A804 AC A9 36				ldy spylicznik1
   214 A807 C0 E8				cpy #232
   215 A809 90 04				bcc @+
   216 A80B 29 1F				and #%00011111
   217 A80D 09 E0				ora #224
   218 A80F A8			@		tay
   219 A810 AD 4E 32				lda enemyDX+5
   220 A813 79 66 92				adc enemyTab2,y
   221 						
   222 A816 8D 4E 32				sta enemyDX+5
   223 A819 90 11				bcc @+			
   224 A81B B9 66 92				lda enemyTab2,y
   225 A81E 30 1B				bmi @+1		;przepeÅ‚nienie byÅ‚o spowodowane odejmowaniem
   226 A820 EE 36 32				inc enemyX+5
   227 A823 10 16				bpl @+1
   228 A825 A9 00 8D 36 32			mva #0 enemyX+5
   229 A82A F0 0F				beq @+1	;jmp
   230 A82C B9 66 92		@		lda enemyTab2,y
   231 A82F 10 0A				bpl @+
   232 A831 CE 36 32				dec enemyX+5
   233 A834 10 05				bpl @+
   234 A836 A9 7F 8D 36 32			mva #127 enemyX+5
   235 						
   236 A83B 18			@		clc
   237 A83C AD 5A 32				lda enemyDY+5
   238 A83F 79 76 92				adc enemyTab2+16,y
   239 A842 8D 5A 32				sta enemyDY+5
   240 A845 90 0B				bcc @+
   241 A847 B9 76 92				lda enemyTab2+16,y
   242 A84A 30 0E				bmi @+1
   243 A84C EE 42 32				inc enemyY+5
   244 A84F 4C 5A A8				jmp @+1
   245 A852 B9 76 92		@		lda enemyTab2+16,y
   246 A855 10 03				bpl @+
   247 A857 CE 42 32				dec enemyY+5		
   248 								
   249 A85A A5 BC		@		lda ramka		;zmniejszaj licznik tylko przy parzystej ramce
   250 A85C D0 2C				bne @+1
   251 A85E AD A9 36				lda spylicznik1
   252 A861 F0 05				beq @+
   253 A863 CE A9 36				dec spylicznik1
   254 A866 D0 22				bne @+1
   255 A868 AD 30 32		@		lda enemyEkran+5
   256 A86B F0 1D				beq @+
   257 A86D A9 00 8D 24 32			mva #0 enemy+5		;wyÅ‚Ä…cz spy
   258 A872 8D 53 36				sta jestSpy
   259 A875 AE 66 36		msp1	ldx timeLevel	;poziom trudnosci
   260 A878 AD 56 36				lda kondycja
   261 A87B DD 09 86				cmp conYellow,x	;jesli con=green to daruj ucieczke szpiega
   262 A87E B0 01				bcs *+3
   263 A880 60					rts
   264 A881 BD 22 86				lda conred,x
   265 						;sec
   266 A884 E9 02				sbc #2
   267 A886 8D 56 36				sta kondycja		;przejdÅº natychmiast do condition red
   268 A889 60					rts		
   269
   270 						
   271 A88A CE A8 36		@		dec spylicznik
   272 A88D F0 01				beq @+
   273 A88F 60					rts	
   274 										
   275 A890 A9 08 8D A8 36	@		mva #8 spylicznik
   276 A895 AD 30 32				lda enemyEkran+5
   277 A898 D0 13				bne @+
   278
   279 A89A AD 0A E8				lda random
   280 A89D 29 01				and #1
   281 A89F AA					tax
   282 A8A0 18					clc
   283 A8A1 AD 66 32				lda enemyFaza+5
   284 A8A4 7D 27 A6				adc spyTab3,x
   285 A8A7 29 0F				and #15
   286 A8A9 8D 66 32				sta enemyFaza+5	
   287 						
   288 A8AC 60					rts	
   289
   290 				;korekcja lotu szpiega poza ekranem		
   291 A8AD A2 05		@		ldx #5
   292 A8AF 4C A3 93				jmp korekcjaLotu
   293 							
   294 						
   295 				;print spy score
   296 = A8B2			printSpyScore	equ *
   297 A8B2 AD 54 36				lda spyScoreRysuj
   298 A8B5 D0 01				bne *+3
   299 A8B7 60					rts
   300 A8B8 CE C2 35				dec licznikSpyScore
   301 A8BB D0 06				bne @+
   302 A8BD A9 00 8D 54 36	prss1	mva #0 spyScoreRysuj		;nie rysuj juÅ¼ punktow
   303 A8C2 60					rts
   304
   305 A8C3 AD C2 35		@		lda licznikSpyScore
   306 A8C6 C9 18				cmp #24
   307 A8C8 90 20				bcc @+
   308
   309 A8CA AD BF 35				lda spyscoreY
   310 A8CD 8D 42 32				sta enemyY+5
   311 A8D0 A9 40 8D 4E 32			mva #64 enemyDX+5
   312 A8D5 AD BD 35 8D 66 32			mva spyScore enemyFaza+5
   313 A8DB A9 00 8D 5A 32			mva #0 enemyDY+5
   314 A8E0 A9 A5 8D 78 32			mva #>bonusShapeTab enemyShapeH+5
   315 A8E5 A9 00 8D 6C 32			mva #EKOLOR0 enemyNegatyw+5
   316 						
   317 A8EA AD BE 35		@		lda spyscoreX
   318 A8ED 8D 36 32				sta enemyX+5
   319 A8F0 A2 05				ldx #5
   320 A8F2 20 5A 3A				jsr duszkiPrint
   321 A8F5 A2 00 8E 36 32			mvx #0 enemyX+5
   322 A8FA E8					inx
   323 A8FB 8E 30 32				stx enemyEkran+5		;nie sprawdzaj kolizji z napisem
   324 A8FE 60					rts
   325 						
   326
   541 A8FF						icl 'formation.asm'
Source: formation.asm
     1
     2
     3 				;formation
     4 = A8FF			formacja	equ *
     5 A8FF AD 1D 34				lda formacja_stan	;stan musi byc =0, >0 formacja jest juz wlaczona
     6 A902 D0 01				bne *+3
     7 A904 60					rts
     8 						
     9 A905 C9 01				cmp #1
    10 A907 D0 15				jne frm0a
    11 							
    12 A909 AD 8B 36				lda speech		; jesli stan =1 to odgrywany jest sampel
    13 A90C F0 01				beq *+3
    14 A90E 60					rts
    15 						
    16 A90F AD 52 36				lda ile_enemy
    17 A912 F0 01				beq @+
    18 A914 60					rts
    19 						
    20 A915 A9 00 8D 99 36	@		mva #0 formacja_zbite
    21 A91A EE 1D 34				inc formacja_stan
    22 A91D 60					rts
    23 						
    24 A91E C9 02		frm0a	cmp #2
    25 A920 F0 03 4C D2 A9			jne frm0
    26 						
    27 A925 A9 00				lda #0
    28 A927 20 BA 4B				jsr cisza
    29 						
    30
    31 					;obliczamy pozycje startowa formacji
    32 A92A AD 0A E8				lda RANDOM
    33 A92D 29 8F				and #%10001111
    34 A92F 09 10				ora #%00010000
    35 A931 18					clc
    36 A932 65 BA				adc posX
    37 A934 18					clc
    38 A935 69 11				adc #17
    39 A937 29 7F				and #127
    40 A939 8D 36 32				sta enemyX+5		;pozycja X formacji,duszek 0 dowodca
    41 						
    42 A93C AD 0A E8				lda RANDOM		;rand(192)
    43 A93F 29 8F				and #%10001111
    44 A941 09 20				ora #%00100000
    45 A943 18					clc
    46 A944 65 BB				adc posY
    47 A946 18					clc
    48 A947 69 0E				adc #14
    49 A949 8D 42 32				sta enemyY+5
    50 						
    51 A94C AE 8C 36				ldx formacja_typ
    52 A94F E0 01				cpx #1
    53 A951 D0 0B				bne @+
    54 A953 38					sec
    55 A954 E5 BB				sbc posY
    56 A956 38					sec
    57 A957 E9 0E				sbc #14
    58 A959 30 03				bmi @+
    59 A95B CE 8C 36				dec formacja_typ		;=4 w dol
    60 								
    61 A95E A9 00 8D 4E 32	@		mva #0 enemyDX+5
    62 A963 8D 4A 32				sta enemyDX+1
    63 A966 8D 4B 32				sta enemyDX+2
    64 A969 8D 4C 32				sta enemyDX+3
    65 A96C 8D 4D 32				sta enemyDX+4
    66 A96F 8D 5A 32				sta enemyDY+5
    67 A972 8D 56 32				sta enemyDY+1
    68 A975 8D 57 32				sta enemyDY+2
    69 A978 8D 58 32				sta enemyDY+3
    70 A97B 8D 59 32				sta enemyDY+4
    71 A97E A9 00				lda #EKOLOR0
    72 A980 8D 6C 32				sta enemyNegatyw+5
    73 A983 8D 68 32				sta enemyNegatyw+1
    74 A986 8D 69 32				sta enemyNegatyw+2
    75 A989 8D 6A 32				sta enemyNegatyw+3
    76 A98C 8D 6B 32				sta enemyNegatyw+4
    77 						
    78 A98F AD 0A E8				lda random
    79 A992 29 02				and #2
    80 A994 18					clc
    81 A995 69 41				adc #>enemy1shapetab 
    82 A997 8D 74 32				sta enemyShapeH+1
    83 A99A 8D 75 32				sta enemyShapeH+2
    84 A99D 8D 76 32				sta enemyShapeH+3
    85 A9A0 8D 77 32				sta enemyShapeH+4
    86 A9A3 8D 78 32				sta enemyShapeH+5
    87 						
    88 A9A6 A9 01 8D 24 32			mva #1 enemy+5
    89 A9AB 8D 20 32 8D 21 32 + 		:4 sta enemy+1+#
    90
    91
    92 A9B7 18					clc
    93 A9B8 AD 52 36				lda ile_enemy
    94 A9BB 69 05				adc #5
    95 A9BD 8D 52 36				sta ile_enemy
    96 A9C0 20 7D AB				jsr ksztaltFormacji
    97 						
    98 A9C3 EE 1D 34				inc formacja_stan		;uciekli juz wszyscy ustaw 3
    99 A9C6 EE 18 31				inc formacja_radar		;rysuj na radarze formacje
   100 A9C9 AD 0A E8				lda random
   101 A9CC 29 1F				and #%11111
   102 A9CE 8D AA 36				sta formacjaX
   103 									
   104 A9D1 60					rts
   105 						
   106 				; formacja goni ekran z naszym statkiem	
   107 A9D2 C9 03		frm0	cmp #3
   108 A9D4 F0 03 4C 79 AA			jne frm2
   109 						
   110 A9D9 AD 2C 32				lda enemyEkran+1
   111 A9DC 2D 2D 32				and enemyEkran+2
   112 A9DF 2D 2E 32				and enemyEkran+3
   113 A9E2 2D 2F 32				and enemyEkran+4
   114 A9E5 2D 30 32				and enemyEkran+5
   115 A9E8 D0 0B				bne @+
   116 						
   117 A9EA EE 1D 34				inc formacja_stan
   118 A9ED A9 06 8D AB 36			mva #6 forLicznik
   119 A9F2 4C C2 AA				jmp frm2a	;przejdz od razu do nastepnej fazy
   120 						
   121 A9F5 18			@		clc
   122 A9F6 A2 00				ldx #0
   123 A9F8 AD AA 36				lda formacjaX
   124 A9FB 65 BA				adc posX
   125 A9FD 29 7F				and #127
   126 A9FF 38					sec
   127 AA00 ED 36 32				sbc enemyX+5
   128 AA03 F0 42				beq frmY	;ta sama pozycja X
   129 AA05 10 22				bpl @+1		;enemy po lewo od statku
   130 AA07 29 7F				and #127
   131 AA09 C9 40				cmp #64
   132 AA0B 90 0E				bcc @+
   133 AA0D AD 36 32				lda enemyX+5
   134 AA10 E9 01				sbc #1
   135 AA12 29 7F				and #127
   136 AA14 8D 36 32				sta enemyX+5
   137 AA17 A2 02				ldx #2	;lewo
   138 AA19 D0 2C				bne frmY	;jmp
   139 AA1B AD 36 32		@		lda enemyX+5
   140 AA1E 69 01				adc #1
   141 AA20 29 7F				and #127
   142 AA22 8D 36 32				sta enemyX+5
   143 AA25 A2 01				ldx #1	;prawo
   144 AA27 D0 1E				bne frmY	;jmp
   145 AA29 C9 40		@		cmp #64
   146 AA2B B0 0E				bcs @+
   147 AA2D AD 36 32				lda enemyX+5
   148 AA30 69 01				adc #1
   149 AA32 29 7F				and #127
   150 AA34 8D 36 32				sta enemyX+5
   151 AA37 A2 01				ldx #1 	;prawo
   152 AA39 D0 0C				bne frmY	;jmp
   153 AA3B AD 36 32		@		lda enemyX+5
   154 AA3E E9 01				sbc #1
   155 AA40 29 7F				and #127
   156 AA42 8D 36 32				sta enemyX+5
   157 AA45 A2 02				ldx #2	;lewo
   158 						
   159 = AA47			frmY	equ *	; zmiana pozycji Y
   160 AA47 18					clc
   161 AA48 A5 BB				lda posY
   162 AA4A 69 0E				adc #14
   163 AA4C 38					sec
   164 AA4D ED 42 32				sbc enemyY+5
   165 AA50 F0 13				beq frm1	;pozycja docelowa
   166 AA52 30 0A				bmi @+
   167 AA54 EE 42 32				inc enemyY+5
   168 AA57 8A					txa
   169 AA58 09 04				ora #4		;dol
   170 AA5A AA					tax		
   171 AA5B 4C 65 AA				jmp frm1
   172 AA5E CE 42 32		@		dec enemyY+5
   173 AA61 8A					txa
   174 AA62 09 08				ora #8		;gora
   175 AA64 AA					tax
   176
   177 = AA65			frm1	equ *	
   178
   179 AA65 BD 6D AB				lda frm1tab,x
   180 AA68 8D 66 32				sta enemyFaza+5
   181 						
   182 AA6B 20 7D AB				jsr ksztaltFormacji
   183 						
   184 AA6E AD 1F 32				lda enemy		;dodatkowy enemy podczas formacji
   185 AA71 F0 01				beq @+
   186 AA73 60					rts
   187 						
   188 AA74 A2 00		@		ldx #0
   189 AA76 4C 50 94				jmp dod_en1		;dodaj przeciwnika jeÅ›li moÅ¼na
   190 						
   191
   192 = AA79			frm2	equ *	;formacja jest na ekranie, Å›ciga gracza
   193 AA79 C9 04				cmp #4
   194 AA7B F0 03 4C 2E AB			jne frm3
   195 						
   196 AA80 AD 2A 32				lda enemyWybuch+5		;jesli zbity dowodca to nastepna faza
   197 AA83 F0 3D				beq frm2a
   198 						
   199 AA85 A9 05				lda #$5			;5 punktÃ³w extra za dowodcÄ™
   200 AA87 20 85 55				jsr dodajPunkty
   201 						
   202 AA8A EE 1D 34				inc formacja_stan
   203 AA8D A9 80				lda #128
   204 AA8F 20 BA 4B				jsr cisza
   205
   206 AA92 A9 00 8D 17 31			mva #0 sfxlicznik1
   207 AA97 8D 18 31				sta formacja_radar
   208 AA9A 20 3F 61				jsr piszCondition
   209 AA9D AC 19 31				ldy kondycja_stan		;poprzednia kondycja
   210 AAA0 20 10 5C				jsr setCondition
   211
   212 AAA3 A9 00				lda #0		
   213 AAA5 8D 94 36				sta enLicznik+1		;moÅ¼na usuwaÄ‡ jeÅ›li poza ekranem
   214 AAA8 8D 95 36				sta enLicznik+2
   215 AAAB 8D 96 36				sta enLicznik+3
   216 AAAE 8D 97 36				sta enLicznik+4
   217 AAB1 A9 01				lda #1
   218 AAB3 8D 8E 36				sta enRotate+1		;od razu moÅ¼na obracaÄ‡
   219 AAB6 8D 8F 36				sta enRotate+2
   220 AAB9 8D 90 36				sta enRotate+3
   221 AABC 8D 91 36				sta enRotate+4
   222 						;sprawdzmy ile statkow z formacji zostalo zestrzelonych		
   223 AABF 4C 2E AB				jmp frm3
   224 						
   225 AAC2 CE AB 36		frm2a	dec forLicznik
   226 AAC5 D0 08				bne @+
   227 AAC7 20 90 AD				jsr korekcjaFormacji
   228 AACA A9 04 8D AB 36			mva #4 forLicznik
   229 						
   230 AACF AD 66 32		@		lda enemyFaza+5			;przesun duszka
   231 AAD2 0D 64 36				ora formacja_speed		;0 normalna predkosc , 32 podwojna predkosc, 64 - srednia, 96 - pomiedzy srednia a podwojna
   232 AAD5 A8					tay
   233 AAD6 18					clc
   234 AAD7 AD 4E 32				lda enemyDX+5
   235 AADA 79 66 92				adc enemyTab2,y
   236 AADD 8D 4E 32				sta enemyDX+5
   237 						
   238 AAE0 90 11				bcc @+			
   239 AAE2 B9 66 92				lda enemyTab2,y
   240 AAE5 30 1B				bmi @+1		;przepeÅ‚nienie byÅ‚o spowodowane odejmowaniem
   241 AAE7 EE 36 32				inc enemyX+5
   242 AAEA 10 16				bpl @+1
   243 AAEC A9 00 8D 36 32			mva #0 enemyX+5
   244 AAF1 F0 0F				beq @+1	;jmp
   245 AAF3 B9 66 92		@		lda enemyTab2,y
   246 AAF6 10 0A				bpl @+
   247 AAF8 CE 36 32				dec enemyX+5
   248 AAFB 10 05				bpl @+
   249 AAFD A9 7F 8D 36 32			mva #127 enemyX+5
   250 						
   251 AB02 18			@		clc
   252 AB03 AD 5A 32				lda enemyDY+5
   253 AB06 79 76 92				adc enemyTab2+16,y
   254 AB09 8D 5A 32				sta enemyDY+5
   255 AB0C 90 0B				bcc @+
   256 AB0E B9 76 92				lda enemyTab2+16,y
   257 AB11 30 0E				bmi @+1
   258 AB13 EE 42 32				inc enemyY+5
   259 AB16 4C 21 AB				jmp @+1
   260 AB19 B9 76 92		@		lda enemyTab2+16,y
   261 AB1C 10 03				bpl @+
   262 AB1E CE 42 32				dec enemyY+5
   263 						
   264 AB21 AD 1F 32		@		lda enemy
   265 AB24 D0 05				bne @+
   266 						
   267 AB26 A2 00				ldx #0		;jeÅ›li moÅ¼na dodaj przeciwnika
   268 AB28 20 50 94				jsr dod_en1	
   269 						
   270 AB2B 4C 7D AB		@		jmp ksztaltFormacji
   271 						
   272 					
   273 = AB2E			frm3	equ *
   274 AB2E AD 52 36				lda ile_enemy		;czekamy na opuszczenie ekranu przez reszte wrogÃ³w
   275 AB31 F0 13				beq frm4			;formacja_stan=5
   276 AB33 C9 01				cmp #1
   277 AB35 D0 05				bne @+				;jesli zostal 1 enemy to tylko enemy nr 0
   278 AB37 CD 1F 32				cmp enemy
   279 AB3A F0 0A				beq frm4
   280 						
   281 AB3C AD 1F 32		@		lda enemy
   282 AB3F F0 01				beq @+
   283 AB41 60					rts
   284 AB42 AA			@		tax				;jesli mozna dodaj enemy
   285 AB43 4C 50 94				jmp dod_en1
   286 						
   287 				;posprzÄ…taj po formacji
   288 = AB46			frm4	equ *
   289 AB46 AD 99 36				lda formacja_zbite
   290 AB49 C9 06				cmp #6
   291 AB4B D0 14				bne @+
   292 						
   293 AB4D A9 80				lda #$80
   294 AB4F 20 85 55				jsr dodajPunkty
   295 AB52 A9 01 8D 54 36			mva #1 spyScoreRysuj	;narysuj wylosowane punkty
   296 AB57 A9 19 8D C2 35			mva #25 licznikSpyScore
   297 AB5C A9 03 8D BD 35			mva #3 spyscore	;800
   298 						
   299
   300 AB61 A9 00 8D 1D 34	@		mva #0 formacja_stan
   301 AB66 AD 5D 36 8D 8A 36			mva speedEnemy0 speedEnemy
   302 AB6C 60					rts
   303 						
   304 AB6D 00 04 0C 00 08 06 + frm1tab	dta b(0,4,12,0,8,6,10,0,0,2,14)		;kierunki (max 10)	
   305 AB78 00 42 41 44 43	frm2tab	dta b(0,>enemy2Shapetab,>enemy1ShapeTab,>enemy4ShapeTab,>enemy3shapeTab)
   306
   307 = AB7D			ksztaltFormacji	equ *
   308 AB7D AD 66 32				lda enemyFaza+5
   309 AB80 8D 62 32 8D 63 32 + 		:4 sta enemyFaza+1+#
   310 						
   311 						
   312 AB8C CE AC 36				dec dowodca
   313 AB8F D0 11				bne @+
   314 AB91 A9 02 8D AC 36			mva #2 dowodca
   315 AB96 AD 78 32				lda enemyShapeH+5		;migotanie dowodcy
   316 AB99 29 07				and #%111
   317 AB9B A8					tay
   318 AB9C B9 78 AB				lda frm2tab,y
   319 AB9F 8D 78 32				sta enemyShapeH+5
   320
   321 						
   322 ABA2 AD 8C 36		@		lda formacja_typ
   323 ABA5 D0 7B				bne @+1
   324 					
   325 ABA7 18					clc					;strzala w gore ^  =0
   326 ABA8 AD 5A 32				lda enemyDY+5
   327 ABAB 69 40				adc #%01000000
   328 ABAD 8D 56 32				sta enemyDY+1
   329 ABB0 8D 57 32				sta enemyDY+2
   330 ABB3 AD 42 32				lda enemyY+5
   331 ABB6 69 02				adc #2
   332 ABB8 8D 3E 32				sta enemyY+1
   333 ABBB 8D 3F 32				sta enemyY+2
   334 						
   335 ABBE 18					clc
   336 ABBF AD 56 32				lda enemyDY+1
   337 ABC2 69 40				adc #%01000000
   338 ABC4 8D 58 32				sta enemyDY+3
   339 ABC7 8D 59 32				sta enemyDY+4
   340 ABCA AD 3E 32				lda enemyY+1
   341 ABCD 69 02				adc #2
   342 ABCF 8D 40 32				sta enemyY+3
   343 ABD2 8D 41 32				sta enemyY+4
   344 						
   345 ABD5 38			@		sec
   346 ABD6 AD 4E 32				lda enemyDX+5
   347 ABD9 E9 40				sbc #%01000000
   348 ABDB 8D 4A 32				sta enemyDX+1
   349 ABDE AD 36 32				lda enemyX+5
   350 ABE1 E9 02				sbc #2
   351 ABE3 29 7F				and #127
   352 ABE5 8D 32 32				sta enemyX+1
   353 						
   354 ABE8 38					sec
   355 ABE9 AD 4A 32				lda enemyDX+1
   356 ABEC E9 40				sbc #%01000000
   357 ABEE 8D 4C 32				sta enemyDX+3
   358 ABF1 AD 32 32				lda enemyX+1
   359 ABF4 E9 02				sbc #2
   360 ABF6 29 7F				and #127
   361 ABF8 8D 34 32				sta enemyX+3
   362 						
   363 ABFB 18					clc
   364 ABFC AD 4E 32				lda enemyDX+5
   365 ABFF 69 40				adc #%01000000
   366 AC01 8D 4B 32				sta enemyDX+2
   367 AC04 AD 36 32				lda enemyX+5
   368 AC07 69 02				adc #2
   369 AC09 29 7F				and #127
   370 AC0B 8D 33 32				sta enemyX+2
   371 						
   372 AC0E 18					clc
   373 AC0F AD 4B 32				lda enemyDX+2
   374 AC12 69 40				adc #%01000000
   375 AC14 8D 4D 32				sta enemyDX+4
   376 AC17 AD 33 32				lda enemyX+2
   377 AC1A 69 02				adc #2
   378 AC1C 29 7F				and #127
   379 AC1E 8D 35 32				sta enemyX+4
   380 						
   381 AC21 60					rts
   382 						
   383 AC22 C9 01		@		cmp #1		;\/
   384 AC24 D0 31				bne @+
   385 						
   386 AC26 38					sec					;strzala w dol
   387 AC27 AD 5A 32				lda enemyDY+5
   388 AC2A E9 40				sbc #%01000000
   389 AC2C 8D 56 32				sta enemyDY+1
   390 AC2F 8D 57 32				sta enemyDY+2
   391 AC32 AD 42 32				lda enemyY+5
   392 AC35 E9 02				sbc #2
   393 AC37 8D 3E 32				sta enemyY+1
   394 AC3A 8D 3F 32				sta enemyY+2
   395 						
   396 AC3D 38					sec
   397 AC3E AD 56 32				lda enemyDY+1
   398 AC41 E9 40				sbc #%01000000
   399 AC43 8D 58 32				sta enemyDY+3
   400 AC46 8D 59 32				sta enemyDY+4
   401 AC49 AD 3E 32				lda enemyY+1
   402 AC4C E9 02				sbc #2
   403 AC4E 8D 40 32				sta enemyY+3
   404 AC51 8D 41 32				sta enemyY+4	
   405
   406 AC54 4C D5 AB				jmp @-1
   407 						
   408 						
   409
   410 AC57 C9 02		@		cmp #2
   411 AC59 D0 63				bne @+
   412
   413 AC5B AD 4E 32				lda enemyDX+5		;linia
   414 AC5E 8D 4A 32 8D 4B 32 + 		:4 sta enemyDX+1+#
   415 						
   416 AC6A AD 36 32				lda enemyX+5
   417 AC6D 8D 32 32 8D 33 32 + 		:4 sta enemyX+1+#
   418
   419 AC79 38					sec
   420 AC7A AD 5A 32				lda enemyDY+5
   421 AC7D E9 40				sbc #%01000000
   422 AC7F 8D 57 32				sta enemyDY+2
   423 AC82 AD 42 32				lda enemyY+5
   424 AC85 E9 02				sbc #2
   425 AC87 8D 3F 32				sta enemyY+2
   426 						
   427 AC8A 38					sec
   428 AC8B AD 57 32				lda enemyDY+2
   429 AC8E E9 40				sbc #%01000000
   430 AC90 8D 56 32				sta enemyDY+1
   431 AC93 AD 3F 32				lda enemyY+2
   432 AC96 E9 02				sbc #2
   433 AC98 8D 3E 32				sta enemyY+1
   434 						
   435 AC9B 18					clc
   436 AC9C AD 5A 32				lda enemyDY+5
   437 AC9F 69 40				adc #%01000000
   438 ACA1 8D 58 32				sta enemyDY+3
   439 ACA4 AD 42 32				lda enemyY+5
   440 ACA7 69 02				adc #2
   441 ACA9 8D 40 32				sta enemyY+3
   442 						
   443 ACAC 18					clc
   444 ACAD AD 58 32				lda enemyDY+3
   445 ACB0 69 40				adc #%01000000
   446 ACB2 8D 59 32				sta enemyDY+4
   447 ACB5 AD 40 32				lda enemyY+3
   448 ACB8 69 02				adc #2
   449 ACBA 8D 41 32				sta enemyY+4
   450 						
   451 ACBD 60					rts
   452
   453
   454 						;wybor ksztaltu
   455 ACBE C9 03		@		cmp #3			;czy x
   456 ACC0 D0 61				bne @+
   457 						
   458 ACC2 38					sec
   459 ACC3 AD 4E 32				lda enemyDX+5
   460 ACC6 E9 40				sbc #%01000000
   461 ACC8 8D 4A 32				sta enemyDX+1
   462 ACCB 8D 4C 32				sta enemyDX+3
   463 ACCE AD 36 32				lda enemyX+5
   464 ACD1 E9 02				sbc #2
   465 ACD3 29 7F				and #127
   466 ACD5 8D 32 32				sta enemyX+1
   467 ACD8 8D 34 32				sta enemyX+3
   468 						
   469 ACDB 18					clc
   470 ACDC AD 4E 32				lda enemyDX+5
   471 ACDF 69 40				adc #%01000000
   472 ACE1 8D 4B 32				sta enemyDX+2
   473 ACE4 8D 4D 32				sta enemyDX+4
   474 ACE7 AD 36 32				lda enemyX+5
   475 ACEA 69 02				adc #2
   476 ACEC 29 7F				and #127
   477 ACEE 8D 33 32				sta enemyX+2
   478 ACF1 8D 35 32				sta enemyX+4
   479 						
   480 ACF4 38					sec
   481 ACF5 AD 5A 32				lda enemyDY+5
   482 ACF8 E9 40				sbc #%01000000
   483 ACFA 8D 56 32				sta enemyDY+1
   484 ACFD 8D 57 32				sta enemyDY+2
   485 AD00 AD 42 32				lda enemyY+5
   486 AD03 E9 02				sbc #2
   487 AD05 8D 3E 32				sta enemyY+1
   488 AD08 8D 3F 32				sta enemyY+2
   489 						
   490 AD0B 18					clc
   491 AD0C AD 5A 32				lda enemyDY+5
   492 AD0F 69 40				adc #%01000000
   493 AD11 8D 58 32				sta enemyDY+3
   494 AD14 8D 59 32				sta enemyDY+4
   495 AD17 AD 42 32				lda enemyY+5
   496 AD1A 69 02				adc #2
   497 AD1C 8D 40 32				sta enemyY+3
   498 AD1F 8D 41 32				sta enemyY+4
   499 						
   500 AD22 60					rts
   501 						
   502 AD23 AD 4E 32		@		lda enemyDX+5		;czy +
   503 AD26 8D 4A 32				sta enemyDX+1
   504 AD29 8D 4C 32				sta enemyDX+3
   505 AD2C AD 36 32				lda enemyX+5
   506 AD2F 8D 32 32				sta enemyX+1
   507 AD32 8D 34 32				sta enemyX+3
   508 						
   509 AD35 38					sec
   510 AD36 AD 5A 32				lda enemyDY+5
   511 AD39 E9 40				sbc #%01000000
   512 AD3B 8D 56 32				sta enemyDY+1
   513 AD3E AD 42 32				lda enemyY+5
   514 AD41 E9 02				sbc #2
   515 AD43 8D 3E 32				sta enemyY+1
   516 						
   517 AD46 18					clc
   518 AD47 AD 5A 32				lda enemyDY+5
   519 AD4A 69 40				adc #%01000000
   520 AD4C 8D 58 32				sta enemyDY+3
   521 AD4F AD 42 32				lda enemyY+5
   522 AD52 69 02				adc #2
   523 AD54 8D 40 32				sta enemyY+3
   524 						
   525 AD57 AD 5A 32				lda enemyDY+5
   526 AD5A 8D 57 32				sta enemyDY+2
   527 AD5D 8D 59 32				sta enemyDY+4
   528 AD60 AD 42 32				lda enemyY+5
   529 AD63 8D 3F 32				sta enemyY+2
   530 AD66 8D 41 32				sta enemyY+4
   531 						
   532 AD69 18					clc
   533 AD6A AD 4E 32				lda enemyDX+5
   534 AD6D 69 40				adc #%01000000
   535 AD6F 8D 4B 32				sta enemyDX+2
   536 AD72 AD 36 32				lda enemyX+5
   537 AD75 69 02				adc #2
   538 AD77 29 7F				and #127
   539 AD79 8D 33 32				sta enemyX+2
   540 						
   541 AD7C 38					sec
   542 AD7D AD 4E 32				lda enemyDX+5
   543 AD80 E9 40				sbc #%01000000
   544 AD82 8D 4D 32				sta enemyDX+4
   545 AD85 AD 36 32				lda enemyX+5
   546 AD88 E9 02				sbc #2
   547 AD8A 29 7F				and #127
   548 AD8C 8D 35 32				sta enemyX+4
   549 						
   550 AD8F 60					rts
   551 						
   552
   553 						
   554 				;korekcja kÄ…tu lotu
   555 = AD90			korekcjaFormacji	equ *
   556 AD90 A0 00				ldy #0
   557 AD92 AD 48 32				lda enemyY0+5
   558 AD95 10 02				bpl @+		;jesli wartosc ujemna to przyjmij 0
   559 AD97 A9 00				lda #0
   560 AD99 4A			@		lsr
   561 AD9A C9 07				cmp #7
   562 AD9C 90 0A				bcc @+
   563 AD9E A0 02				ldy #2
   564 ADA0 49 FF				eor #255
   565 ADA2 69 0D				adc #13		;c=1 +1
   566 ADA4 10 02				bpl @+
   567 ADA6 A9 00				lda #0
   568 ADA8 0A			@		asl 
   569 ADA9 0A					asl
   570 ADAA 0A					asl
   571 ADAB 85 A5				sta pom0
   572
   573 ADAD AD 3C 32				lda enemyX0+5
   574 ADB0 10 02				bpl @+
   575 ADB2 A9 00				lda #0
   576 ADB4 4A			@		lsr
   577 ADB5 C9 08				cmp #8
   578 ADB7 90 09				bcc @+
   579 ADB9 C8					iny
   580 ADBA 49 FF				eor #255		;II lub III cwiartka
   581 ADBC 69 0F				adc #15		;c=1 +1 zmiana znaku
   582 ADBE 10 02				bpl @+
   583 ADC0 A9 00				lda #0
   584 ADC2 05 A5		@		ora pom0
   585 ADC4 84 A3				sty pom4
   586 ADC6 A8					tay
   587 ADC7 B9 07 AE				lda formacjaTab,y
   588 ADCA A4 A3				ldy pom4
   589 						
   590 ADCC C0 01				cpy #1
   591 ADCE F0 04				beq @+
   592 ADD0 C0 02				cpy #2
   593 ADD2 D0 05				bne @+1
   594 						
   595 ADD4 49 FF		@		eor #255
   596 ADD6 38					sec
   597 ADD7 69 08				adc #8
   598 						
   599 ADD9 C0 00		@		cpy #0
   600 ADDB F0 07				beq @+
   601 ADDD C0 02				cpy #2
   602 ADDF F0 03				beq @+
   603 						
   604 ADE1 18					clc
   605 ADE2 69 08				adc #8
   606 								
   607 ADE4 38			@		sec
   608 ADE5 ED 66 32				sbc enemyFaza+5
   609
   610 ADE8 29 0F				and #%1111
   611 ADEA D0 01				bne @+
   612 ADEC 60					rts			;nie zmieniaj fazy , sa rÃ³wne
   613 						
   614 ADED C9 08		@		cmp #8
   615 ADEF B0 0B				bcs @+
   616 						;clc
   617 ADF1 AD 66 32				lda enemyFaza+5
   618 ADF4 69 01				adc #1
   619 ADF6 29 0F				and #%1111
   620 ADF8 8D 66 32				sta enemyFaza+5
   621 ADFB 60					rts
   622 ADFC AD 66 32		@		lda enemyFaza+5
   623 						;sec
   624 ADFF E9 01				sbc #1
   625 AE01 29 0F				and #%1111
   626 AE03 8D 66 32				sta enemyFaza+5
   627 AE06 60					rts		
   628 					
   629 AE07 05 05 06 06 06 06 + formacjaTab	dta b(5,5,6,6,6,6,8,9)
   630 AE0F 06 05 06 07 07 06 + 			dta b(6,5,6,7,7,6,8,9)
   631 AE17 05 06 07 04 06 06 + 			dta b(5,6,7,4,6,6,8,9)
   632 AE1F 06 06 06 07 04 06 + 			dta b(6,6,6,7,4,6,8,9)
   633 AE27 07 06 06 07 07 05 + 			dta b(7,6,6,7,7,5,6,9)
   634 AE2F 04 04 04 04 04 05 + 			dta b(4,4,4,4,4,5,6,8)
   635 AE37 03 03 03 03 03 03 + 			dta b(3,3,3,3,3,3,4,6)
   636 						
   542 AE3F						icl 'kolizje.asm'
Source: kolizje.asm
     1 				;pozycja statku x=60px y=102:2=51px
     2
     3
     4 				;kolizje strzaly z rakietami
     5 = AE3F			kolStrzalyRakiety	equ *
     6 AE3F A5 CB					lda czyRakiety
     7 AE41 D0 01					bne *+3
     8 AE43 60						rts
     9 							
    10 AE44 A2 07					ldx #7
    11 AE46 BD 88 02		@			lda rakietyMove,x
    12 AE49 D0 04					bne @+
    13 AE4B CA			kolsr2		dex
    14 AE4C 10 F8					bpl @-
    15 AE4E 60						rts	;jmp kolsr1		;next strzal
    16 							
    17 AE4F A0 03		@			ldy #3
    18 AE51 B9 10 36		@			lda strzal,y
    19 AE54 F0 09					beq kolsr1
    20 AE56 B9 44 36					lda strzalTlo,y
    21 AE59 29 7F					and #127
    22 AE5B C9 27					cmp #firstRakietaChar		;pomijamy znaki gwiazd,bazy,meteory i bomby
    23 AE5D B0 06					bcs @+
    24 AE5F 88			kolsr1		dey
    25 AE60 10 EF					bpl @-
    26 AE62 4C 4B AE					jmp kolsr2
    27 							
    28 AE65 BD E8 28		@			lda rakietyTyp,x
    29 AE68 29 02					and #%10
    30 AE6A F0 21					beq kolsr3		;pion
    31 							
    32 				;poziome rakiety <>	
    33 AE6C BD 80 02					lda rakietyY0,x		
    34 AE6F 0A						asl
    35 AE70 0A						asl
    36 AE71 49 FF					eor #255
    37 AE73 38						sec		;+1
    38 AE74 79 38 36					adc strzalY3,y
    39 AE77 C9 04					cmp #4
    40 AE79 B0 E4					bcs kolsr1		;next strzal
    41 						
    42 AE7B BD F8 28					lda rakietyX0,x	
    43 AE7E 0A						asl
    44 AE7F 0A						asl
    45 AE80 49 FF					eor #255
    46 AE82 38						sec	;+1
    47 AE83 79 20 36					adc strzalX3,y
    48 AE86 C9 08					cmp #8
    49 AE88 B0 D5					bcs kolsr1		;next strzal	
    50
    51 AE8A 4C AB AE					jmp kolsr4
    52 				;pionowe rakiety ^			
    53 AE8D BD F8 28		kolsr3		lda rakietyX0,x	
    54 AE90 0A						asl
    55 AE91 0A						asl
    56 AE92 49 FF					eor #255
    57 AE94 38						sec	;+1
    58 AE95 79 20 36					adc strzalX3,y
    59 AE98 C9 03					cmp #3
    60 AE9A B0 C3					bcs kolsr1		;next strzal	
    61 							
    62 AE9C BD 80 02					lda rakietyY0,x		
    63 AE9F 0A						asl
    64 AEA0 0A						asl
    65 AEA1 49 FF					eor #255
    66 AEA3 38						sec		;+1
    67 AEA4 79 38 36					adc strzalY3,y
    68 AEA7 C9 08					cmp #8
    69 AEA9 B0 B4					bcs kolsr1		;next strzal			
    70 							
    71 AEAB A9 00		kolsr4		lda #0
    72 AEAD 99 10 36					sta strzal,y		;wylacz strzal
    73 AEB0 BC E0 28					ldy rakietyStan,x
    74 AEB3 9D E0 28					sta rakietyStan,x
    75 AEB6 9D 88 02					sta rakietyMove,x
    76
    77 AEB9 A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
    78
    79 AEBE 20 AD 84					jsr dodajMalyWybuch
    80 AEC1 A9 07					lda #$7
    81 AEC3 20 85 55					jsr dodajPunkty
    82 							
    83 AEC6 4C 4B AE					jmp kolsr2		;next rakieta
    84 							
    85 				;kolizje enemy z obiektami
    86 = AEC9			kolObiektyEnemy	equ *
    87 AEC9 AC 72 36					ldy licznikBombyEkran
    88 AECC D0 01					bne @+
    89 AECE 60						rts
    90 							
    91 AECF B9 7F 28		@			lda bombyEkran-1,y
    92 AED2 C9 FF					cmp #255
    93 AED4 D0 04					bne @+
    94 = AED6			obe2		equ *
    95 AED6 88						dey
    96 AED7 D0 F6					bne @-
    97 AED9 60						rts
    98 							
    99 AEDA A2 05		@			ldx #5
   100 AEDC BD 2B 32		@			lda enemyEkran,x
   101 AEDF 1D 25 32					ora enemyWybuch,x
   102 AEE2 F0 06					beq @+
   103 AEE4 CA			obe3		dex
   104 AEE5 10 F5					bpl @-
   105 AEE7 4C D6 AE					jmp obe2		
   106 							
   107 AEEA B9 9F 28		@			lda bombX0-1,y		;od 0 do 33 (+1)
   108 AEED 0A						asl @
   109 AEEE 0A						asl @
   110 AEEF 69 03					adc #2+1	;c=0, pozycja bomby jest powiekszona o 1 , po dzialaniu c=0, dodajemy wiec +1 i sec przy odejmowaniu jest niepotrzebne
   111 							;sec		;zbedne
   112 AEF1 FD AD 36					sbc enemyPosX,x
   113 AEF4 C9 0D					cmp #13
   114 AEF6 B0 EC					bcs obe3
   115 							
   116 							
   117 AEF8 B9 BF 28					lda bombY0-1,y	;jak powyzej
   118 AEFB 0A						asl @
   119 AEFC 0A						asl @
   120 AEFD 69 03					adc #2+1
   121 							
   122 							;sec
   123 AEFF FD B3 36					sbc enemyPosY,x
   124 AF02 C9 0D					cmp #13
   125 AF04 B0 DE					bcs obe3
   126 							
   127 AF06 BD 61 32 9D 79 32				mva enemyFaza,x enemyLastFaza,x
   128 AF0C A9 08 9D 25 32				mva #8 enemyWybuch,x
   129 AF11 A9 80 9D 67 32				mva #EKOLOR1 enemyNegatyw,x
   130
   131 AF16 A9 46 9D 73 32				mva #>explo_shapetab enemyShapeH,x	
   132
   133
   134 AF1B E0 05		@			cpx #5
   135 AF1D D0 0A					bne @+
   136 AF1F AD 53 36					lda jestSpy	;czySpy?
   137 AF22 F0 05					beq @+
   138 AF24 A9 FF 8D BD 35				mva #$ff spyScore
   139 										
   140 AF29 A9 0A 8D C8 36	@			mva #5*2 sfx_enemyHit
   141 AF2E A9 02					lda #$2					;20 pkt jak enemy wpadnie na obiekt
   142 AF30 20 85 55					jsr dodajPunkty
   143
   144 						
   145 AF33 BE 7F 28					ldx bombyEkran-1,y
   146 AF36 BD 7F 0A					lda bombRodzaj-1,x
   147 AF39 F0 1D					beq @+
   148 AF3B A9 FF 9D 7F 0A				mva #255 bombRodzaj-1,x
   149 AF40 99 7F 28					sta bombyEkran-1,y
   150 AF43 A9 0A 8D C8 36				mva #5*2 sfx_enemyHit
   151 							
   152 AF48 BD 7F 27					lda bombX-1,x
   153 AF4B 84 A5					sty pom0
   154 AF4D BC FF 27					ldy bombY-1,x
   155 AF50 20 54 85					jsr dodajWybuch
   156 AF53 A4 A5					ldy pom0
   157 AF55 4C D6 AE					jmp obe2
   158 							
   159 AF58 A9 FF 9D 7F 0A	@			mva #255 bombRodzaj-1,x
   160 AF5D 99 7F 28					sta bombyEkran-1,y
   161 AF60 BD 7F 27					lda bombX-1,x
   162 AF63 38						sec
   163 AF64 E9 01					sbc #1
   164 AF66 84 A5					sty pom0
   165 AF68 BC FF 27					ldy bombY-1,x
   166 AF6B 88						dey
   167 AF6C 20 49 B6					jsr bombExplo
   168 AF6F A4 A5					ldy pom0
   169 AF71 4C D6 AE					jmp obe2
   170 							
   171 				;oblicz pozycje xi y enemy
   172 = AF74			obliczEnemyXY	equ *
   173 							.rept 6, #
   174 							LDA ENEMYEKRAN+:1
   175 							ORA ENEMYWYBUCH+:1
   176 							BNE OBE1:1
   177 							
   178 							LDA ENEMYX0+:1
   179 							ASL
   180 							ASL
   181 							ORA ENEMYDX0+:1
   182 							STA ENEMYPOSX+:1
   183 							
   184 							LDA ENEMYY0+:1
   185 							ASL
   186 							ASL
   187 							ORA ENEMYDY0+:1
   188 							STA ENEMYPOSY+:1
   189 							
   190 				OBE1:1		EQU *
   191 							.ENDR
   191 							.endr
Source: REPT
   174 AF74 AD 2B 32					LDA ENEMYEKRAN+0
   174 AF77 0D 25 32					ORA ENEMYWYBUCH+0
   174 AF7A D0 16					BNE OBE10
   174 							
   174 AF7C AD 37 32					LDA ENEMYX0+0
   174 AF7F 0A						ASL
   174 AF80 0A						ASL
   174 AF81 0D 4F 32					ORA ENEMYDX0+0
   174 AF84 8D AD 36					STA ENEMYPOSX+0
   174 							
   174 AF87 AD 43 32					LDA ENEMYY0+0
   174 AF8A 0A						ASL
   174 AF8B 0A						ASL
   174 AF8C 0D 5B 32					ORA ENEMYDY0+0
   174 AF8F 8D B3 36					STA ENEMYPOSY+0
   174 							
   174 = AF92			OBE10		EQU *
   174 AF92 AD 2C 32					LDA ENEMYEKRAN+1
   174 AF95 0D 26 32					ORA ENEMYWYBUCH+1
   174 AF98 D0 16					BNE OBE11
   174 							
   174 AF9A AD 38 32					LDA ENEMYX0+1
   174 AF9D 0A						ASL
   174 AF9E 0A						ASL
   174 AF9F 0D 50 32					ORA ENEMYDX0+1
   174 AFA2 8D AE 36					STA ENEMYPOSX+1
   174 							
   174 AFA5 AD 44 32					LDA ENEMYY0+1
   174 AFA8 0A						ASL
   174 AFA9 0A						ASL
   174 AFAA 0D 5C 32					ORA ENEMYDY0+1
   174 AFAD 8D B4 36					STA ENEMYPOSY+1
   174 							
   174 = AFB0			OBE11		EQU *
   174 AFB0 AD 2D 32					LDA ENEMYEKRAN+2
   174 AFB3 0D 27 32					ORA ENEMYWYBUCH+2
   174 AFB6 D0 16					BNE OBE12
   174 							
   174 AFB8 AD 39 32					LDA ENEMYX0+2
   174 AFBB 0A						ASL
   174 AFBC 0A						ASL
   174 AFBD 0D 51 32					ORA ENEMYDX0+2
   174 AFC0 8D AF 36					STA ENEMYPOSX+2
   174 							
   174 AFC3 AD 45 32					LDA ENEMYY0+2
   174 AFC6 0A						ASL
   174 AFC7 0A						ASL
   174 AFC8 0D 5D 32					ORA ENEMYDY0+2
   174 AFCB 8D B5 36					STA ENEMYPOSY+2
   174 							
   174 = AFCE			OBE12		EQU *
   174 AFCE AD 2E 32					LDA ENEMYEKRAN+3
   174 AFD1 0D 28 32					ORA ENEMYWYBUCH+3
   174 AFD4 D0 16					BNE OBE13
   174 							
   174 AFD6 AD 3A 32					LDA ENEMYX0+3
   174 AFD9 0A						ASL
   174 AFDA 0A						ASL
   174 AFDB 0D 52 32					ORA ENEMYDX0+3
   174 AFDE 8D B0 36					STA ENEMYPOSX+3
   174 							
   174 AFE1 AD 46 32					LDA ENEMYY0+3
   174 AFE4 0A						ASL
   174 AFE5 0A						ASL
   174 AFE6 0D 5E 32					ORA ENEMYDY0+3
   174 AFE9 8D B6 36					STA ENEMYPOSY+3
   174 							
   174 = AFEC			OBE13		EQU *
   174 AFEC AD 2F 32					LDA ENEMYEKRAN+4
   174 AFEF 0D 29 32					ORA ENEMYWYBUCH+4
   174 AFF2 D0 16					BNE OBE14
   174 							
   174 AFF4 AD 3B 32					LDA ENEMYX0+4
   174 AFF7 0A						ASL
   174 AFF8 0A						ASL
   174 AFF9 0D 53 32					ORA ENEMYDX0+4
   174 AFFC 8D B1 36					STA ENEMYPOSX+4
   174 							
   174 AFFF AD 47 32					LDA ENEMYY0+4
   174 B002 0A						ASL
   174 B003 0A						ASL
   174 B004 0D 5F 32					ORA ENEMYDY0+4
   174 B007 8D B7 36					STA ENEMYPOSY+4
   174 							
   174 = B00A			OBE14		EQU *
   174 B00A AD 30 32					LDA ENEMYEKRAN+5
   174 B00D 0D 2A 32					ORA ENEMYWYBUCH+5
   174 B010 D0 16					BNE OBE15
   174 							
   174 B012 AD 3C 32					LDA ENEMYX0+5
   174 B015 0A						ASL
   174 B016 0A						ASL
   174 B017 0D 54 32					ORA ENEMYDX0+5
   174 B01A 8D B2 36					STA ENEMYPOSX+5
   174 							
   174 B01D AD 48 32					LDA ENEMYY0+5
   174 B020 0A						ASL
   174 B021 0A						ASL
   174 B022 0D 60 32					ORA ENEMYDY0+5
   174 B025 8D B8 36					STA ENEMYPOSY+5
   174 							
   174 = B028			OBE15		EQU *
Source: kolizje.asm
   192 B028 60						rts
   193
   194
   195 				;kolizje pociskow z przeciwnikami
   196 = B029			kolPociskiEnemy	equ *
   197 B029 AE 6B 36					ldx maxPociskow
   198 B02C BD C3 35		@			lda pociski,x
   199 							
   200 B02F 30 07					bmi kolpe1
   201 B031 BD C8 35					lda pociskiTlo,x			;szukaj kolizji jesli znak pod pociskiem to znak jakiegos duszka >73
   202 B034 C9 4A					cmp #74
   203 B036 B0 04					bcs @+
   204 							
   205 B038 CA			kolpe1		dex
   206 B039 10 F1					bpl @-
   207 B03B 60						rts
   208
   209 B03C A0 05		@			ldy #5
   210 B03E B9 2B 32		@			lda enemyEkran,Y
   211 B041 19 25 32					ora enemyWybuch,y
   212 B044 F0 06					beq @+
   213 B046 88			kolpe2		dey
   214 B047 10 F5					bpl @-
   215 B049 4C 38 B0					jmp kolpe1
   216 							
   217 B04C BD EB 35		@			lda pociskiDX0,x
   218 B04F 38						sec	
   219 B050 F9 AD 36					sbc enemyPosX,y
   220 B053 C9 08					cmp #8	
   221 B055 B0 EF					bcs kolpe2
   222 							
   223 B057 BD F5 35					lda pociskiDY0,x
   224 B05A 38						sec	
   225 B05B F9 B3 36					sbc enemyPosY,y
   226 B05E C9 08					cmp #8
   227 B060 B0 E4					bcs kolpe2
   228 							
   229 							
   230 B062 A9 81 9D C3 35				mva #129 pociski,x
   231 B067 CE 0E 36					dec liczbaPociskow
   232 							
   233 B06A B9 61 32 99 79 32				mva enemyFaza,y enemyLastFaza,y
   234 B070 A9 08 99 25 32				mva #8 enemyWybuch,y
   235 B075 A9 80 99 67 32				mva #EKOLOR1 enemyNegatyw,y
   236 B07A A9 46 99 73 32				mva #>explo_shapetab enemyShapeH,y	
   237 							
   238 B07F C0 05					cpy #5
   239 B081 D0 12					bne @+
   240 B083 AD 53 36					lda jestSpy	;czySpy?
   241 B086 F0 0D					beq @+
   242
   243 B088 A9 FF 8D BD 35				mva #$ff spyScore
   244 B08D A9 04 8D C8 36				mva #2*2 sfx_enemyHit
   245 B092 4C 38 B0					jmp kolpe1
   246
   247 							
   248 B095 A9 05		@			lda #$5
   249 B097 20 85 55					jsr dodajPunkty
   250 B09A A9 0A 8D C8 36				mva #5*2 sfx_enemyHit
   251 							
   252 B09F 4C 38 B0					jmp kolpe1
   253
   254
   255 				;kolizje strzalow z przeciwnikami
   256 = B0A2			kolStrzalyEnemy	equ *
   257 B0A2 A2 03					ldx #3
   258 B0A4 BD 10 36		@			lda strzal,x
   259 							
   260 B0A7 F0 09					beq kolse1
   261 B0A9 BD 44 36					lda strzalTlo,x
   262 B0AC 29 7F					and #127
   263 B0AE C9 4A					cmp #74		;sprawdzaj tylko jeÅ›li pod strzaÅ‚em jest znak duszka
   264 B0B0 B0 04					bcs @+
   265 							
   266 B0B2 CA			kolse1		dex
   267 B0B3 10 EF					bpl @-
   268 B0B5 60						rts
   269 							
   270 B0B6 A0 00		@			ldy #0
   271 B0B8 B9 2B 32		@			lda enemyEkran,y
   272 B0BB 19 25 32					ora enemyWybuch,y
   273 B0BE F0 08					beq @+
   274 B0C0 C8			kolse2		iny
   275 B0C1 C0 06					cpy #6				
   276 B0C3 90 F3					bcc @-
   277 B0C5 4C B2 B0					jmp kolse1
   278 							
   279 B0C8 BD 20 36		@			lda strzalX3,x
   280 B0CB 38						sec	
   281 B0CC F9 AD 36					sbc enemyPosX,y
   282 B0CF C9 08					cmp #8
   283 B0D1 B0 ED					bcs kolse2
   284 							
   285 B0D3 BD 38 36					lda strzalY3,x
   286 B0D6 38						sec	
   287 B0D7 F9 B3 36					sbc enemyPosY,y
   288 B0DA C9 08					cmp #8 
   289 B0DC B0 E2					bcs kolse2
   290 							
   291 B0DE A9 00 9D 10 36				mva #0 strzal,x
   292 B0E3 B9 61 32 99 79 32				mva enemyFaza,y enemyLastFaza,y
   293 B0E9 A9 08 99 25 32				mva #8 enemyWybuch,y
   294 B0EE A9 80 99 67 32				mva #EKOLOR1 enemyNegatyw,y
   295 B0F3 A9 46 99 73 32				mva #>explo_shapetab enemyShapeH,y
   296 							
   297 B0F8 C0 00					cpy #0
   298 B0FA F0 0A					beq @+
   299 B0FC AD 99 36					lda formacja_zbite
   300 B0FF C9 04					cmp #4
   301 B101 D0 03					bne @+
   302 B103 EE 99 36					inc formacja_zbite		;jesli ostatni z formacji		
   303 							
   304 B106 AD 1D 34		@			lda formacja_stan		;zapamietaj pozycje ostatnio zbitego statku formacji
   305 B109 C9 05					cmp #5
   306 B10B D0 10					bne @+
   307 B10D C0 00					cpy #0
   308 B10F F0 0C					beq @+
   309 B111 B9 31 32					lda enemyX,y
   310 B114 8D BE 35					sta spyscoreX
   311 B117 B9 3D 32					lda enemyY,y
   312 B11A 8D BF 35					sta spyscoreY
   313 							
   314 							
   315 B11D C0 05		@			cpy #5
   316 B11F D0 12					bne @+
   317 B121 AD 53 36					lda jestSpy	;czySpy?
   318 B124 F0 0D					beq @+
   319 B126 A9 FF					lda #$ff
   320 B128 20 85 55					jsr dodajPunkty
   321 B12B A9 04 8D C8 36				mva #2*2 sfx_enemyHit
   322 B130 4C B2 B0					jmp kolse1
   323
   324 							
   325 B133 A9 05		@			lda #$5
   326 B135 20 85 55					jsr dodajPunkty
   327 B138 A9 0A 8D C8 36				mva #5*2 sfx_enemyHit
   328 							
   329 B13D 4C B2 B0					jmp kolse1
   330 								
   331 				;kolizje strzalow z przeciwnikami
   332 = B140			kolStrzalyEnemy1	equ *
   333 B140 A2 03					ldx #3
   334 B142 BD 10 36		@			lda strzal,x
   335 							
   336 B145 F0 09					beq kolse1_
   337 B147 BD 48 36					lda strzalTlo1,x
   338 B14A 29 7F					and #127
   339 B14C C9 4A					cmp #74		;sprawdzaj tylko jeÅ›li pod strzaÅ‚em jest znak duszka
   340 B14E B0 04					bcs @+
   341 							
   342 B150 CA			kolse1_		dex
   343 B151 10 EF					bpl @-
   344 B153 60						rts
   345 							
   346 B154 A0 05		@			ldy #5
   347 B156 B9 2B 32		@			lda enemyEkran,y
   348 B159 19 25 32					ora enemyWybuch,y
   349 B15C F0 06					beq @+
   350 B15E 88			kolse2_		dey
   351 B15F 10 F5					bpl @-
   352 B161 4C 50 B1					jmp kolse1_
   353 							
   354 B164 BD 20 36		@			lda strzalX3,x
   355 B167 38						sec	
   356 B168 F9 AD 36					sbc enemyPosX,y
   357 B16B C9 08					cmp #8
   358 B16D B0 EF					bcs kolse2_
   359 							
   360 B16F BD 38 36					lda strzalY3,x
   361 B172 38						sec	
   362 B173 F9 B3 36					sbc enemyPosY,y
   363 B176 C9 08					cmp #8 
   364 B178 B0 E4					bcs kolse2_
   365 							
   366 B17A A9 00 9D 10 36				mva #0 strzal,x
   367 B17F B9 61 32 99 79 32				mva enemyFaza,y enemyLastFaza,y
   368 B185 A9 08 99 25 32				mva #8 enemyWybuch,y
   369 B18A A9 80 99 67 32				mva #EKOLOR1 enemyNegatyw,y
   370 B18F A9 46 99 73 32				mva #>explo_shapetab enemyShapeH,y
   371 							
   372 B194 C0 00					cpy #0
   373 B196 F0 0A					beq @+
   374 B198 AD 99 36					lda formacja_zbite
   375 B19B C9 04					cmp #4
   376 B19D D0 03					bne @+
   377 B19F EE 99 36					inc formacja_zbite		;jesli ostatni z formacji		
   378 							
   379 B1A2 AD 1D 34		@			lda formacja_stan		;zapamietaj pozycje ostatnio zbitego statku formacji
   380 B1A5 C9 05					cmp #5
   381 B1A7 D0 10					bne @+
   382 B1A9 C0 00					cpy #0
   383 B1AB F0 0C					beq @+
   384 B1AD B9 31 32					lda enemyX,y
   385 B1B0 8D BE 35					sta spyscoreX
   386 B1B3 B9 3D 32					lda enemyY,y
   387 B1B6 8D BF 35					sta spyscoreY
   388 							
   389 							
   390 B1B9 C0 05		@			cpy #5
   391 B1BB D0 12					bne @+
   392 B1BD AD 53 36					lda jestSpy	;czySpy?
   393 B1C0 F0 0D					beq @+
   394 B1C2 A9 FF					lda #$ff
   395 B1C4 20 85 55					jsr dodajPunkty
   396 B1C7 A9 04 8D C8 36				mva #2*2 sfx_enemyHit
   397 B1CC 4C 50 B1					jmp kolse1_
   398
   399 							
   400 B1CF A9 05		@			lda #$5
   401 B1D1 20 85 55					jsr dodajPunkty
   402 B1D4 A9 0A 8D C8 36				mva #5*2 sfx_enemyHit
   403 							
   404 B1D9 4C 50 B1					jmp kolse1_
   405
   406
   407 								
   408 				;kolizja statku z wrogiem
   409 = B1DC			kolStatekEnemy	equ *
   410 B1DC A2 05					ldx #5
   411 B1DE BD 2B 32		@			lda enemyEkran,x
   412 B1E1 1D 25 32					ora enemyWybuch,x
   413 B1E4 F0 04					beq @+
   414 B1E6 CA			kolen1		dex
   415 B1E7 10 F5					bpl @-
   416 B1E9 60						rts		
   417 							
   418 B1EA BD AD 36		@			lda enemyPosX,x
   419 B1ED 18						clc 	;-1
   420 B1EE E5 C8					sbc movX0
   421 							;sec				;moÅ¼na pominÄ…Ä‡, jeÅ›li poprzedni wynik jest ujemny to i tak poza zakresem
   422 B1F0 E9 36					sbc #61-7	;#54	;+2
   423 B1F2 C9 0E					cmp #14		;13
   424 B1F4 B0 F0					bcs kolen1
   425 							
   426 B1F6 BD B3 36					lda enemyPosY,x
   427 B1F9 38						sec
   428 B1FA E5 C9					sbc movY0
   429 							;sec				; jak wyÅ¼ej
   430 B1FC E9 2E					sbc #53-7	;#46	;+1
   431 B1FE C9 0E					cmp #14		;13		
   432 B200 B0 E4					bcs kolen1
   433 							
   434 B202 A9 3E 8D 87 36				mva #62 fazaWybuch
   435 B207 A9 01 85 C2					mva #1 trafienie
   436 B20B A9 12 8D C6 36				mva #9*2 sfx_dead
   437 							
   438 B210 60						rts
   439 						
   440 				;kolizje statku z bazami
   441 = B211			kolStatekBazy	equ *
   442 B211 AE 71 36					ldx licznikBazyEkran
   443 B214 D0 01					bne *+3
   444 B216 60						rts
   445
   446 B217 BD 72 36		kolst1		lda bazyEkran-1,x
   447 B21A 30 4E					bmi kolst2
   448 B21C A8						tay
   449 B21D B9 8F 02					lda bazyRodzaj-1,y
   450 B220 30 48					bmi kolst2
   451 							
   452 B222 D0 23					bne @+		;baza b
   453
   454 					;baza A
   455 B224 B9 CF 02					lda bazyX0-1,y
   456 							;bmi kolst2
   457 B227 0A						asl @
   458 B228 0A						asl @
   459 B229 18						clc
   460 B22A E5 C8					sbc movX0
   461 B22C E9 19					sbc #60-35
   462 B22E C9 2B					cmp #43
   463 B230 B0 38					bcs kolst2
   464 B232 85 A3					sta pom4
   465 						
   466 							;eor #255
   467 							;sec
   468 							;adc movX0
   469 							;adc #60+7+1		;68
   470 							;cmp #43
   471 							;bcs kolst2
   472 							;sta pom4
   473 							
   474 B234 B9 EF 02					lda bazyY0-1,y
   475 							;bmi kolst2
   476 B237 0A						asl @
   477 B238 0A						asl @
   478 B239 38						sec
   479 B23A E5 C9					sbc movY0
   480 B23C E9 15					sbc #52-31
   481 B23E C9 27					cmp #39
   482 B240 B0 28					bcs kolst2
   483 B242 85 A4					sta pom4+1
   484 							
   485 							;eor #255
   486 							;clc
   487 							;adc movY0
   488 							;adc #52+7+1
   489 							;cmp #39
   490 							;bcs kolst2
   491 							;sta pom4+1
   492 							
   493 							;tutaj dokladne sprawdzenie bazy A
   494 B244 4C 6E B2					jmp sprawdzBazaA		;skok bezwarunkowy
   495 							
   496 					;baza B
   497 B247 B9 CF 02		@			lda bazyX0-1,y
   498 							;bmi kolst2
   499 B24A 0A						asl @
   500 B24B 0A						asl @
   501 B24C 18						clc
   502 B24D E5 C8					sbc movX0
   503 B24F E9 1D					sbc #60-31
   504 B251 C9 27					cmp #39
   505 B253 B0 15					bcs kolst2
   506 B255 85 A3					sta pom4
   507 							
   508 							;eor #255
   509 							;sec
   510 							;adc movX0
   511 							;adc #68
   512 							;cmp #40
   513 							;bcs kolst2
   514 							;sta pom4
   515 							
   516 B257 B9 EF 02					lda bazyY0-1,y
   517 							;bmi kolst2
   518 B25A 0A						asl @
   519 B25B 0A						asl @
   520 B25C 38						sec
   521 B25D E5 C9					sbc movY0
   522 B25F E9 11					sbc #52-35
   523 B261 C9 2B					cmp #43
   524 B263 B0 05					bcs kolst2
   525 B265 85 A4					sta pom4+1
   526 							
   527 							;eor #255
   528 							;clc
   529 							;adc movY0
   530 							;adc #58+1
   531 							;cmp #44
   532 							;bcs kolst2
   533 							;sta pom4+1
   534 							
   535 B267 4C C9 B2					jmp sprawdzBazaB
   536 							
   537 B26A			kolst2		;ldx pom0f
   538 B26A CA						dex
   539 B26B D0 AA					bne kolst1
   540 B26D 60						rts
   541
   542 				;sprawdz czy statek jest na bazie A
   543 = B26E			sprawdzBazaA	equ *
   544 B26E 84 A6					sty pom0a		;zapamietaj numer bazy
   545 							
   546 B270 AE CA 36					ldx sJoy
   547 B273 BD 24 B3					lda kolTab1,x
   548 B276 AA						tax				;znajdz dane dla danego wygladu statku
   549
   550 B277 A9 03 85 AA					mva #3 pom0e		;licznik petli
   551 							
   552 B27B 38			sprba2		sec
   553 							
   554 B27C A5 A3					lda pom4
   555 B27E FD 2F B3					sbc kolTab2,x	;pozycja X punktu testowego
   556 B281 C9 24					cmp #36			;9*4
   557 B283 B0 3E					bcs sprba1		;nastepny punkt, poza zakresem lub ujemna
   558 B285 0A						asl @
   559 B286 29 F8					and #%11111000	;X bylo *4 wiec wystarczy *2 i obciecie najmlodszych bitow
   560 B288 85 A8					sta pom0c
   561 							
   562 B28A 38						sec
   563
   564 B28B A5 A4					lda pom4+1
   565 B28D FD 47 B3					sbc kolTab2+24,x	;pozycja Y punktu testowego
   566 B290 C9 20					cmp #32			;8*4
   567 B292 B0 2F					bcs sprba1
   568 B294 4A						lsr @
   569 B295 4A						lsr @
   570 									
   571 B296 05 A8					ora pom0c
   572 B298 A8						tay
   573 B299 B9 55 B8					lda bazaA2,y
   574 B29C F0 25					beq sprba1	
   575 							
   576 B29E C9 80		@			cmp #128
   577 B2A0 90 0D					bcc @+
   578 							
   579 B2A2 29 7F					and #127			;czy zbity element dzialka
   580 B2A4 A8						tay
   581 B2A5 B9 D5 B9					lda tabKol0,y
   582 B2A8 A4 A6					ldy pom0a
   583 B2AA 39 9F 02					and bazyStan-1,y
   584 B2AD F0 14					beq sprba1
   585 							
   586 B2AF A4 A6		@			ldy pom0a
   587
   588 B2B1 20 7D B9					jsr usunBazeA			
   589 B2B4 A9 3E 8D 87 36				mva #62 fazaWybuch
   590 B2B9 A9 01 85 C2					mva #1 trafienie
   591 B2BD A9 12 8D C6 36				mva #9*2 sfx_dead
   592 B2C2 60						rts
   593 							
   594 B2C3 E8			sprba1		inx
   595 B2C4 C6 AA					dec pom0e
   596 B2C6 D0 B3					bne sprba2
   597 							
   598 B2C8 60						rts
   599 							
   600 = B2C9			sprawdzBazaB	equ *
   601 B2C9 84 A6					sty pom0a		;zapamietaj numer bazy
   602 							
   603 B2CB AE CA 36					ldx sJoy
   604 B2CE BD 24 B3					lda kolTab1,x
   605 B2D1 AA						tax				;znajdz dane dla danego wygladu statku
   606 							
   607 B2D2 A9 03 85 AA					mva #3 pom0e		;licznik petli
   608 							
   609 B2D6 38			sprba4		sec				
   610 B2D7 A5 A3					lda pom4
   611 B2D9 FD 2F B3					sbc kolTab2,x	;pozycja X punktu testowego
   612 B2DC C9 20					cmp #32		;8*4
   613 B2DE B0 3E					bcs sprba3
   614 B2E0 4A						lsr @
   615 B2E1 4A						lsr @
   616 B2E2 85 A8					sta pom0c
   617 							
   618 							
   619 B2E4 38						sec
   620
   621 B2E5 A5 A4					lda pom4+1
   622 B2E7 FD 47 B3					sbc kolTab2+24,x	;pozycja Y punktu testowego
   623 B2EA C9 24					cmp #36		;9*4
   624 B2EC B0 30					bcs sprba3
   625 B2EE 0A						asl @
   626 B2EF 29 F8					and #%11111000
   627 							
   628 B2F1 05 A8					ora pom0c
   629 B2F3 A8						tay
   630 B2F4 B9 47 BA					lda bazaB2,y
   631 B2F7 F0 25					beq sprba3
   632 							
   633 B2F9 C9 80		@			cmp #128
   634 B2FB 90 0D					bcc @+
   635 							
   636 B2FD 29 7F					and #127			;czy zbity element dzialka
   637 B2FF A8						tay
   638 B300 B9 D5 B9					lda tabKol0,y
   639 B303 A4 A6					ldy pom0a
   640 B305 39 9F 02					and bazyStan-1,y
   641 B308 F0 14					beq sprba3
   642 							
   643 B30A A4 A6		@			ldy pom0a
   644 B30C 20 6E BB					jsr usunBazeB			
   645 B30F A9 3E 8D 87 36				mva #62 fazaWybuch
   646 B314 A9 01 85 C2					mva #1 trafienie
   647 B318 A9 12 8D C6 36				mva #9*2 sfx_dead
   648 B31D 60						rts
   649 							
   650 B31E E8			sprba3		inx
   651 B31F C6 AA					dec pom0e
   652 B321 D0 B3					bne sprba4
   653
   654 B323 60						rts
   655
   656 B324 00 0C 00 00 06 09 + kolTab1		dta b(0,12,0,0,6,9,3,0,18,15,21)
   657 B32F 04 07 00 00 06 01 + kolTab2		dta b(4,7,0,0,6,1,0,4,4,6,1,0,6,0,3,7,6,1,7,3,3,7,6,1)
   658 B347 07 02 02 07 06 01 + 			dta b(7,2,2,7,6,1,4,7,0,1,6,0,5,5,0,0,6,1,4,7,0,7,1,6)
   659 B35F 2D 32		tabRak1		dta b(45,50)		;granice Y
   660 B361 3B 36					dta b(59,54)		;granice X
   661 							
   662 							
   663 				;kolizje rakiety ze statkiem
   664 = B363			kolRakietyStatek	equ *
   665 B363 A5 CB					lda czyRakiety
   666 B365 D0 01					bne *+3
   667 B367 60						rts
   668
   669 B368 A2 07					ldx #7
   670 B36A BD 88 02		@			lda rakietyMove,x
   671 B36D D0 04					bne @+1
   672 							
   673 B36F CA			@			dex
   674 B370 10 F8					bpl @-1
   675 							
   676 B372 60						rts
   677 							
   678 B373 BD E8 28		@			lda rakietyTyp,x
   679 B376 4A						lsr @
   680 B377 A8						tay
   681 							
   682 B378 BD 80 02					lda rakietyY0,x
   683 B37B 0A						asl @
   684 B37C 0A						asl @
   685 B37D 38						sec
   686 B37E E5 C9					sbc movY0
   687 B380 D9 5F B3					cmp tabRak1,y
   688 B383 90 EA					bcc @-1
   689 B385 C9 3C					cmp #60
   690 B387 B0 E6					bcs @-1
   691 							
   692 B389 BD F8 28					lda rakietyX0,x
   693 B38C 0A						asl @
   694 B38D 0A						asl @
   695 B38E 18						clc
   696 B38F E5 C8					sbc movX0
   697 B391 D9 61 B3					cmp tabRak1+2,y
   698 B394 90 D9					bcc @-1
   699 B396 C9 44					cmp #68
   700 B398 B0 D5					bcs @-1
   701 							
   702 B39A A9 3E 8D 87 36				mva #62 fazaWybuch
   703 B39F A9 01 85 C2					mva #1 trafienie
   704 B3A3 A9 12 8D C6 36				mva #9*2 sfx_dead
   705 B3A8 60						rts
   706 							
   707 				;kolizja rakiety z obiektami
   708 = B3A9			kolRakietyObiekty	equ *
   709 B3A9 A5 CB					lda czyRakiety
   710 B3AB D0 01					bne *+3
   711 B3AD 60						rts
   712 							
   713 B3AE AC 72 36					ldy licznikBombyEkran		;czy sa jakies bomby na ekranie
   714 B3B1 D0 01					bne *+3
   715 B3B3 60						rts
   716 							
   717 B3B4 A2 07					ldx #7
   718 B3B6 BD 88 02		@			lda rakietyMove,x
   719 B3B9 D0 04					bne @+
   720 B3BB CA			kolrak3		dex
   721 B3BC 10 F8					bpl @-
   722 B3BE 60						rts
   723 							
   724 B3BF AC 72 36		@			ldy licznikBombyEkran
   725 B3C2 BD E8 28					lda rakietyTyp,x
   726 B3C5 29 02					and #%10
   727 B3C7 D0 33					bne kolrak2b
   728 							
   729 B3C9 B9 7F 28		kolrak2		lda bombyEkran-1,y
   730 B3CC 84 A5					sty pom0
   731 B3CE A8						tay
   732 B3CF B9 7F 0A					lda bombRodzaj-1,y
   733 B3D2 30 20					bmi kolrak1
   734 							
   735 B3D4 85 A6					sta pom0a
   736 B3D6 A4 A5					ldy pom0
   737 							
   738 B3D8 B9 9F 28					lda bombX0-1,y
   739 B3DB 38						sec
   740 B3DC FD F8 28					sbc rakietyX0,x
   741 B3DF C9 02					cmp #2
   742 B3E1 B0 0B					bcs kolrak1b
   743 							
   744 B3E3 B9 BF 28					lda bombY0-1,y
   745 B3E6 38						sec
   746 B3E7 FD 80 02					sbc rakietyY0,x
   747 B3EA C9 03					cmp #3
   748 B3EC 90 41					bcc @+
   749 							
   750 							
   751 							
   752 B3EE 88			kolrak1b	dey
   753 B3EF D0 D8					bne kolrak2
   754 B3F1 4C BB B3					jmp kolrak3
   755 							
   756 = B3F4			kolrak1		equ *
   757 B3F4 A4 A5					ldy pom0
   758 B3F6 88						dey
   759 B3F7 D0 D0					bne kolrak2
   760 B3F9 4C BB B3					jmp kolrak3			
   761
   762
   763 B3FC B9 7F 28		kolrak2b	lda bombyEkran-1,y
   764 B3FF 84 A5					sty pom0
   765 B401 A8						tay
   766 B402 B9 7F 0A					lda bombRodzaj-1,y
   767 B405 30 20					bmi kolrak1z
   768 							
   769 B407 85 A6					sta pom0a
   770 B409 A4 A5					ldy pom0
   771 							
   772 B40B B9 9F 28					lda bombX0-1,y
   773 B40E 38						sec
   774 B40F FD F8 28					sbc rakietyX0,x
   775 B412 C9 03					cmp #3
   776 B414 B0 0B					bcs kolrak1c
   777 							
   778 B416 B9 BF 28					lda bombY0-1,y
   779 B419 38						sec
   780 B41A FD 80 02					sbc rakietyY0,x
   781 B41D C9 02					cmp #2
   782 B41F 90 0E					bcc @+
   783 							
   784 B421 88			kolrak1c	dey
   785 B422 D0 D8					bne kolrak2b
   786 B424 4C BB B3					jmp kolrak3
   787 							
   788 = B427			kolrak1z	equ *
   789 B427 A4 A5					ldy pom0
   790 B429 88						dey
   791 B42A D0 9D					bne kolrak2
   792 B42C 4C BB B3					jmp kolrak3					
   793 							
   794 B42F B9 7F 28		@			lda bombyEkran-1,y
   795 B432 A8						tay
   796 B433 B9 7F 0A					lda bombRodzaj-1,y
   797 B436 48						pha
   798 B437 A9 FF 99 7F 0A				mva #255 bombRodzaj-1,y
   799 							
   800 B43C 68						pla
   801 B43D F0 26					beq @+
   802 B43F B9 7F 27					lda bombX-1,y
   803 B442 48						pha
   804 B443 B9 FF 27					lda bombY-1,y
   805 B446 A8						tay
   806 B447 68						pla
   807 B448 20 54 85					jsr dodajWybuch
   808 B44B A9 00 8D C3 36				mva #0 sfx_asteroid
   809 							
   810 							
   811 B450 BC E0 28					ldy rakietyStan,x
   812 B453 A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
   813 B458 A4 A5					ldy pom0
   814 B45A A9 00					lda #0
   815 B45C 9D E0 28					sta rakietyStan,x
   816 B45F 9D 88 02					sta rakietyMove,x
   817 B462 4C BB B3					jmp kolrak3
   818 							
   819 B465 B9 7F 27		@			lda bombX-1,y
   820 B468 38						sec
   821 B469 E9 01					sbc #1
   822 B46B 85 9A					sta kolpom0
   823 B46D B9 FF 27					lda bombY-1,y
   824 B470 A8						tay
   825 B471 88						dey
   826 B472 A5 9A					lda kolpom0
   827 B474 20 49 B6					jsr bombExplo
   828 							
   829 B477 BC E0 28					ldy rakietyStan,x
   830 B47A A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
   831 B47F A4 A5					ldy pom0
   832 B481 A9 00					lda #0
   833 B483 9D E0 28					sta rakietyStan,x
   834 B486 9D 88 02					sta rakietyMove,x
   835 							
   836 B489 4C BB B3					jmp kolrak3 
   837 							
   838 						
   839 B48C FF FF FF FF FF FF + tabkolsx	:15 dta b(255)
   840 B49B 03 07 0B 0F					dta b(60-57,64-57,68-57,72-57)
   841 B49F FF FF FF FF FF FF + 			:15 dta b(255)
   842 							
   843 B4AE FF FF FF FF FF FF + tabkolsy	:13 dta b(255)
   844 B4BB 03 07 0B 0F					dta b(52-49,56-49,60-49,64-49)
   845 B4BF FF FF FF FF FF FF + 			:13 dta b(255)
   846 							
   847 				;kolizje statku z obiektami (miny,meteory)
   848 = B4CC			kolStatekObiekty	equ *
   849 B4CC AE 72 36					ldx licznikBombyEkran
   850 B4CF D0 01					bne @+
   851 B4D1 60						rts
   852 							
   853 B4D2 BD 7F 28		@			lda bombyEkran-1,x
   854 B4D5 A8						tay
   855 B4D6 B9 7F 0A					lda bombRodzaj-1,y
   856 B4D9 10 04					bpl @+1
   857 B4DB CA			@			dex
   858 B4DC D0 F4					bne @-1
   859 							
   860 B4DE 60						rts
   861 							
   862 B4DF BC 9F 28		@			ldy bombX0-1,x
   863 B4E2 B9 8C B4					lda tabkolsx,y
   864 B4E5 30 F4					bmi @-1
   865 							
   866 B4E7 18						clc
   867 B4E8 E5 C8					sbc movX0
   868 B4EA C9 0F					cmp #15
   869 B4EC B0 ED					bcs @-1
   870 							
   871 B4EE BC BF 28					ldy bombY0-1,x
   872 B4F1 B9 AE B4					lda tabkolsy,y
   873 B4F4 30 E5					bmi @-1
   874 							
   875 B4F6 38						sec
   876 B4F7 E5 C9					sbc movY0
   877 B4F9 C9 0F					cmp #15
   878 B4FB B0 DE					bcs @-1
   879 							
   880 							;wystapila kolizja
   881 B4FD BC 7F 28					ldy bombyEkran-1,x
   882 B500 B9 7F 0A					lda bombRodzaj-1,y
   883 B503 F0 21					beq @+
   884 B505 A9 FF 99 7F 0A				mva #255 bombRodzaj-1,y
   885 							
   886 B50A A9 3E 8D 87 36				mva #62 fazaWybuch
   887 B50F A9 01 85 C2					mva #1 trafienie
   888 B513 A9 12 8D C6 36				mva #9*2 sfx_dead
   889 							
   890 B518 B9 7F 27					lda bombX-1,y
   891 B51B 85 A5					sta pom0
   892 B51D B9 FF 27					lda bombY-1,y
   893 B520 A8						tay
   894 B521 A5 A5					lda pom0
   895 B523 4C 54 85					jmp dodajWybuch
   896 							
   897 B526 A9 FF 99 7F 0A	@			mva #255 bombRodzaj-1,y
   898
   899 B52B A9 3E 8D 87 36				mva #62 fazaWybuch
   900 B530 A9 01 85 C2					mva #1 trafienie
   901 B534 A9 12 8D C6 36				mva #9*2 sfx_dead
   902
   903 B539 B9 7F 27					lda bombX-1,y
   904 B53C 38						sec
   905 B53D E9 01					sbc #1
   906 B53F 85 9A					sta kolpom0
   907 B541 B9 FF 27					lda bombY-1,y
   908 B544 A8						tay
   909 B545 88						dey
   910 B546 A5 9A					lda kolpom0
   911 B548 4C 49 B6					jmp bombExplo
   912 							
   913 				;kolizje statku z wybuchem
   914 = B54B			kolStatekWybuch	equ *
   915 B54B AD 4E 36					lda wybuchyStart
   916 B54E 29 1F					and #%11111
   917 B550 AA						tax
   918 B551 EC 4F 36					cpx wybuchyStop
   919 B554 D0 01					bne *+3
   920 B556 60						rts		;brak wybuchow
   921 							
   922 B557 BD 00 2F		@			lda wybuchyX0,x
   923 B55A 0A						asl @
   924 B55B 0A						asl	@
   925 B55C E5 C8					sbc movX0		
   926 B55E C9 35					cmp #53
   927 B560 90 22					bcc @+
   928 B562 C9 44					cmp #68
   929 B564 B0 1E					bcs @+
   930 							
   931 B566 BD 20 2F					lda wybuchyY0,x
   932 B569 0A						asl @
   933 B56A 0A						asl @
   934 B56B E5 C9					sbc movY0
   935 B56D C9 2C					cmp #45-1		;zmniejszone o 1 brak sec
   936 B56F 90 13					bcc @+
   937 B571 C9 3B					cmp #60-1
   938 B573 B0 0F					bcs @+
   939 							
   940 B575 A9 3E 8D 87 36				mva #62 fazaWybuch
   941 B57A A9 01 85 C2					mva #1 trafienie
   942 B57E A9 12 8D C6 36				mva #9*2 sfx_dead
   943 B583 60						rts
   944 							
   945 B584 E8			@			inx
   946 B585 8A						txa
   947 B586 29 1F					and #%11111
   948 B588 AA						tax
   949 B589 EC 4F 36					cpx wybuchyStop
   950 B58C D0 C9					bne @-1
   951
   952 B58E 60						rts
   953 							
   954 				;kolizje pociskow ze statkiem
   955 = B58F			kolPociskiStatek	equ *
   956 B58F AE 6B 36					ldx maxPociskow
   957 B592 BD C3 35		@			lda pociski,x
   958 B595 10 04					bpl @+
   959 B597 CA			kolps1		dex
   960 B598 10 F8					bpl @-
   961 B59A 60						rts
   962 							
   963 B59B BD EB 35		@			lda pociskiDX0,x
   964 B59E 18						clc
   965 B59F E5 C8					sbc movX0
   966 B5A1 C9 3C					cmp #60
   967 B5A3 90 F2					bcc kolps1		;za malo
   968 B5A5 C9 44					cmp #68
   969 B5A7 B0 EE					bcs kolps1		;za duzo
   970 							
   971 B5A9 BD F5 35					lda pociskiDY0,x
   972 B5AC 38						sec
   973 B5AD E5 C9					sbc movY0
   974 B5AF C9 34					cmp #52
   975 B5B1 90 E4					bcc kolps1		;za malo
   976 B5B3 C9 3C					cmp #60
   977 B5B5 B0 E0					bcs kolps1		;za duzo
   978 							
   979 B5B7 A9 3E 8D 87 36				mva #62 fazaWybuch
   980 B5BC A9 01 85 C2					mva #1 trafienie
   981 B5C0 A9 12 8D C6 36				mva #9*2 sfx_dead
   982 B5C5 60						rts
   983 						
   984 				;kolizje pociskow z obiektami
   985 = B5C6			kolPociskiObiekty	equ *
   986 B5C6 AE 6B 36					ldx maxPociskow
   987 B5C9 BD C3 35		@			lda pociski,x
   988 							
   989 B5CC 30 0B					bmi kolpo1
   990 B5CE BD C8 35					lda pociskiTlo,x		;jesli pod pociskiem jest meteor lub bomba to poszukaj kolizji
   991 B5D1 C9 1F					cmp #firstBombaChar
   992 B5D3 90 04					bcc kolpo1
   993 B5D5 C9 27					cmp #firstMeteorChar+4
   994 B5D7 90 04					bcc @+
   995 B5D9 CA			kolpo1		dex
   996 B5DA 10 ED					bpl @-
   997 B5DC 60						rts
   998
   999 B5DD AC 72 36		@			ldy licznikBombyEkran
  1000 B5E0 D0 01					bne kolpo3
  1001 B5E2 60						rts
  1002 							
  1003 B5E3 84 A5		kolpo3		sty pom0
  1004 B5E5 B9 7F 28					lda bombyEkran-1,y		;jesli <0 to nie ma juz tego obiekt
  1005 B5E8 A8						tay
  1006 B5E9 B9 7F 0A					lda bombRodzaj-1,y
  1007 B5EC 30 16					bmi kolpo2
  1008 B5EE BD D7 35					lda pociskiY,x
  1009 B5F1 38						sec
  1010 B5F2 F9 FF 27					sbc bombY-1,y
  1011 B5F5 C9 02					cmp #2
  1012 B5F7 B0 0B					bcs kolpo2
  1013 B5F9 BD CD 35					lda pociskiX,x
  1014 B5FC 38						sec
  1015 B5FD F9 7F 27					sbc bombX-1,y
  1016 B600 C9 02					cmp #2
  1017 B602 90 08					bcc @+	
  1018 							
  1019 B604 A4 A5		kolpo2		ldy pom0
  1020 B606 88						dey
  1021 B607 D0 DA					bne kolpo3
  1022 B609 4C D9 B5					jmp kolpo1		;skok bezwarunkowy			
  1023 							
  1024 B60C B9 7F 0A		@			lda bombRodzaj-1,y
  1025 B60F 48						pha
  1026 B610 A9 FF 99 7F 0A				mva #255 bombRodzaj-1,y
  1027 B615 A9 81 9D C3 35				mva #129 pociski,x
  1028 B61A CE 0E 36					dec liczbaPociskow
  1029 							
  1030 B61D 68						pla
  1031 B61E F0 14					beq @+
  1032 B620 B9 7F 27					lda bombX-1,y
  1033 B623 48						pha
  1034 B624 B9 FF 27					lda bombY-1,y
  1035 B627 A8						tay
  1036 B628 A9 00 8D C3 36				mva #0 sfx_asteroid
  1037 B62D 68						pla
  1038 B62E 20 54 85					jsr dodajWybuch
  1039 B631 4C D9 B5					jmp kolpo1
  1040 							
  1041 B634 B9 7F 27		@			lda bombX-1,y
  1042 B637 38						sec
  1043 B638 E9 01					sbc #1
  1044 B63A 85 9A					sta kolpom0
  1045 B63C B9 FF 27					lda bombY-1,y
  1046 B63F A8						tay
  1047 B640 88						dey
  1048 B641 A5 9A					lda kolpom0
  1049 							
  1050 B643 20 49 B6					jsr bombExplo
  1051 B646 4C D9 B5					jmp kolpo1
  1052 							
  1053
  1054
  1055 				;Animacja wybuchu bomby 5xwybuch
  1056 = B649			bombExplo	equ *
  1057 B649 86 9A					stx kolpom0
  1058 B64B AA						tax
  1059 B64C 20 54 85					jsr dodajWybuch
  1060 B64F E8						inx
  1061 B650 E8						inx
  1062 B651 8A						txa
  1063 B652 20 54 85					jsr dodajWybuch
  1064 B655 C8						iny
  1065 B656 C8						iny
  1066 B657 8A						txa
  1067 B658 20 54 85					jsr dodajWybuch
  1068 B65B CA						dex
  1069 B65C CA						dex
  1070 B65D 8A						txa
  1071 B65E 20 54 85					jsr dodajWybuch
  1072 B661 A9 02 8D C4 36				mva #1*2 sfx_bomba
  1073 B666 88						dey
  1074 B667 E8						inx
  1075 B668 8A						txa
  1076 B669 20 54 85					jsr dodajWybuch
  1077 B66C 88						dey			;zachowujemy wartosc Y
  1078 B66D A6 9A					ldx kolpom0
  1079 B66F 60						rts 
  1080 					
  1081 				;kolizje strzalow statku z obiektami (bomba,meteor)
  1082 = B670			kolStrzalyObiekty	equ *	
  1083 B670 A2 03					ldx #3
  1084 B672 BD 10 36		@			lda strzal,x
  1085 B675 F0 0D					beq kolso1
  1086 B677 BD 44 36					lda strzalTlo,x		;jeÅ›li cos jest pod strzalem to sprawdz kolizje
  1087 B67A 29 7F					and #127
  1088 B67C C9 1F					cmp #firstBombaChar
  1089 B67E 90 04					bcc kolso1
  1090 B680 C9 27					cmp #firstMeteorChar+4
  1091 B682 90 04					bcc @+
  1092 B684 CA			kolso1		dex
  1093 B685 10 EB					bpl @-
  1094 B687 60						rts
  1095
  1096 							
  1097 B688 AC 72 36		@			ldy licznikBombyEkran
  1098 B68B D0 01					bne kolso3
  1099 B68D 60						rts
  1100 							
  1101 B68E 84 A5		kolso3		sty pom0
  1102 B690 B9 7F 28					lda bombyEkran-1,y
  1103 B693 A8						tay
  1104 B694 B9 7F 0A					lda bombRodzaj-1,y
  1105 B697 30 22					bmi kolso2		;nastepny obiekt
  1106 B699 85 AB					sta pom0f
  1107 B69B 84 A6					sty pom0a
  1108 B69D A4 A5					ldy pom0
  1109 B69F B9 BF 28					lda bombY0-1,y	;pozycja Y bomby na ekranie +1
  1110 B6A2 38						sec
  1111 B6A3 FD 34 36					sbc strzalY2,x
  1112 B6A6 C9 02					cmp #2
  1113 B6A8 B0 0B					bcs kolso2a		;nastepny obiekt
  1114 							
  1115 B6AA B9 9F 28					lda bombX0-1,y	;pozycja X bomby na ekranie +1
  1116 B6AD 38						sec
  1117 B6AE FD 1C 36					sbc strzalX2,x
  1118 B6B1 C9 02					cmp #2
  1119 B6B3 90 0E					bcc @+
  1120 							
  1121 B6B5 88			kolso2a		dey
  1122 B6B6 D0 D6					bne kolso3
  1123 B6B8 4C 84 B6					jmp kolso1		;skok bezwarunkowy	
  1124
  1125 B6BB A4 A5		kolso2		ldy pom0
  1126 B6BD 88						dey
  1127 B6BE D0 CE					bne kolso3
  1128 B6C0 4C 84 B6					jmp kolso1		;skok bezwarunkowy				
  1129 							
  1130 B6C3 A5 AB		@			lda pom0f
  1131 B6C5 49 01					eor #1
  1132 B6C7 18						clc
  1133 B6C8 69 01					adc #1
  1134 B6CA 20 85 55					jsr dodajPunkty
  1135 B6CD A4 A6					ldy pom0a
  1136 B6CF A9 FF 99 7F 0A				mva #255 bombRodzaj-1,y
  1137 B6D4 A9 00 9D 10 36				mva #0 strzal,x
  1138 							
  1139 							
  1140 B6D9 A5 AB					lda pom0f
  1141 B6DB F0 14					beq @+
  1142 							
  1143 B6DD B9 7F 27					lda bombX-1,y
  1144 B6E0 48						pha
  1145 B6E1 B9 FF 27					lda bombY-1,y
  1146 B6E4 A8						tay
  1147 B6E5 A9 00 8D C3 36				mva #0 sfx_asteroid
  1148 B6EA 68						pla
  1149 B6EB 20 54 85					jsr dodajWybuch
  1150 							
  1151 B6EE 4C 84 B6					jmp kolso1		;bezwarunkowy , sprawdz nastepny strzal
  1152 							
  1153 B6F1 B9 7F 27		@			lda bombX-1,y
  1154 B6F4 38						sec
  1155 B6F5 E9 01					sbc #1
  1156 B6F7 85 9A					sta kolpom0
  1157 B6F9 48						pha
  1158 B6FA B9 FF 27					lda bombY-1,y
  1159 B6FD A8						tay
  1160 B6FE 88						dey
  1161 B6FF 68						pla
  1162 							
  1163 B700 20 49 B6					jsr bombExplo
  1164 B703 4C 84 B6					jmp kolso1
  1165
  1166 				;kolizje strzalow statku z obiektami (bomba,meteor)
  1167 = B706			kolStrzalyObiekty1	equ *	
  1168 B706 A2 03					ldx #3
  1169 B708 BD 10 36		@			lda strzal,x
  1170 B70B F0 0D					beq kolso1_
  1171 B70D BD 48 36					lda strzalTlo1,x		;jeÅ›li cos jest pod strzalem to sprawdz kolizje
  1172 B710 29 7F					and #127
  1173 B712 C9 1F					cmp #firstBombaChar
  1174 B714 90 04					bcc kolso1_
  1175 B716 C9 27					cmp #firstMeteorChar+4
  1176 B718 90 04					bcc @+
  1177 B71A CA			kolso1_		dex
  1178 B71B 10 EB					bpl @-
  1179 B71D 60						rts
  1180
  1181 							
  1182 B71E AC 72 36		@			ldy licznikBombyEkran
  1183 B721 D0 01					bne kolso3_
  1184 B723 60						rts
  1185 							
  1186 B724 84 A5		kolso3_		sty pom0
  1187 B726 B9 7F 28					lda bombyEkran-1,y
  1188 B729 A8						tay
  1189 B72A B9 7F 0A					lda bombRodzaj-1,y
  1190 B72D 30 22					bmi kolso2_		;nastepny obiekt
  1191 B72F 85 AB					sta pom0f
  1192 B731 84 A6					sty pom0a
  1193 B733 A4 A5					ldy pom0
  1194 B735 B9 BF 28					lda bombY0-1,y	;pozycja Y bomby na ekranie +1
  1195 B738 38						sec
  1196 B739 FD 34 36					sbc strzalY2,x
  1197 B73C C9 02					cmp #2
  1198 B73E B0 0B					bcs kolso2a_		;nastepny obiekt
  1199 B740 B9 9F 28					lda bombX0-1,y	;pozycja X bomby na ekranie +1
  1200 B743 38						sec
  1201 B744 FD 1C 36					sbc strzalX2,x
  1202 B747 C9 02					cmp #2
  1203 B749 90 0E					bcc @+
  1204 							
  1205 B74B 88			kolso2a_	dey
  1206 B74C D0 D6					bne kolso3_
  1207 B74E 4C 1A B7					jmp kolso1_		;skok bezwarunkowy	
  1208
  1209 B751 A4 A5		kolso2_		ldy pom0
  1210 B753 88						dey
  1211 B754 D0 CE					bne kolso3_
  1212 B756 4C 1A B7					jmp kolso1_		;skok bezwarunkowy				
  1213 							
  1214 B759 A5 AB		@			lda pom0f
  1215 B75B 49 01					eor #1
  1216 B75D 18						clc
  1217 B75E 69 01					adc #1
  1218 B760 20 85 55					jsr dodajPunkty
  1219 B763 A4 A6					ldy pom0a
  1220 B765 A9 FF 99 7F 0A				mva #255 bombRodzaj-1,y
  1221 B76A A9 00 9D 10 36				mva #0 strzal,x
  1222 							
  1223 							
  1224 B76F A5 AB					lda pom0f
  1225 B771 F0 14					beq @+
  1226 							
  1227 B773 B9 7F 27					lda bombX-1,y
  1228 B776 48						pha
  1229 B777 B9 FF 27					lda bombY-1,y
  1230 B77A A8						tay
  1231 B77B A9 00 8D C3 36				mva #0 sfx_asteroid
  1232 B780 68						pla
  1233 B781 20 54 85					jsr dodajWybuch
  1234 							
  1235 B784 4C 1A B7					jmp kolso1_		;bezwarunkowy , sprawdz nastepny strzal
  1236 							
  1237 B787 B9 7F 27		@			lda bombX-1,y
  1238 B78A 38						sec
  1239 B78B E9 01					sbc #1
  1240 B78D 85 9A					sta kolpom0
  1241 B78F 48						pha
  1242 B790 B9 FF 27					lda bombY-1,y
  1243 B793 A8						tay
  1244 B794 88						dey
  1245 B795 68						pla
  1246 							
  1247 B796 20 49 B6					jsr bombExplo
  1248 B799 4C 1A B7					jmp kolso1_
  1249
  1250 							
  1251 				;kolizje strzalow z bazami
  1252 = B79C			kolStrzalyBazy	equ *
  1253 B79C AD 71 36					lda licznikBazyEkran
  1254 B79F D0 01					bne @+
  1255 B7A1 60						rts
  1256
  1257 B7A2 A2 03		@			ldx #3
  1258 B7A4 BD 10 36		@			lda strzal,x
  1259 B7A7 D0 04					bne @+
  1260 B7A9 CA			kolsb1		dex
  1261 B7AA 10 F8					bpl @-
  1262 B7AC 60						rts
  1263
  1264 B7AD AC 71 36		@			ldy licznikBazyEkran
  1265
  1266 B7B0 84 A5		kolsb3		sty pom0
  1267 B7B2 B9 72 36					lda bazyEkran-1,y
  1268 B7B5 A8						tay
  1269 B7B6 B9 8F 02					lda bazyRodzaj-1,y
  1270 B7B9 F0 0A					beq @+
  1271 B7BB 10 2C					bpl @+1		;baza b
  1272 							
  1273 B7BD A4 A5		kolsb2		ldy pom0
  1274 B7BF 88						dey
  1275 B7C0 D0 EE					bne kolsb3
  1276 B7C2 4C A9 B7					jmp kolsb1		;sok bezwarunkowy
  1277 							
  1278 B7C5 BD 34 36		@			lda strzalY2,x
  1279 B7C8 38						sec
  1280 B7C9 F9 EF 02					sbc bazyY0-1,y
  1281 B7CC C9 08					cmp #8
  1282 B7CE B0 ED					bcs kolsb2
  1283 B7D0 85 A7					sta pom0b
  1284 B7D2 BD 1C 36					lda strzalX2,x
  1285 B7D5 38						sec
  1286 B7D6 F9 CF 02					sbc bazyX0-1,y
  1287 B7D9 C9 09					cmp #9
  1288 B7DB B0 E0					bcs kolsb2
  1289 B7DD 84 A6					sty pom0a		;indeks trafionej bazy
  1290 B7DF 86 AB					stx pom0f
  1291 B7E1 20 AF B8					jsr kolBazaA
  1292 B7E4 A6 AB					ldx pom0f
  1293 B7E6 4C A9 B7					jmp kolsb1
  1294
  1295 B7E9 BD 1C 36		@			lda strzalX2,x
  1296 B7EC 38						sec
  1297 B7ED F9 CF 02					sbc bazyX0-1,y
  1298 B7F0 C9 08					cmp #8
  1299 B7F2 B0 C9					bcs kolsb2
  1300 B7F4 85 A7					sta pom0b
  1301 B7F6 BD 34 36					lda strzalY2,x
  1302 B7F9 38						sec
  1303 B7FA F9 EF 02					sbc bazyY0-1,y
  1304 B7FD C9 09					cmp #9
  1305 B7FF B0 BC					bcs kolsb2
  1306 B801 84 A6					sty pom0a		;indeks trafionej bazy
  1307 B803 86 AB					stx pom0f
  1308 B805 20 9F BA					jsr kolBazaB
  1309 B808 A6 AB					ldx pom0f
  1310 B80A 4C A9 B7					jmp kolsb1
  1311
  1312 							
  1313 B80D 00 00 00 85 85 00 + bazaA1		dta b(0,0,0,128+5,128+5,0,0,0)
  1314 B815 00 00 02 0D 0D 02 + 			dta b(0,0,2,8+5,8+5,2,0,0)
  1315 B81D 80 08 07 07 07 07 + 			dta b(128+0,8+0,7,7,7,7,8+4,128+4)
  1316 B825 08 08 07 07 07 07 + 			dta b(8+0,8+0,7,7,7,7,8+4,8+4)
  1317 B82D 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1318 B835 09 09 07 07 07 07 + 			dta b(8+1,8+1,7,7,7,7,8+3,8+3)
  1319 B83D 81 09 07 07 07 07 + 			dta b(128+1,8+1,7,7,7,7,8+3,128+3)
  1320 B845 00 00 03 0A 0A 03 + 			dta b(0,0,3,8+2,8+2,3,0,0)
  1321 B84D 00 00 00 82 82 00 + 			dta b(0,0,0,128+2,128+2,0,0,0)
  1322 							
  1323 B855 00 00 00 82 82 00 + bazaA2		dta b(0,0,0,128+2,128+2,0,0,0)
  1324 B85D 00 00 03 0A 0A 03 + 			dta b(0,0,3,8+2,8+2,3,0,0)
  1325 B865 83 0B 07 07 07 07 + 			dta b(128+3,8+3,7,7,7,7,8+1,128+1)
  1326 B86D 0B 0B 07 07 07 07 + 			dta b(8+3,8+3,7,7,7,7,8+1,8+1)
  1327 B875 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1328 B87D 0C 0C 07 07 07 07 + 			dta b(8+4,8+4,7,7,7,7,8+0,8+0)
  1329 B885 84 0C 07 07 07 07 + 			dta b(128+4,8+4,7,7,7,7,8+0,128+0)
  1330 B88D 00 00 02 0D 0D 02 + 			dta b(0,0,2,8+5,8+5,2,0,0)
  1331 B895 00 00 00 85 85 00 + 			dta b(0,0,0,128+5,128+5,0,0,0)			
  1332
  1333 B89D 02 05 07 05 02 00 + dzialkoAX	dta b(2,5,7,5,2,0,2,5)
  1334 B8A5 00 00 03 06 06 03 + dzialkoAY	dta b(0,0,3,6,6,3,3,3)
  1335 B8AD 00 01		bazaAbit		dta b(0,1)
  1336 							
  1337 = B8AF			kolBazaA	equ *
  1338 B8AF 0A						asl @
  1339 B8B0 0A						asl @
  1340 B8B1 0A						asl @
  1341 B8B2 65 A7					adc pom0b
  1342 B8B4 A8						tay
  1343 B8B5 B9 0D B8					lda bazaA1,y
  1344 B8B8 D0 01					bne @+
  1345 B8BA 60						rts			;puste pole
  1346 							
  1347 B8BB C9 07		@			cmp #7
  1348 B8BD D0 06					bne @+
  1349 							
  1350 B8BF A9 00 9D 10 36				mva #0 strzal,x		;trafiono tylko w baze
  1351 B8C4 60						rts
  1352 							
  1353 B8C5 C9 06		@			cmp #6
  1354 B8C7 B0 17					bcs @+2
  1355 							
  1356 B8C9 BC 40 36					ldy strzalKierunek,x
  1357 B8CC C0 01					cpy #1
  1358 B8CE D0 0A					bne @+		;strzal poziomy i po skosie to zablokuj
  1359 							
  1360 B8D0 A8						tay
  1361 B8D1 BD A4 36					lda strzalXbit,x		;gorny lewy rog
  1362 B8D4 4A						lsr
  1363 B8D5 D9 AB B8					cmp bazaAbit-2,y
  1364 B8D8 F0 05					beq @+1
  1365 							
  1366 B8DA A9 00 9D 10 36	@			mva #0 strzal,x
  1367 B8DF 60			@			rts
  1368 							
  1369 B8E0 C9 06		@			cmp #6
  1370 B8E2 D0 14					bne @+
  1371 							
  1372 B8E4 A9 00 9D 10 36				mva #0 strzal,x			;jadro
  1373 B8E9 AD 84 36					lda czyJadroA
  1374 B8EC F0 F1					beq @-1
  1375 B8EE A4 A6					ldy pom0a
  1376 B8F0 A9 FF 99 8F 02				mva #255 bazyRodzaj-1,y
  1377 B8F5 4C 7D B9					jmp usunBazeA
  1378 							
  1379 B8F8 85 A8		@			sta pom0c
  1380 B8FA 29 07					and #%111
  1381 B8FC A8						tay
  1382 B8FD 84 AA					sty pom0e		;numer dzialka
  1383 B8FF B9 D5 B9					lda tabKol0,y
  1384 B902 85 A9					sta pom0d		;bit dzialka
  1385 B904 A4 A6					ldy pom0a	;indeks bazy
  1386 B906 39 9F 02					and bazyStan-1,y		;czy dzialo jest zestrzelone
  1387 B909 F0 67					beq @+2
  1388 							
  1389 							;trafiono dzialko
  1390 B90B A9 00 9D 10 36				mva #0 strzal,x
  1391 B910 B9 9F 02					lda bazyStan-1,y
  1392 B913 45 A9					eor pom0d
  1393 B915 99 9F 02					sta bazyStan-1,y
  1394 B918 D0 08					bne @+
  1395 							
  1396 B91A A9 20					lda #$20
  1397 B91C 20 85 55					jsr dodajPunkty
  1398 B91F 4C 82 B9					jmp usunBazeA1
  1399 							
  1400 B922 A6 AA		@			ldx pom0e		;nr dzialka
  1401 B924 BD DB B9					lda tabKol1,x		;adres ksztaltu po trafieniu
  1402 B927 09 03					ora #3
  1403 B929 85 A3					sta pom4
  1404 B92B BD E1 B9					lda tabKol1+6,x
  1405 B92E 85 A4					sta pom4+1
  1406 							
  1407 B930 BD F3 B9					lda tabKol2,x		;cannonX
  1408 B933 85 9B					sta pom
  1409 B935 BD F9 B9					lda tabKol2+6,x
  1410 B938 85 9C					sta pom+1
  1411 							
  1412 B93A B9 BF 02					lda bazyX-1,y
  1413 B93D 18						clc
  1414 B93E 7D 9D B8					adc dzialkoAX,x
  1415 B941 48						pha
  1416 B942 B9 DF 02					lda bazyY-1,y
  1417 B945 7D A5 B8					adc dzialkoAY,x
  1418 B948 A8						tay
  1419 B949 68						pla
  1420 B94A 20 54 85					jsr dodajWybuch
  1421 							
  1422 B94D A4 A6					ldy pom0a
  1423 B94F 88						dey
  1424 B950 A2 00					ldx #0
  1425 B952 A9 03 85 AB					mva #3 pom0f
  1426 B956 18						clc
  1427 = B957			@			equ *
  1428 B957 A1 A3					lda (pom4,x)
  1429 B959 91 9B					sta (pom),y
  1430 							;clc
  1431 B95B A5 9B					lda pom
  1432 B95D 69 10					adc #maxBaz
  1433 B95F 85 9B					sta pom
  1434 B961 C6 A3					dec pom4
  1435 					
  1436 B963 C6 AB					dec pom0f
  1437 B965 10 F0					bpl @-
  1438 							
  1439 B967 A9 20					lda #$20
  1440 B969 20 85 55					jsr dodajPunkty
  1441 							
  1442 B96C A9 0E 8D C2 36				mva #7*2 sfx_dzialko
  1443 							
  1444 B971 60						rts
  1445 						
  1446 B972 A5 A8		@			lda pom0c
  1447 B974 10 01					bpl @+
  1448 B976 60						rts
  1449
  1450 B977 A9 00 9D 10 36	@			mva #0 strzal,x
  1451 B97C 60						rts				;narazie nic nie rob
  1452 							
  1453 				;usuwa baze numer w Y i dodaje wybuchy (powiekszonuy o 1)
  1454 = B97D			usunBazeA	equ *
  1455 B97D A9 50					lda #$50			;bonus za trafienie w jÄ…dro bazy
  1456 B97F 20 85 55					jsr dodajPunkty
  1457 							
  1458 B982 20 07 5B		usunBazeA1	jsr eorBazaRadar		;bez bonus
  1459 B985 A9 75					lda #$75
  1460 B987 20 85 55					jsr dodajPunkty
  1461 B98A A9 75					lda #$75
  1462 B98C 20 85 55					jsr dodajPunkty
  1463 							
  1464 B98F A9 FF 99 8F 02				mva #255 bazyRodzaj-1,y
  1465 B994 EE 6C 36					inc zbiteBazy
  1466 							
  1467 B997 BE AF 02					ldx bazyRakieta-1,y
  1468 B99A 30 0D					bmi @+
  1469 							
  1470 B99C A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
  1471 B9A1 A9 00 9D E0 28				mva #0 rakietyStan,x
  1472 B9A6 9D 88 02					sta rakietyMove,x
  1473 							
  1474 B9A9 B9 BF 02		@			lda bazyX-1,y
  1475 B9AC 85 A4					sta pom4+1
  1476 B9AE B9 DF 02					lda bazyY-1,y
  1477 B9B1 85 A3					sta pom4
  1478 							
  1479 B9B3 A2 07					ldx #7
  1480 B9B5 18			@			clc
  1481 B9B6 A5 A3		_usb2		lda pom4
  1482 B9B8 7D A5 B8					adc dzialkoAY,x
  1483 B9BB A8						tay
  1484 B9BC A5 A4		_usb1		lda pom4+1
  1485 B9BE 7D 9D B8					adc dzialkoAX,x
  1486 B9C1 20 54 85					jsr dodajWybuch
  1487 B9C4 CA						dex
  1488 B9C5 10 EE					bpl @-
  1489 									
  1490 B9C7 20 39 90					jsr zmniejszKondycja
  1491
  1492 B9CA A9 10 8D C5 36				mva #8*2 sfx_wybuch
  1493 B9CF A9 0E 8D BA 35				mva #14 waitWybuch
  1494 							
  1495 B9D4 60						rts
  1496 							
  1497 B9D5 01 02 04 08 10 20	tabKol0		dta b(%1,%10,%100,%1000,%10000,%100000)
  1498 B9DB 04 08 0C 10 14 18	tabKol1		dta b(<kCannon,<(kCannon+4),<(kCannon+8),<(kCannon+12),<(kCannon+16),<(kCannon+20))
  1499 B9E1 40 40 40 40 40 40				dta b(>kCannon,>(kCannon+4),>(kCannon+8),>(kCannon+12),>(kCannon+16),>(kCannon+20))
  1500 B9E7 1C 20 24 28 2C 30				dta b(<(kCannon+24),<(kCannon+28),<(kCannon+32),<(kCannon+36),<(kCannon+40),<(kCannon+44))
  1501 B9ED 40 40 40 40 40 40				dta b(>(kCannon+24),>(kCannon+28),>(kCannon+32),>(kCannon+36),>(kCannon+40),>(kCannon+44))
  1502 B9F3 00 40 80 C0 00 40	tabKol2		dta b(<(bazyCannon0a),<(bazyCannon1a),<(bazyCannon2a),<(bazyCannon3a),<(bazyCannon4a),<(bazyCannon5a))			
  1503 B9F9 09 09 09 09 0A 0A				dta b(>(bazyCannon0a),>(bazyCannon1a),>(bazyCannon2a),>(bazyCannon3a),>(bazyCannon4a),>(bazyCannon5a))
  1504 							
  1505
  1506 							
  1507 B9FF 00 00 00 80 80 00 + bazaB1		dta b(0,0,0,128+0,128+0,0,0,0)
  1508 BA07 00 00 02 08 08 02 + 			dta b(0,0,2,8+0,8+0,2,0,0)
  1509 BA0F 85 0D 07 07 07 07 + 			dta b(128+5,8+5,7,7,7,7,8+1,128+1)
  1510 BA17 0D 0D 07 07 07 07 + 			dta b(8+5,8+5,7,7,7,7,8+1,8+1)
  1511 BA1F 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1512 BA27 0C 0C 07 07 07 07 + 			dta b(8+4,8+4,7,7,7,7,8+2,8+2)
  1513 BA2F 84 0C 07 07 07 07 + 			dta b(128+4,8+4,7,7,7,7,8+2,128+2)
  1514 BA37 00 00 03 0B 0B 03 + 			dta b(0,0,3,8+3,8+3,3,0,0)
  1515 BA3F 00 00 00 83 83 00 + 			dta b(0,0,0,128+3,128+3,0,0,0)
  1516 							
  1517 BA47 00 00 00 83 83 00 + bazaB2		dta b(0,0,0,128+3,128+3,0,0,0)
  1518 BA4F 00 00 03 0B 0B 03 + 			dta b(0,0,3,8+3,8+3,3,0,0)
  1519 BA57 82 0A 07 07 07 07 + 			dta b(128+2,8+2,7,7,7,7,8+4,128+4)
  1520 BA5F 0A 0A 07 07 07 07 + 			dta b(8+2,8+2,7,7,7,7,8+4,8+4)
  1521 BA67 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1522 BA6F 09 09 07 07 07 07 + 			dta b(8+1,8+1,7,7,7,7,8+5,8+5)
  1523 BA77 81 09 07 07 07 07 + 			dta b(128+1,8+1,7,7,7,7,8+5,128+5)
  1524 BA7F 00 00 02 0A 0A 02 + 			dta b(0,0,2,8+2,8+2,2,0,0)
  1525 BA87 00 00 00 80 80 00 + 			dta b(0,0,0,128+0,128+0,0,0,0)	
  1526
  1527 BA8F 03 06 06 03 00 00 + dzialkoBX	dta b(3,6,6,3,0,0,3,3)
  1528 BA97 00 02 05 07 05 02 + dzialkoBY	dta b(0,2,5,7,5,2,2,5)
  1529 							
  1530 = BA9F			kolBazaB	equ *
  1531 BA9F 0A						asl @
  1532 BAA0 0A						asl @
  1533 BAA1 0A						asl @
  1534 BAA2 65 A7					adc pom0b
  1535 BAA4 A8						tay
  1536 BAA5 B9 FF B9					lda bazaB1,y
  1537 BAA8 D0 01					bne @+
  1538 BAAA 60						rts
  1539 							
  1540 BAAB C9 07		@			cmp #7
  1541 BAAD D0 06					bne @+
  1542 							
  1543 BAAF A9 00 9D 10 36				mva #0 strzal,x		;trafiono tylko w baze
  1544 BAB4 60						rts
  1545 							
  1546 BAB5 C9 06		@			cmp #6
  1547 BAB7 B0 18					bcs @+2
  1548 							
  1549 BAB9 BC 40 36					ldy strzalKierunek,x
  1550 BABC F0 03					beq klbb1
  1551 BABE 4C CB BA					jmp @+		;blokuj strzal pionowy i po skosie
  1552
  1553 BAC1 A8			klbb1		tay
  1554 BAC2 BD 3C 36					lda strzalYbit,x		;gorny lewy rog
  1555 BAC5 4A						lsr
  1556 BAC6 D9 AB B8					cmp bazaAbit-2,y
  1557 BAC9 F0 05					beq @+1
  1558 							
  1559 BACB A9 00 9D 10 36	@			mva #0 strzal,x
  1560 BAD0 60			@			rts
  1561 							
  1562 BAD1 C9 06		@			cmp #6
  1563 BAD3 D0 14					bne @+
  1564 								
  1565 BAD5 A9 00 9D 10 36				mva #0 strzal,x
  1566 BADA AD 85 36					lda czyJadroB
  1567 BADD F0 F1					beq @-1
  1568 BADF A4 A6					ldy pom0a
  1569 BAE1 A9 FF 99 8F 02				mva #255 bazyRodzaj-1,y
  1570 BAE6 4C 6E BB					jmp usunBazeB
  1571 							
  1572 BAE9 85 A8		@			sta pom0c
  1573 BAEB 29 07					and #%111
  1574 BAED A8						tay
  1575 BAEE 84 AA					sty pom0e		;numer dzialka
  1576 BAF0 B9 D5 B9					lda tabKol0,y
  1577 BAF3 85 A9					sta pom0d		;bit dzialka
  1578 BAF5 A4 A6					ldy pom0a	;indeks bazy
  1579 BAF7 39 9F 02					and bazyStan-1,y		;czy dzialo jest zestrzelone
  1580 BAFA F0 67					beq @+2
  1581 							
  1582 							;trafiono dzialko
  1583 BAFC A9 00 9D 10 36				mva #0 strzal,x
  1584 BB01 B9 9F 02					lda bazyStan-1,y
  1585 BB04 45 A9					eor pom0d
  1586 BB06 99 9F 02					sta bazyStan-1,y
  1587 BB09 D0 08					bne @+
  1588 							
  1589 BB0B A9 20					lda #$20
  1590 BB0D 20 85 55					jsr dodajPunkty
  1591 BB10 4C 73 BB					jmp usunBazeB1
  1592 							
  1593 BB13 A6 AA		@			ldx pom0e		;nr dzialka
  1594 BB15 BD E7 B9					lda tabKol1+12,x		;adres ksztaltu po trafieniu
  1595 BB18 09 03					ora #3
  1596 BB1A 85 A3					sta pom4
  1597 BB1C BD ED B9					lda tabKol1+18,x
  1598 BB1F 85 A4					sta pom4+1
  1599 							
  1600 BB21 BD F3 B9					lda tabKol2,x		;cannonX
  1601 BB24 85 9B					sta pom
  1602 BB26 BD F9 B9					lda tabKol2+6,x
  1603 BB29 85 9C					sta pom+1
  1604 							
  1605 BB2B B9 BF 02					lda bazyX-1,y
  1606 BB2E 18						clc
  1607 BB2F 7D 8F BA					adc dzialkoBX,x
  1608 BB32 48						pha
  1609 BB33 B9 DF 02					lda bazyY-1,y
  1610 BB36 7D 97 BA					adc dzialkoBY,x
  1611 BB39 A8						tay
  1612 BB3A 68						pla
  1613 BB3B 20 54 85					jsr dodajWybuch
  1614 							
  1615 					
  1616 BB3E A4 A6					ldy pom0a
  1617 BB40 88						dey
  1618 BB41 A9 03 85 AB					mva #3 pom0f
  1619 BB45 A2 00					ldx #0
  1620 BB47 18						clc
  1621 = BB48			@			equ *
  1622 BB48 A1 A3					lda (pom4,x)
  1623 BB4A 91 9B					sta (pom),y
  1624 							;clc
  1625 BB4C A5 9B					lda pom
  1626 BB4E 69 10					adc #maxBaz
  1627 BB50 85 9B					sta pom
  1628 BB52 C6 A3					dec pom4
  1629 					
  1630 BB54 C6 AB					dec pom0f
  1631 BB56 10 F0					bpl @-
  1632 							
  1633 BB58 A9 20					lda #$20
  1634 BB5A 20 85 55					jsr dodajPunkty
  1635 							
  1636 BB5D A9 0E 8D C2 36				mva #7*2 sfx_dzialko
  1637 							
  1638 BB62 60						rts
  1639 						
  1640 BB63 A5 A8		@			lda pom0c
  1641 BB65 10 01					bpl @+
  1642 BB67 60						rts
  1643
  1644 BB68 A9 00 9D 10 36	@			mva #0 strzal,x	
  1645
  1646 BB6D 60						rts
  1647 							
  1648 				;usuwa baze numer w Y i dodaje wybuchy (powiekszonuy o 1)
  1649 = BB6E			usunBazeB	equ *
  1650 BB6E A9 50					lda #$50			;bonus za trafienie w jÄ…dro bazy
  1651 BB70 20 85 55					jsr dodajPunkty
  1652
  1653 BB73 20 07 5B		usunBazeB1	jsr eorBazaRadar		;bez bonus
  1654 BB76 A9 75					lda #$75
  1655 BB78 20 85 55					jsr dodajPunkty
  1656 BB7B A9 75					lda #$75
  1657 BB7D 20 85 55					jsr dodajPunkty
  1658 						
  1659 BB80 A9 FF 99 8F 02				mva #255 bazyRodzaj-1,y
  1660 BB85 EE 6C 36					inc zbiteBazy
  1661 							
  1662 BB88 BE AF 02					ldx bazyRakieta-1,y
  1663 BB8B 30 0D					bmi @+
  1664 							
  1665 BB8D A9 FF 99 AF 02				mva #255 bazyRakieta-1,y
  1666 BB92 A9 00 9D E0 28				mva #0 rakietyStan,x
  1667 BB97 9D 88 02					sta rakietyMove,x
  1668 							
  1669 BB9A B9 DF 02		@			lda bazyY-1,y
  1670 BB9D 85 A3					sta pom4
  1671 BB9F B9 BF 02					lda bazyX-1,y
  1672 BBA2 85 A4					sta pom4+1
  1673 							
  1674 BBA4 A2 07					ldx #7
  1675 BBA6 18			@			clc
  1676 BBA7 A5 A3					lda pom4
  1677 BBA9 7D 97 BA					adc dzialkoBY,x
  1678 BBAC A8						tay
  1679 BBAD A5 A4					lda pom4+1
  1680 BBAF 7D 8F BA					adc dzialkoBX,x
  1681 BBB2 20 54 85					jsr dodajWybuch
  1682 BBB5 CA						dex
  1683 BBB6 10 EE					bpl @-
  1684 							
  1685 BBB8 20 39 90					jsr zmniejszKondycja
  1686 							
  1687 BBBB A9 10 8D C5 36				mva #8*2 sfx_wybuch
  1688 BBC0 A9 0E 8D BA 35				mva #14 waitWybuch
  1689 BBC5 60						rts
  1690 						
  1691 							
   543
   544 						
   545 = BBC6			e2		equ *
   546 BBC6 00 00 00 00 00 00 + 		:$c000-e2 dta b(0)
   547 						
   759 						
   760 C000					icl 'bank3.asm'
Source: bank3.asm
     1 				//bank3, 15 bank pamiÄ™ci
     2 C000						org $4000
     3 4000 DC						dta b($dc)		;numer banku ($4000) $bfdc
     4 								
     5 4001			hsdlist_code
     6 4001 70 10				dta b(112,$10)
     7 4003 44 80 20				dta b(64+4),a(hscr)
     8 4006 44 B0 20				dta b(64+4),a(hscr+48)
     9 4009 42 E0 20				dta b(64+2),a(hscr+2*48)
    10 400C 44 10 21				dta b(64+4),a(hscr+3*48)
    11 400F 30					dta b($30)
    12 4010 42 40 21				dta b(64+2),a(hscr+4*48)
    13 4013 44 70 21				dta b(64+4),a(hscr+5*48)
    14 4016 42 A0 21				dta b(64+2),a(hscr+6*48)
    15 4019 44 D0 21				dta b(64+4),a(hscr+7*48)
    16 401C 44 00 22				dta b(64+4),a(hscr+8*48)
    17 401F 20					dta b($20)
    18 4020 42 30 22				dta b(64+2),a(hscr+9*48)
    19 4023 44 60 22				dta b(64+4),a(hscr+10*48)
    20 4026 42 90 22				dta b(64+2),a(hscr+11*48)
    21 4029 44 C0 22				dta b(64+4),a(hscr+12*48)
    22 402C 42 F0 22				dta b(64+2),a(hscr+13*48)
    23 402F 44 20 23				dta b(64+4),a(hscr+14*48)
    24 4032 42 50 23				dta b(64+2),a(hscr+15*48)
    25 4035 44 80 23				dta b(64+4),a(hscr+16*48)
    26 4038 42 B0 23				dta b(64+2),a(hscr+17*48)
    27 403B 44 E0 23				dta b(64+4),a(hscr+18*48)
    28 403E 42 10 24				dta b(64+2),a(hscr+19*48)
    29 4041 44 40 24				dta b(64+4),a(hscr+20*48)
    30 4044 42 70 24				dta b(64+2),a(hscr+21*48)
    31 4047 44 A0 24				dta b(64+4),a(hscr+22*48)
    32 404A 44 D0 24				dta b(64+4),a(hscr+23*48)
    33 404D 44 00 25				dta b(64+4),a(hscr+24*48)
    34 4050 44 30 25				dta b(64+4),a(hscr+25*48)
    35 4053 44 60 25				dta b(64+4),a(hscr+26*48)
    36 4056 41 3C 30				dta b(65),a(hsdlist)
    37 						
    38 4059 70 10				dta b(112,$10)
    39 405B 44 80 20				dta b(64+4),a(hscr)
    40 405E 44 B0 20				dta b(64+4),a(hscr+48)
    41 4061 42 E0 20				dta b(64+2),a(hscr+48*2)		;CONGRATULATIONS !!
    42 4064 44 10 21				dta b(64+4),a(hscr+48*3)
    43 4067 40					dta b($40)
    44 4068 42 40 21				dta b(64+2),a(hscr+48*4)		;THE HIGH SCORE
    45 406B 44 70 21				dta b(64+4),a(hscr+48*5)
    46 406E 40					dta b($40)
    47 406F 42 A0 21				dta b(64+2),a(hscr+48*6)		;OF THE DAY
    48 4072 44 D0 21				dta b(64+4),a(hscr+48*7)
    49 4075 44 00 22				dta b(64+4),a(hscr+48*8)
    50 						
    51 4078 44 30 22				dta b(64+4),a(hscr+48*9)		;WYNIK
    52 407B 44 60 22				dta b(64+4),a(hscr+48*10)
    53 407E 44 90 22				dta b(64+4),a(hscr+48*11)
    54 4081 44 C0 22				dta b(64+4),a(hscr+48*12)
    55 4084 44 F0 22				dta b(64+4),a(hscr+48*13)
    56 4087 44 20 23				dta b(64+4),a(hscr+48*14)
    57 408A 44 50 23				dta b(64+4),a(hscr+48*15)
    58 408D 30					dta b($30)		
    59 408E 44 80 23				dta b(64+4),a(hscr+48*16)
    60 4091 44 B0 23				dta b(64+4),a(hscr+48*17)
    61 4094 40					dta b($40)
    62 4095 42 E0 23				dta b(64+2),a(hscr+48*18)		;GO FOR THE
    63 4098 44 10 24				dta b(64+4),a(hscr+48*19)
    64 409B 40					dta b($40)
    65 409C 42 40 24				dta b(64+2),a(hscr+48*20)		;SPACE RECORD NOW
    66 409F 44 70 24				dta b(64+4),a(hscr+48*21)
    67 40A2 44 A0 24				dta b(64+4),a(hscr+48*22)
    68 40A5 41 94 30				dta b(65),a(hsdlist1)
    69
    70 					
    71 					
    72 					
    73 40A8					icl 'znaki.asm'	
Source: znaki.asm
     1 = 40A8			znaki_ad	equ *	
     2 40A8 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
     3 					
     4 40B0 03 00 00 00 00 00 + 	dta b(3,0,0,0,0,0,0,0)	;znak #1 gwiazda
     5 40B8 01 00 00 00 00 00 + 	dta b(1,0,0,0,0,0,0,0)	;2 gwiazda
     6 					
     7 				;bazy
     8 40C0 03				dta b(%00000011)		;1 znak  stacji
     9 40C1 0F				dta b(%00001111)
    10 40C2 3F				dta b(%00111111)
    11 40C3 3F				dta b(%00111111)
    12 40C4 0C				dta b(%00001100)
    13 40C5 FF				dta b(%11111111)
    14 40C6 FD				dta b(%11111101)
    15 40C7 F6				dta b(%11110110)
    16 					
    17 40C8 56				dta b(%01010110)		;znak3
    18 40C9 FD				dta b(%11111101)
    19 40CA FF				dta b(%11111111)
    20 40CB 0C				dta b(%00001100)
    21 40CC 3F				dta b(%00111111)
    22 40CD 3F				dta b(%00111111)
    23 40CE 0F				dta b(%00001111)
    24 40CF 03				dta b(%00000011)
    25 					
    26 40D0 C0				dta b(%11000000)		;znak4
    27 40D1 30				dta b(%00110000)
    28 40D2 CC				dta b(%11001100)
    29 40D3 FC				dta b(%11111100)
    30 40D4 30				dta b(%00110000)
    31 40D5 FF				dta b(%11111111)
    32 40D6 7F				dta b(%01111111)
    33 40D7 95				dta b(%10010101)
    34 					
    35 40D8 9F				dta b(%10011111)		;znak5
    36 40D9 7F				dta b(%01111111)
    37 40DA FF				dta b(%11111111)
    38 40DB 30				dta b(%00110000)
    39 40DC FC				dta b(%11111100)
    40 40DD CC				dta b(%11001100)
    41 40DE 30				dta b(%00110000)
    42 40DF C0				dta b(%11000000)
    43 					
    44 40E0 00				dta b(%00000000)		;znak6
    45 40E1 00				dta b(%00000000)
    46 40E2 00				dta b(%00000000)
    47 40E3 00				dta b(%00000000)
    48 40E4 00				dta b(%00000000)
    49 40E5 00				dta b(%00000000)
    50 40E6 3F				dta b(%00111111)
    51 40E7 00				dta b(0)
    52 					
    53 40E8 3F				dta b(%00111111)		;znak7
    54 40E9 3F				dta b(%00111111)
    55 40EA 00				dta b(%00000000)
    56 40EB 00				dta b(%00000000)
    57 40EC 00				dta b(%00000000)
    58 40ED 00				dta b(%00000000)
    59 40EE 00				dta b(%00000000)
    60 40EF 00				dta b(%00000000)
    61 					
    62 40F0 03				dta b(%00000011)		;znak8
    63 40F1 0F				dta b(%00001111)
    64 40F2 0C				dta b(%00001100)
    65 40F3 03				dta b(%00000011)
    66 40F4 03				dta b(%00000011)
    67 40F5 00				dta b(%00000000)
    68 40F6 00				dta b(%00000000)
    69 40F7 00				dta b(%00000000)
    70 					
    71 40F8 00				dta b(%00000000)		;znak9
    72 40F9 C0				dta b(%11000000)
    73 40FA C0				dta b(%11000000)
    74 40FB F0				dta b(%11110000)
    75 40FC 30				dta b(%00110000)
    76 40FD FC				dta b(%11111100)
    77 40FE CC				dta b(%11001100)
    78 40FF 30				dta b(%00110000)
    79 					
    80 4100 C0				dta b(%11000000)		;znak10
    81 4101 F0				dta b(%11110000)
    82 4102 30				dta b(%00110000)
    83 4103 C0				dta b(%11000000)
    84 4104 C0				dta b(%11000000)
    85 4105 00				dta b(%00000000)
    86 4106 00				dta b(%00000000)
    87 4107 00				dta b(%00000000)
    88 					
    89 4108 00				dta b(%00000000)		;znak11
    90 4109 03				dta b(%00000011)
    91 410A 03				dta b(%00000011)
    92 410B 0F				dta b(%00001111)
    93 410C 0C				dta b(%00001100)
    94 410D 3F				dta b(%00111111)
    95 410E 33				dta b(%00110011)
    96 410F 0C				dta b(%00001100)
    97 					
    98 4110 30				dta b(%00110000)		;znak12
    99 4111 F0				dta b(%11110000)
   100 4112 F0				dta b(%11110000)
   101 4113 F0				dta b(%11110000)
   102 4114 3C				dta b(%00111100)
   103 4115 3C				dta b(%00111100)
   104 4116 3C				dta b(%00111100)
   105 4117 30				dta b(%00110000)
   106 					
   107 4118 0C				dta b(%00001100)		;znak13
   108 4119 0F				dta b(%00001111)
   109 411A 0F				dta b(%00001111)
   110 411B 0F				dta b(%00001111)
   111 411C 3C				dta b(%00111100)
   112 411D 3C				dta b(%00111100)
   113 411E 3C				dta b(%00111100)
   114 411F 0C				dta b(%00001100)
   115 					
   116 4120 00				dta b(%00000000)		;znak 14 I
   117 4121 03				dta b(%00000011)
   118 4122 03				dta b(%00000011)
   119 4123 03				dta b(%00000011)
   120 4124 03				dta b(%00000011)
   121 4125 03				dta b(%00000011)
   122 4126 03				dta b(%00000011)
   123 4127 00				dta b(%00000000)
   124 					
   125 4128 00				dta b(%00000000)		;znak 15 I
   126 4129 C0				dta b(%11000000)
   127 412A 80				dta b(%10000000)
   128 412B C0				dta b(%11000000)
   129 412C C0				dta b(%11000000)
   130 412D 80				dta b(%10000000)
   131 412E C0				dta b(%11000000)
   132 412F 00				dta b(%00000000)
   133 					
   134 4130 00				dta b(0)				;znak 16  schoda wdol
   135 4131 30				dta b(%00110000)
   136 4132 0C				dta b(%00001100)
   137 4133 30				dta b(%00110000)
   138 4134 3C				dta b(%00111100)
   139 4135 0C				dta b(%00001100)
   140 4136 00 00			dta b(0,0)
   141 					
   142 4138 00				dta b(0)				;znak 17 schoda w gore
   143 4139 0C				dta b(%00001100)
   144 413A 30				dta b(%00110000)
   145 413B 0C				dta b(%00001100)
   146 413C 3C				dta b(%00111100)
   147 413D 30				dta b(%00110000)
   148 413E 00 00			dta b(0,0)
   149 					
   150 4140 00				dta b(%00000000)		;znak 18 jadro gwiazda A
   151 4141 30				dta b(%00110000)
   152 4142 30				dta b(%00110000)
   153 4143 3C				dta b(%00111100)
   154 4144 3C				dta b(%00111100)
   155 4145 FF				dta b(%11111111)
   156 4146 FB				dta b(%11111011)
   157 4147 EB				dta b(%11101011)
   158 					
   159 4148 EB				dta b(%11101011)		;znak 19 jadro gwiazda A
   160 4149 EF				dta b(%11101111)
   161 414A FF				dta b(%11111111)
   162 414B 3C				dta b(%00111100)
   163 414C 3C				dta b(%00111100)
   164 414D 0C				dta b(%00001100)
   165 414E 0C				dta b(%00001100)
   166 414F 00				dta b(%00000000)
   167 					
   168 4150 00				dta b(%00000000)		;znak 20 jadro gwiazda B
   169 4151 03				dta b(%00000011)
   170 4152 0F				dta b(%00001111)
   171 4153 FA				dta b(%11111010)
   172 4154 3E				dta b(%00111110)
   173 4155 0F				dta b(%00001111)
   174 4156 03				dta b(%00000011)
   175 4157 00				dta b(%00000000)
   176 					
   177 4158 00				dta b(%00000000)		;znak 21 jadro gwiazda B
   178 4159 C0				dta b(%11000000)
   179 415A F0				dta b(%11110000)
   180 415B BC				dta b(%10111100)
   181 415C AF				dta b(%10101111)
   182 415D F0				dta b(%11110000)
   183 415E C0				dta b(%11000000)
   184 415F 00				dta b(%00000000)
   185 					
   186 4160 03				dta b(%00000011)		;trafione dzialko (b+20)
   187 4161 0F				dta b(%00001111)
   188 4162 3E				dta b(%00111110)
   189 4163 32				dta b(%00110010)
   190 4164 E8				dta b(%11101000)
   191 4165 E8				dta b(%11101000)
   192 4166 AA				dta b(%10101010)
   193 4167 22				dta b(%00100010)
   194 					
   195 4168 28				dta b(%00101000)		;b+21
   196 4169 E8				dta b(%11101000)
   197 416A E0				dta b(%11100000)
   198 416B E0				dta b(%11100000)
   199 416C 30				dta b(%00110000)
   200 416D 30				dta b(%00110000)
   201 416E 0F				dta b(%00001111)
   202 416F 03				dta b(%00000011)
   203 					
   204 4170 C0				dta b(%11000000)		;b+22
   205 4171 30				dta b(%00110000)
   206 4172 3C				dta b(%00111100)
   207 4173 BC				dta b(%10111100)
   208 4174 33				dta b(%00110011)
   209 4175 AF				dta b(%10101111)
   210 4176 AB				dta b(%10101011)
   211 4177 28				dta b(%00101000)
   212 					
   213 4178 88				dta b(%10001000)		;b+23
   214 4179 AB				dta b(%10101011)
   215 417A 2B				dta b(%00101011)
   216 417B 2B				dta b(%00101011)
   217 417C AC				dta b(%10101100)
   218 417D AC				dta b(%10101100)
   219 417E 30				dta b(%00110000)
   220 417F C0				dta b(%11000000)
   221 					
   222 4180 3C				dta b(%00111100)		;/ baza B
   223 4181 CC				dta b(%11001100)
   224 4182 FC				dta b(%11111100)
   225 4183 30				dta b(%00110000)
   226 4184 00 00 00 00			dta b(0,0,0,0)
   227 					
   228 4188 00 00 00 00			dta b(0,0,0,0)
   229 418C 0C				dta b(%00001100)
   230 418D 0F				dta b(%00001111)
   231 418E 33				dta b(%00110011)
   232 418F 3F				dta b(%00111111)
   233 					
   234 4190 3C				dta b(%00111100)		;\ baza B
   235 4191 33				dta b(%00110011)
   236 4192 3F				dta b(%00111111)
   237 4193 0C				dta b(%00001100)
   238 4194 00 00 00 00			dta b(0,0,0,0)
   239 					
   240 4198 00 00 00 00			dta b(0,0,0,0)
   241 419C 30				dta b(%00110000)
   242 419D F0				dta b(%11110000)
   243 419E CC				dta b(%11001100)
   244 419F FC				dta b(%11111100)
   245 					
   246 					
   247 41A0 00				dta b(%00000000)		;bomba
   248 41A1 00				dta b(%00000000)
   249 41A2 00				dta b(%00000000)
   250 41A3 20				dta b(%00100000)
   251 41A4 08				dta b(%00001000)
   252 41A5 01				dta b(%00000001)
   253 41A6 01				dta b(%00000001)
   254 41A7 21				dta b(%00100001)
   255 					
   256 41A8 01				dta b(%00000001)
   257 41A9 01				dta b(%00000001)
   258 41AA 08				dta b(%00001000)
   259 41AB 20				dta b(%00100000)
   260 41AC 00				dta b(%00000000)
   261 41AD 00				dta b(%00000000)
   262 41AE 00				dta b(%00000000)
   263 41AF 00				dta b(%00000000)
   264 					
   265 41B0 80				dta b(%10000000)
   266 41B1 80				dta b(%10000000)
   267 41B2 00				dta b(%00000000)
   268 41B3 02				dta b(%00000010)
   269 41B4 48				dta b(%01001000)
   270 41B5 50				dta b(%01010000)
   271 41B6 50				dta b(%01010000)
   272 41B7 52				dta b(%01010010)
   273 					
   274 41B8 40				dta b(%01000000)
   275 41B9 10				dta b(%00010000)
   276 41BA 48				dta b(%01001000)
   277 41BB 02				dta b(%00000010)
   278 41BC 00				dta b(%00000000)
   279 41BD 80				dta b(%10000000)
   280 41BE 80				dta b(%10000000)
   281 41BF 00				dta b(%00000000)
   282 					
   283 41C0 02				dta b(%00000010)		;meteor
   284 41C1 0A				dta b(%00001010)
   285 41C2 2A				dta b(%00101010)
   286 41C3 2A				dta b(%00101010)
   287 41C4 2A				dta b(%00101010)
   288 41C5 2A				dta b(%00101010)
   289 41C6 AA				dta b(%10101010)
   290 41C7 AA				dta b(%10101010)
   291 					
   292 41C8 AB				dta b(%10101011)
   293 41C9 AE				dta b(%10101110)
   294 41CA AE				dta b(%10101110)
   295 41CB AF				dta b(%10101111)
   296 41CC FF				dta b(%11111111)
   297 41CD 3F				dta b(%00111111)
   298 41CE 3F				dta b(%00111111)
   299 41CF 0F				dta b(%00001111)
   300 					
   301 41D0 80				dta b(%10000000)
   302 41D1 BA				dta b(%10111010)
   303 41D2 BA				dta b(%10111010)
   304 41D3 AB				dta b(%10101011)
   305 41D4 AA				dta b(%10101010)
   306 41D5 AA				dta b(%10101010)
   307 41D6 AB				dta b(%10101011)
   308 41D7 AB				dta b(%10101011)
   309 					
   310 41D8 AC				dta b(%10101100)
   311 41D9 AC				dta b(%10101100)
   312 41DA AC				dta b(%10101100)
   313 41DB FC				dta b(%11111100)
   314 41DC FC				dta b(%11111100)
   315 41DD 30				dta b(%00110000)
   316 41DE 00				dta b(%00000000)
   317 41DF 00				dta b(%00000000)
   318 					
   319 				;rakiety
   320 41E0 20				dta b(%00100000)
   321 41E1 20				dta b(%00100000)		;w gore
   322 41E2 FC				dta b(%11111100)
   323 41E3 7C				dta b(%01111100)
   324 41E4 FC				dta b(%11111100)
   325 41E5 20				dta b(%00100000)
   326 41E6 A8				dta b(%10101000)
   327 41E7 FC				dta b(%11111100)
   328 					
   329 41E8 74				dta b(%01110100)		;pasek pionowy
   330 41E9 74				dta b(%01110100)
   331 41EA 74				dta b(%01110100)
   332 41EB 74				dta b(%01110100)
   333 41EC 74				dta b(%01110100)
   334 41ED FC				dta b(%11111100)
   335 41EE A8				dta b(%10101000)
   336 41EF 20				dta b(%00100000)
   337 					
   338 41F0 20				dta b(%00100000)		;|  pasek pionowy odwrotny
   339 41F1 A8				dta b(%10101000)
   340 41F2 FC				dta b(%11111100)
   341 41F3 74				dta b(%01110100)
   342 41F4 74				dta b(%01110100)
   343 41F5 74				dta b(%01110100)
   344 41F6 74				dta b(%01110100)
   345 41F7 74				dta b(%01110100)
   346 					
   347 41F8 FC				dta b(%11111100)		;w dol
   348 41F9 A8				dta b(%10101000)
   349 41FA 20				dta b(%00100000)
   350 41FB FC				dta b(%11111100)
   351 41FC 7C				dta b(%01111100)
   352 41FD FC				dta b(%11111100)
   353 41FE 20				dta b(%00100000)
   354 41FF 20				dta b(%00100000)
   355 									
   356 4200 0C				dta b(%00001100)		;w lewo
   357 4201 34				dta b(%00110100)
   358 4202 BE				dta b(%10111110)
   359 4203 BE				dta b(%10111110)
   360 4204 3C				dta b(%00111100)
   361 4205 0C				dta b(%00001100)
   362 4206 00 00			dta b(0,0)
   363 								
   364 4208 D4				dta b(%11010100)		;tyl rakiety -
   365 4209 97				dta b(%10010111)
   366 420A BE				dta b(%10111110)
   367 420B BE				dta b(%10111110)
   368 420C 97				dta b(%10010111)
   369 420D D4				dta b(%11010100)
   370 420E 00 00			dta b(0,0)
   371 							
   372 4210 17				dta b(%00010111)		;tyl rakiety w prawo
   373 4211 D6				dta b(%11010110)
   374 4212 BE				dta b(%10111110)
   375 4213 BE				dta b(%10111110)
   376 4214 D6				dta b(%11010110)
   377 4215 17				dta b(%00010111)
   378 4216 00 00			dta b(0,0)
   379 							
   380 4218 30				dta b(%00110000)		;w prawo
   381 4219 1C				dta b(%00011100)
   382 421A BE				dta b(%10111110)
   383 421B BE				dta b(%10111110)
   384 421C 3C				dta b(%00111100)
   385 421D 30				dta b(%00110000)
   386 421E 00 00			dta b(0,0)	
   387 					
   388 					;wybuchy
   389 4220 00 00 00 00			dta b(0,0,0,0)
   390 4224 02				dta b(%00000010)
   391 4225 09				dta b(%00001001)
   392 4226 39				dta b(%00111001)
   393 4227 25				dta b(%00100101)
   394 4228 25				dta b(%00100101)
   395 					
   396 4229 25				dta b(%00100101)
   397 422A 39				dta b(%00111001)
   398 422B 09				dta b(%00001001)
   399 422C 02				dta b(%00000010)
   400 422D 00 00 00			dta b(0,0,0)
   401 					
   402 4230 00 00 00 00			dta b(0,0,0,0)
   403 4234 80				dta b(%10000000)
   404 4235 60				dta b(%01100000)
   405 4236 6C				dta b(%01101100)
   406 4237 58				dta b(%01011000)
   407 4238 58				dta b(%01011000)
   408 					
   409 4239 58				dta b(%01011000)
   410 423A 6C				dta b(%01101100)
   411 423B 60				dta b(%01100000)
   412 423C 80				dta b(%10000000)
   413 423D 00 00 00			dta b(0,0,0)
   414 					
   415 					;2
   416 4240 00 02			dta b(0),b(%00000010)
   417 4242 09				dta b(%00001001)
   418 4243 25				dta b(%00100101)
   419 4244 25				dta b(%00100101)
   420 4245 E5				dta b(%11100101)
   421 4246 95				dta b(%10010101)
   422 4247 96				dta b(%10010110)
   423 4248 96				dta b(%10010110)
   424 					
   425 4249 96				dta b(%10010110)
   426 424A 95				dta b(%10010101)
   427 424B E5				dta b(%11100101)
   428 424C 25				dta b(%00100101)
   429 424D 25				dta b(%00100101)
   430 424E 09				dta b(%00001001)
   431 424F 02				dta b(%00000010)
   432 					
   433 4250 00 80			dta b(0),b(%10000000)
   434 4252 60				dta b(%01100000)
   435 4253 58				dta b(%01011000)
   436 4254 58				dta b(%01011000)
   437 4255 5B				dta b(%01011011)
   438 4256 56				dta b(%01010110)
   439 4257 96				dta b(%10010110)
   440 4258 96				dta b(%10010110)
   441 					
   442 4259 96				dta b(%10010110)
   443 425A 56				dta b(%01010110)
   444 425B 5B				dta b(%01011011)
   445 425C 58				dta b(%01011000)
   446 425D 58				dta b(%01011000)
   447 425E 60				dta b(%01100000)
   448 425F 80				dta b(%10000000)	
   449 					;3
   450 4260 00 02			dta b(0),b(%00000010)
   451 4262 0A				dta b(%00001010)
   452 4263 2B				dta b(%00101011)
   453 4264 28				dta b(%00101000)
   454 4265 E8				dta b(%11101000)
   455 4266 AC				dta b(%10101100)
   456 4267 A0				dta b(%10100000)
   457 4268 A0				dta b(%10100000)
   458 					
   459 4269 A0				dta b(%10100000)
   460 426A AC				dta b(%10101100)
   461 426B E8				dta b(%11101000)
   462 426C 28				dta b(%00101000)
   463 426D 2B				dta b(%00101011)
   464 426E 0A				dta b(%00001010)
   465 426F 02				dta b(%00000010)
   466 					
   467 4270 00 80			dta b(0),b(%10000000)
   468 4272 A0				dta b(%10100000)
   469 4273 E8				dta b(%11101000)
   470 4274 28				dta b(%00101000)
   471 4275 2B				dta b(%00101011)
   472 4276 3A				dta b(%00111010)
   473 4277 0A				dta b(%00001010)
   474 4278 0A				dta b(%00001010)
   475 					
   476 4279 0A				dta b(%00001010)
   477 427A 3A				dta b(%00111010)
   478 427B 2B				dta b(%00101011)
   479 427C 28				dta b(%00101000)
   480 427D E8				dta b(%11101000)
   481 427E A0				dta b(%10100000)
   482 427F 80				dta b(%10000000)
   483 					
   484 					;4
   485 4280 00 02			dta b(0),b(%00000010)
   486 4282 0B				dta b(%00001011)
   487 4283 2C				dta b(%00101100)
   488 4284 20				dta b(%00100000)
   489 4285 20				dta b(%00100000)
   490 4286 B0				dta b(%10110000)
   491 4287 80				dta b(%10000000)
   492 4288 80				dta b(%10000000)
   493 					
   494 4289 80				dta b(%10000000)
   495 428A B0				dta b(%10110000)
   496 428B 20				dta b(%00100000)
   497 428C 20				dta b(%00100000)
   498 428D 2C				dta b(%00101100)
   499 428E 0B				dta b(%00001011)
   500 428F 02				dta b(%00000010)
   501 					
   502 4290 00 80			dta b(0),b(%10000000)
   503 4292 E0				dta b(%11100000)
   504 4293 38				dta b(%00111000)
   505 4294 08				dta b(%00001000)
   506 4295 08				dta b(%00001000)
   507 4296 0E				dta b(%00001110)
   508 4297 02				dta b(%00000010)
   509 4298 02				dta b(%00000010)
   510 					
   511 4299 02				dta b(%00000010)
   512 429A 0E				dta b(%00001110)
   513 429B 08				dta b(%00001000)
   514 429C 08				dta b(%00001000)
   515 429D 38				dta b(%00111000)
   516 429E E0				dta b(%11100000)
   517 429F 80				dta b(%10000000)
   518 					
   519 					;maly wybuch
   520 42A0 20				dta b(%00100000)
   521 42A1 20				dta b(%00100000)
   522 42A2 88				dta b(%10001000)
   523 42A3 88				dta b(%10001000)
   524 42A4 20				dta b(%00100000)
   525 42A5 20				dta b(%00100000)
   526 42A6 88				dta b(%10001000)
   527 42A7 88				dta b(%10001000)
   528 					
   529 42A8 22				dta b(%00100010)
   530 42A9 22				dta b(%00100010)
   531 42AA 88				dta b(%10001000)
   532 42AB 88				dta b(%10001000)
   533 42AC 22				dta b(%00100010)
   534 42AD 22				dta b(%00100010)
   535 42AE 88				dta b(%10001000)
   536 42AF 88				dta b(%10001000)
   537 					
   538 = 42B0			mwybuch2	equ *
   539 42B0 88				dta b(%10001000)
   540 42B1 88				dta b(%10001000)
   541 42B2 20				dta b(%00100000)
   542 42B3 20				dta b(%00100000)
   543 42B4 88				dta b(%10001000)
   544 42B5 88				dta b(%10001000)
   545 42B6 20				dta b(%00100000)
   546 42B7 20				dta b(%00100000)
   547 					
   548 42B8 88				dta b(%10001000)
   549 42B9 88				dta b(%10001000)
   550 42BA 22				dta b(%00100010)
   551 42BB 22				dta b(%00100010)
   552 42BC 88				dta b(%10001000)
   553 42BD 88				dta b(%10001000)
   554 42BE 22				dta b(%00100010)
   555 42BF 22				dta b(%00100010)
   556
   557 				;migajaca bomba i rakieta	
   558 = 42C0			bomba1	equ *
   559 42C0 00				dta b(%00000000)		;bomba
   560 42C1 00				dta b(%00000000)
   561 42C2 00				dta b(%00000000)
   562 42C3 20				dta b(%00100000)
   563 42C4 08				dta b(%00001000)
   564 42C5 03				dta b(%00000011)
   565 42C6 03				dta b(%00000011)
   566 42C7 23				dta b(%00100011)
   567 					
   568 42C8 03				dta b(%00000011)
   569 42C9 03				dta b(%00000011)
   570 42CA 08				dta b(%00001000)
   571 42CB 20				dta b(%00100000)
   572 42CC 00				dta b(%00000000)
   573 42CD 00				dta b(%00000000)
   574 42CE 00				dta b(%00000000)
   575 42CF 00				dta b(%00000000)
   576 					
   577 42D0 80				dta b(%10000000)
   578 42D1 80				dta b(%10000000)
   579 42D2 00				dta b(%00000000)
   580 42D3 02				dta b(%00000010)
   581 42D4 C8				dta b(%11001000)
   582 42D5 F0				dta b(%11110000)
   583 42D6 F0				dta b(%11110000)
   584 42D7 F2				dta b(%11110010)
   585 					
   586 42D8 C0				dta b(%11000000)
   587 42D9 30				dta b(%00110000)
   588 42DA C8				dta b(%11001000)
   589 42DB 02				dta b(%00000010)
   590 42DC 00				dta b(%00000000)
   591 42DD 80				dta b(%10000000)
   592 42DE 80				dta b(%10000000)
   593 42DF 00				dta b(%00000000)
   594 					
   595 = 42E0			rakieta1	equ *
   596 42E0 20				dta b(%00100000)
   597 42E1 20				dta b(%00100000)		;w gore
   598 42E2 FC				dta b(%11111100)
   599 42E3 F4				dta b(%11110100)
   600 42E4 FC				dta b(%11111100)
   601 42E5 20				dta b(%00100000)
   602 42E6 A8				dta b(%10101000)
   603 42E7 FC				dta b(%11111100)
   604 					
   605 42E8 FC				dta b(%11111100)		;w dol
   606 42E9 A8				dta b(%10101000)
   607 42EA 20				dta b(%00100000)
   608 42EB FC				dta b(%11111100)
   609 42EC F4				dta b(%11110100)
   610 42ED FC				dta b(%11111100)
   611 42EE 20				dta b(%00100000)
   612 42EF 20				dta b(%00100000)
   613 				;pozioma rakieta
   614 42F0 0C				dta b(%00001100)		;w lewo
   615 42F1 3C				dta b(%00111100)
   616 42F2 BE				dta b(%10111110)
   617 42F3 BE				dta b(%10111110)
   618 42F4 34				dta b(%00110100)
   619 42F5 0C				dta b(%00001100)
   620 42F6 00 00			dta b(0,0)
   621 							
   622 42F8 30				dta b(%00110000)		;w prawo
   623 42F9 3C				dta b(%00111100)
   624 42FA BE				dta b(%10111110)
   625 42FB BE				dta b(%10111110)
   626 42FC 1C				dta b(%00011100)
   627 42FD 30				dta b(%00110000)
   628 42FE 00 00			dta b(0,0)	
   629 					
   630 4300 1F 14 12 01 0C 0A + znakXa	dta b(31),b(20),b(18),b(1),b(12),b(10),b(7),b(21),b(23),b(3),b(14),b(25),b(15,0,13,28,4,27)
   631 4312 0A 14 05 19 1B 0C + znakYa	dta b(10),b(20),b(5),b(25),b(27),b(12),b(7),b(14),b(24),b(19),b(22),b(2),b(10,13,17,18,3,7)	
    74 4324			pokey_obx		
    75 4324 85 17 A9 FF 8D 07 + 		ins 'pokey.obx'
    76
    77 				;przerwanie vblk
    78 = 4391			vblk_code		equ *
    79 4391 85 BE					sta vblA
    80
    81 4393 E6 6F					inc zegar
    82 							
    83 4395 A5 70					lda stan_gry
    84 4397 F0 3B					beq vblk1
    85 4399 C9 01					cmp #1
    86 439B D0 3A					bne @+
    87 							
    88 439D A9 B1					lda #pozWyniki
    89 439F 8D 00 C0					sta HPOSP0    ;hiscore
    90 43A2 A9 B9					lda #pozWyniki+8
    91 43A4 8D 01 C0					sta HPOSP1
    92 43A7 A9 C1					lda #pozWyniki+16
    93 43A9 8D 02 C0					sta HPOSP2
    94 43AC A9 C9					lda #pozWyniki+24
    95 43AE 8D 06 C0					sta HPOSM2
    96 43B1 A9 CB					lda #pozWyniki+26
    97 43B3 8D 05 C0					sta HPOSM1
    98 43B6 A9 CD					lda #pozWyniki+28
    99 43B8 8D 04 C0					sta HPOSM0
   100 43BB A9 00					lda #0
   101 43BD 8D 0C C0					sta SIZEM
   102 43C0 8D 08 C0					sta SIZEP0
   103 43C3 8D 09 C0					sta SIZEP1
   104 43C6 8D 0A C0					sta SIZEP2
   105 							
   106 43C9 A9 46					lda #kolorHiscore
   107 43CB 8D 12 C0					sta COLPM0
   108 43CE 8D 13 C0					sta COLPM1
   109 43D1 8D 14 C0					sta COLPM2
   110 							
   111 43D4			vblk1			
   112 43D4 A5 BE					lda vblA
   113 43D6 40						rti
   114
   115
   116 = 43D7			@			equ *
   117 43D7 AD BE 36					lda pauza
   118 43DA D0 20					bne @+			;podczas pauzy nie odgrywaj dzwiekow
   119
   120 = 43DD			_vbsnd1a		equ *+1			
   121 43DC A9 00					lda #$00		;zamiast SETPOKEY
   122 43DE 8D 00 E8					sta audf1
   123 = 43E2			_vbsnd2a		equ *+1			
   124 43E1 A9 00					lda #$00
   125 43E3 8D 01 E8					sta audc1
   126 = 43E7			_vbsnd3a		equ *+1			
   127 43E6 A9 00					lda #$00
   128 43E8 8D 02 E8					sta audf2
   129 = 43EC			_vbsnd4a		equ *+1			
   130 43EB A9 00					lda #$00
   131 43ED 8D 03 E8					sta audc2
   132 = 43F1			_vbsnd5a		equ *+1			
   133 43F0 A9 00					lda #$00
   134 43F2 8D 04 E8					sta audf3
   135 = 43F6			_vbsnd6a		equ *+1			
   136 43F5 A9 00					lda #$00
   137 43F7 8D 05 E8					sta audc3
   138 							
   139 = 43FB			_vbsnd7a		equ *+1			
   140 43FA A9 00					lda #$00
   141 							;sta audctl		
   142 							
   143 43FC A5 C1		@			lda vblFlaga
   144 43FE D0 10					bne @+
   145 							
   146 4400 A5 BE					lda vblA
   147 4402 40						rti
   148 							
   149 4403			vblk2			
   150 4403 48						pha					;jeÅ›lÅ›li vblk przerwie irq to pomin strzal
   151 4404 AD 36 33					lda vb_ad+1
   152 4407 48						pha
   153 4408 A5 C4					lda znacznik
   154 440A 48						pha
   155 440B A5 BE					lda vblA
   156 440D C6 C1					dec vblFlaga
   157 440F 40						rti
   158 					
   159 4410 A5 C2		@			lda trafienie		
   160 4412 05 C3					ora startMapy
   161 4414 D0 BE					bne vblk1
   162 							
   163 4416 68						pla
   164 4417 85 C4					sta znacznik
   165 4419 68						pla
   166 441A 8D 36 33					sta vb_ad+1		;adres powrotu
   167 441D 68						pla
   168 441E 8D 37 33					sta vb_ad+2
   169 4421 F0 E0					beq vblk2
   170 							
   171 								
   172 4423 A9 4B					lda #>vb_strzal
   173 4425 48						pha
   174 4426 A9 D5					lda #<vb_strzal		;adres pod ktory skoczymy po zakonczeniu przerwania
   175 4428 48						pha	
   176 4429 A5 C4					lda znacznik
   177 442B 48						pha	
   178 							
   179 442C AD 00 40					lda $4000
   180 442F 8D 2C 33					sta vb_end+1
   181 4432 AD D8 BF					lda BANK2
   182 4435 40						rti
   183 4436			_vb_end			
   184 4436 AD FF BF					lda $bfff		;przywroc bank
   185 4439 A6 BF					ldx vblX		;przywroc rejestry i znaczniki
   186 443B A4 C0					ldy vblY
   187 443D A5 BE					lda vblA
   188 443F 28						plp
   189 4440 4C FF FF		_vb_ad	jmp $ffff 		
   190 							
   191 4443			vblk_codeEnd		
   192
   193
   194 = 4443			dli_code	equ *
   195 = 4443			dlia		equ *
   196 4443 48					pha
   197
   198 4444 A9 82 8D 00 02 A9 + 		mwa #pokey irqv
   199 							
   200 444E A9 B1				lda #pozWyniki
   201 4450 8D 00 C0				sta HPOSP0    ;hiscore
   202 4453 A9 B9				lda #pozWyniki+8
   203 4455 8D 01 C0				sta HPOSP1
   204 4458 A9 C1				lda #pozWyniki+16
   205 445A 8D 02 C0				sta HPOSP2
   206 445D A9 C9				lda #pozWyniki+24
   207 445F 8D 06 C0				sta HPOSM2
   208 4462 A9 CB				lda #pozWyniki+26
   209 4464 8D 05 C0				sta HPOSM1
   210 4467 A9 CD				lda #pozWyniki+28
   211 4469 8D 04 C0				sta HPOSM0
   212 446C A9 00				lda #0
   213 446E 8D 0C C0				sta SIZEM
   214 							
   215 4471 A9 46				lda #kolorHiscore
   216 4473 8D 12 C0				sta COLPM0
   217 4476 8D 13 C0				sta COLPM1
   218 4479 8D 14 C0				sta COLPM2
   219 						
   220 447C A9 23 8D 06 E8			mva #36-1 AUDF4
   221 4481 8D 0A D4				sta WSYNC
   222
   223 						;dta 2		
   224 						//mva #0 IRQEN
   225
   226 4484 A9 04 8D 0E E8			mva #4 IRQEN
   227 4489 85 6D				sta sirq
   228 					
   229 448B 68					pla
   230 448C 40					rti 
   231 						
   232 = 448D			pokeya	equ *
   233 448D 85 C5				sta rejA
   234 						
   235 448F A9 23 8D 06 E8			mva #35 AUDF4
   236 4494 A9 0C				lda #kolorLiczby		;pod Hiscore
   237 4496 8D 12 C0				sta COLPM0
   238 4499 8D 13 C0				sta COLPM1
   239 449C 8D 14 C0				sta COLPM2
   240 449F A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0
   241 44A4 A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   242 44A9 A9 C3 8D 02 C0			mva #pozWyniki+18 HPOSP2
   243 						
   244 44AE A9 BA 8D 00 02 A9 + 		mwa #pokey1 irqv
   245 						
   246 						
   247
   248 44B8 A9 00 8D 0E E8			mva #0 irqen
   249 44BD A9 04 8D 0E E8			mva #4 irqen
   250
   251 						
   252 44C2 A5 C5				lda rejA
   253 44C4 40					rti
   254 						
   255 = 44C5			pokey1a	equ *
   256 44C5 85 C5				sta rejA
   257 						
   258 						
   259 44C7 A9 B1 8D 00 C0			mva #pozWyniki HPOSP0		;1up
   260 44CC A9 B9 8D 01 C0			mva #pozWyniki+8 HPOSP1
   261 = 44D2			kolor1upa	equ *+1
   262 44D1 A9 98 8D 12 C0			mva #kolor1ups COLPM0
   263 44D6 8D 13 C0				sta COLPM1
   264 						
   265 44D9 A9 EA 8D 00 02 A9 + 		mwa #pokey2 irqv
   266 44E3 A9 23 8D 06 E8			mva #35 AUDF4
   267 						
   268 						
   269 44E8 A9 00 8D 0E E8			mva #0 irqen
   270 44ED A9 04 8D 0E E8			mva #4 irqen
   271
   272 						
   273 44F2 A5 C5				lda rejA
   274 44F4 40					rti
   275
   276 = 44F5			pokey2a	equ *
   277 44F5 85 C5				sta rejA
   278 							
   279 44F7 A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;score
   280 44FC A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   281 4501 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   282 4506 8D 13 C0				sta COLPM1
   283 						
   284 4509 A9 1A 8D 00 02 A9 + 		mwa #pokey3 irqv
   285 						
   286 4513 A9 64				lda #100
   287 4515 8D 06 E8				sta AUDF4
   288 						
   289 					
   290 4518 A9 00 8D 0E E8			mva #0 irqen
   291 451D A9 04 8D 0E E8			mva #4 irqen
   292
   293 						
   294 4522 A5 C5				lda rejA
   295 4524 40					rti		
   296 					
   297
   298 = 4525			pokey3a	equ *
   299 4525 85 C5				sta rejA
   300 							
   301 						
   302 = 4528			formacja_stana equ *+1
   303 4527 A9 00				lda #$00
   304 4529 F0 04				beq @+
   305 452B C9 05				cmp #5
   306 452D D0 21				bne pk3aa
   307 						
   308 452F A9 B1 8D 06 C0	@		mva #pozWyniki HPOSM2
   309 					
   310 4534 A9 72 8D 00 02 A9 + 		mwa #pokey4 irqv
   311 						
   312 453E A9 51				lda #82-1
   313 4540 8D 06 E8				sta AUDF4
   314 						
   315 					
   316 4543 A9 00 8D 0E E8			mva #0 irqen
   317 4548 A9 04 8D 0E E8			mva #4 irqen
   318
   319 						
   320 454D A5 C5				lda rejA
   321 454F 40					rti		
   322
   323 4550 A9 B0 8D 06 C0	pk3aa	mva #pozWyniki-1 HPOSM2	
   324 4555 AD 7A 34				lda conditionColor	;w czasie formacji mryga czerwonym napisem
   325 4558 8D 12 C0				sta COLPM0
   326 455B 8D 13 C0				sta COLPM1
   327 455E 8D 14 C0				sta COLPM2
   328 						
   329 4561 A9 72 8D 00 02 A9 + 		mwa #pokey4 irqv
   330 						
   331 456B A9 51				lda #81
   332 456D 8D 06 E8				sta AUDF4
   333 						
   334 					
   335 4570 A9 00 8D 0E E8			mva #0 irqen
   336 4575 A9 04 8D 0E E8			mva #4 irqen
   337 						
   338 457A A5 C5				lda rejA
   339 457C 40					rti		
   340 						
   341 = 457D			pokey4a	equ *
   342 457D 85 C5				sta rejA
   343 457F A9 FF				lda #255			;condition napis
   344 4581 8D 06 E8				sta AUDF4
   345 = 4585			conditionColora	equ *+1		
   346 4584 A9 00				lda #$00		;conditionColor
   347 4586 8D 13 C0				sta COLPM1
   348 4589 8D 14 C0				sta COLPM2
   349 = 458D			conditionColor1a	equ *+1
   350 458C A9 00				lda #$00
   351 458E 8D 12 C0				sta COLPM0
   352 						
   353 4591 A9 9D 8D 00 02 A9 + 		mwa #pokey_5 irqv
   354 						
   355 					
   356 459B A9 00 8D 0E E8			mva #0 irqen
   357 45A0 A9 04 8D 0E E8			mva #4 irqen
   358
   359 							
   360 45A5 A5 C5				lda rejA
   361 45A7 40					rti
   362 						
   363 = 45A8			pokey_5a	equ *
   364 45A8 85 C5				sta rejA
   365
   366 45AA A9 62 8D 15 C0			mva #kolorMapa	COLPM3
   367 						;mva #pozWyniki-1 HPOSP3
   368
   369 						
   370 							
   371 45AF A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   372 						
   373 45B4 A9 14				lda #16+4
   374 45B6 8D 0C C0				sta SIZEM
   375 45B9 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   376 						
   377 45BE 8D 14 C0				sta COLPM2
   378 45C1 A9 C4 8D 06 C0			mva #pozWyniki+19 HPOSM2
   379 45C6 A9 C8 8D 05 C0			mva #pozWyniki+23 HPOSM1
   380 						
   381 = 45CC			radarX1a	equ *+1
   382 45CB A9 00 8D 04 C0			mva #$00 HPOSM0  ;pozycja statku na radarze
   383 45D0 A9 01 8D 0A C0			mva #1 SIZEP2		;przeciwnicy na radarze
   384 45D5 A9 B4 8D 02 C0			mva #pozWyniki+3 HPOSP2
   385 						
   386 						
   387 45DA A9 B9				lda #185
   388 45DC 8D 06 E8				sta AUDF4
   389 						
   390 45DF A9 04 8D 00 02 A9 + 		mwa #pokey5a irqv
   391 					
   392 45E9 A9 00 8D 0E E8			mva #0 irqen
   393 45EE A9 04 8D 0E E8			mva #4 irqen
   394
   395 						
   396 45F3 A5 C3				lda startMapy
   397 45F5 C9 0A				cmp #10
   398 45F7 B0 0B				bcs @+		
   399 						
   400 45F9 A9 6C				lda #108 	;pozWyniki-1-68		;statek srodek 108
   401 45FB 8D 00 C0				sta HPOSP0
   402 45FE 8D 01 C0				sta HPOSP1	
   403 						
   404 4601 A5 C5				lda rejA
   405 4603 40					rti
   406 						
   407 4604 A9 00 8D 00 C0	@		mva #0 HPOSP0
   408 4609 8D 01 C0				sta HPOSP1
   409 						
   410 460C A5 C5				lda rejA
   411 460E 40					rti
   412 						
   413 = 460F			pokey5aa	equ *
   414 460F 85 C5				sta rejA
   415 						
   416 4611 A9 5C				lda #110-18
   417 4613 8D 06 E8				sta AUDF4
   418 4616 A9 22 8D 00 02 A9 + 		mwa #pokey6 irqv
   419 						
   420 					
   421 4620 A9 00 8D 0E E8			mva #0 irqen
   422 4625 A9 04 8D 0E E8			mva #4 irqen
   423
   424 						
   425 462A A5 C5				lda rejA
   426 462C 40					rti
   427 						
   428 = 462D			pokey6a	equ *
   429 462D 85 C5				sta rejA
   430
   431 						
   432 462F A9 0D 8D 12 C0			mva #$0d COLPM0	
   433 4634 8D 13 C0				sta COLPM1
   434
   435 4637 8D 14 C0				sta COLPM2
   436 								
   437 463A A9 00				lda #0
   438 463C 8D 0A C0				sta SIZEP2
   439
   440 463F A9 55 8D 0C C0			mva #1+4+16+64 SIZEM
   441 								;zakonczenie mapy
   442 4644 A9 00 8D 15 C0			mva #0 COLPM3		;koniec mapy zapasowe statki		
   443 						
   444 = 464A			poz2livesa equ *+1
   445 4649 A9 00 8D 02 C0			mva #$00 HPOSP2		
   446 464E A9 00 8D 01 C0			mva #$00 HPOSP1
   447 4653 A9 00 8D 00 C0			mva #$00 HPOSP0
   448 = 4659			poz2mlivesa	equ *+1		
   449 4658 A9 00 8D 06 C0			mva #$00 HPOSM2
   450 465D A9 00 8D 05 C0			mva #$00 HPOSM1
   451 4662 A9 00 8D 04 C0			mva #$00 HPOSM0
   452 4667 A9 11 8D 1B C0			mva #1+16 GTIACTL
   453 						
   454 466C A9 7D 8D 00 02 A9 + 		mwa #pokey7 irqv
   455 						
   456 4676 A9 1A				lda #26
   457 4678 8D 06 E8				sta AUDF4
   458 						
   459 					
   460 467B A9 00 8D 0E E8			mva #0 irqen
   461 4680 A9 04 8D 0E E8			mva #4 irqen
   462
   463 						
   464 4685 A5 C5				lda rejA
   465 4687 40					rti
   466 							
   467
   468 					
   469 = 4688			pokey7a	equ *
   470 4688 85 C5				sta rejA
   471 						
   472 						
   473 468A A9 00				lda #$00
   474 468C 8D 06 E8				sta AUDF4
   475 468F 8D 0C C0				sta SIZEM
   476 4692 8D 0E E8				sta irqen
   477 4695 85 6D				sta sirq
   478 						
   479 4697 A9 01 8D 1B C0			mva #1 GTIACTL
   480 469C A9 B1 8D 00 C0			mva #pozWyniki HPOSP0
   481 46A1 A9 B9 8D 01 C0			mva #pozWyniki+8 HPOSP1
   482 46A6 A9 C1 8D 05 C0			mva #pozWyniki+16 HPOSM1		;Round
   483 46AB A9 C3 8D 04 C0			mva #pozWyniki+18 HPOSM0
   484 46B0 A9 C7 8D 02 C0			mva #pozWyniki+22 HPOSP2
   485 46B5 A9 CA 8D 14 C0			mva #kolorLevel COLPM2
   486 46BA A9 5A 8D 12 C0			mva #kolorRound COLPM0
   487 46BF 8D 13 C0				sta COLPM1
   488 						
   489 46C2 A5 C5				lda rejA
   490 46C4 40					rti
   491 = 46C5			pokey_codeend	equ *
   492
   493 46C5			init_rmt_code
   494 46C5 48					pha
   495 46C6 AD 00 40				lda $4000
   496 46C9 8D 2C 38				sta init_rmt+15
   497 46CC AD D4 BF				lda BANK1	;bank1
   498 46CF 68					pla
   499 46D0 20 12 53				jsr rmt_init
   500 46D3 AD FF BF				lda $bfff	;poprzedni bank
   501 46D6 60					rts
   502
   503 46D7			play_rmt_code
   504 46D7 AD 00 40				lda $4000
   505 46DA 8D 3C 38				sta play_rmt+13
   506 46DD AD D4 BF				lda BANK1	;bank1
   507 46E0 20 E0 54				jsr rmt_play
   508 46E3 AD FF BF				lda $bfff	;poprzedni bank
   509 46E6 60					rts
   510 						
   511 46E7			sfx_rmt_code
   512 46E7 48					pha
   513 46E8 AD 00 40				lda $4000
   514 46EB 8D 08 38				sta sfx_rmt+15
   515 46EE AD D4 BF				lda BANK1	;bank1
   516 46F1 68					pla
   517 46F2 20 67 54				jsr rmt_sfx
   518 46F5 AD FF BF				lda $bfff	;poprzedni bank
   519 46F8 60					rts 
   520
   521 46F9			getSongLine_rmt_code
   522 46F9 48					pha
   523 46FA AD 00 40				lda $4000
   524 46FD 8D 1A 38				sta getSongLine_rmt+15
   525 4700 AD D4 BF				lda BANK1	;bank1
   526 4703 68					pla
   527 4704 20 67 53				jsr GetSongLine
   528 4707 AD FF BF				lda $bfff	;poprzedni bank
   529 470A 60					rts 
   530 						
   531 470B			skok_title_code
   532 470B AD DC BF				lda BANK3 
   533 470E 20 05 63				jsr title
   534 4711 AD D8 BF				lda BANK2
   535 4714 60					rts		
   536 						
   537 					
   538
   539 4715			go_bank_code
   540 4715 8D 60 38				sta go_bank+16
   541 4718 8E 63 38				stx go_bank+19
   542 471B 8C 64 38				sty go_bank+20
   543 471E AD 00 40				lda $4000
   544 4721 8D 66 38				sta go_bank+22 
   545 4724 AD DC BF				lda BANK3
   546 4727 20 48 49				jsr czyscObraz1
   547 472A AD DC BF				lda $bfdc
   548 472D 60					rts
   549 						
   550 472E			jmp_bank_code
   551 472E 8D 73 38				sta jmp_bank+10
   552 4731 8E 76 38				stx jmp_bank+13
   553 4734 8C 77 38				sty jmp_bank+14
   554 4737 AD FF BF				lda $bfff
   555 473A 4C FF FF				jmp $ffff
   556 						
   557 = 473D			mute_rmt_code	equ *	
   558
   559 473D AD 00 40				lda $4000
   560 4740 8D F6 37				sta mute_rmt+21
   561 4743 A2 66				ldx #<(rmt_goto+$02*4)		
   562 4745 A0 52				ldy #>(rmt_goto+$02*4)
   563 4747 86 F4				stx p_song
   564 4749 84 F5				sty p_song+1
   565 474B AD D4 BF				lda BANK1
   566 474E 20 67 53				jsr GetSongLine				
   567 4751 AD FF BF				lda $bfff
   568 4754 60					rts		
   569 					
   570 				;rysuje duszki przy przesuniÄ™ciu DX=0 i DY=0 , 4znaki
   571 4755			drawDX4_
   572 4755 A0 07					ldy #7
   573 = 4757			@			equ *
   574 							.rept 4, #
   575 				SZNAKX4:1_	EQU *
   576 							LDA $FFFF,Y
   577 				MASKX4:1_	AND $FFFF,Y
   578 				KSZTX4:1_	ORA $FFFF,Y
   580 				NZNAKX4:1_	EQU *
   581 							STA $FFFF,Y
   582 							.ENDR
   582 							.endr
Source: REPT
   575 = 4757			SZNAKX40_	EQU *
   575 4757 B9 FF FF					LDA $FFFF,Y
   575 475A 39 FF FF		MASKX40_	AND $FFFF,Y
   575 475D 19 FF FF		KSZTX40_	ORA $FFFF,Y
   575 = 4760			NZNAKX40_	EQU *
   575 4760 99 FF FF					STA $FFFF,Y
   575 = 4763			SZNAKX41_	EQU *
   575 4763 B9 FF FF					LDA $FFFF,Y
   575 4766 39 FF FF		MASKX41_	AND $FFFF,Y
   575 4769 19 FF FF		KSZTX41_	ORA $FFFF,Y
   575 = 476C			NZNAKX41_	EQU *
   575 476C 99 FF FF					STA $FFFF,Y
   575 = 476F			SZNAKX42_	EQU *
   575 476F B9 FF FF					LDA $FFFF,Y
   575 4772 39 FF FF		MASKX42_	AND $FFFF,Y
   575 4775 19 FF FF		KSZTX42_	ORA $FFFF,Y
   575 = 4778			NZNAKX42_	EQU *
   575 4778 99 FF FF					STA $FFFF,Y
   575 = 477B			SZNAKX43_	EQU *
   575 477B B9 FF FF					LDA $FFFF,Y
   575 477E 39 FF FF		MASKX43_	AND $FFFF,Y
   575 4781 19 FF FF		KSZTX43_	ORA $FFFF,Y
   575 = 4784			NZNAKX43_	EQU *
   575 4784 99 FF FF					STA $FFFF,Y
Source: bank3.asm
   583 4787 88						dey
   584 4788 10 CD					bpl @-
   585 							
   586 478A A6 A6					ldx zapX
   587 478C A9 00					lda #0
   588 478E 9D 2B 32					sta enemyEkran,x
   589 4791 60						rts
   590
   591 				;rysuje duszki przy przesuniÄ™ciu DX>0 i DY=0
   592 4792			drawDX6_
   593 4792 A0 07					ldy #7
   594 = 4794			@			equ *
   595 							.rept 6, #
   596 				SZNAKX6:1_	EQU *
   597 							LDA $FFFF,Y
   598 				MASKX6:1_	AND $FFFF,Y
   599 				KSZTX6:1_	ORA $FFFF,Y
   601 				NZNAKX6:1_	EQU *
   602 							STA $FFFF,Y
   603 							.ENDR
   603 							.endr
Source: REPT
   596 = 4794			SZNAKX60_	EQU *
   596 4794 B9 FF FF					LDA $FFFF,Y
   596 4797 39 FF FF		MASKX60_	AND $FFFF,Y
   596 479A 19 FF FF		KSZTX60_	ORA $FFFF,Y
   596 = 479D			NZNAKX60_	EQU *
   596 479D 99 FF FF					STA $FFFF,Y
   596 = 47A0			SZNAKX61_	EQU *
   596 47A0 B9 FF FF					LDA $FFFF,Y
   596 47A3 39 FF FF		MASKX61_	AND $FFFF,Y
   596 47A6 19 FF FF		KSZTX61_	ORA $FFFF,Y
   596 = 47A9			NZNAKX61_	EQU *
   596 47A9 99 FF FF					STA $FFFF,Y
   596 = 47AC			SZNAKX62_	EQU *
   596 47AC B9 FF FF					LDA $FFFF,Y
   596 47AF 39 FF FF		MASKX62_	AND $FFFF,Y
   596 47B2 19 FF FF		KSZTX62_	ORA $FFFF,Y
   596 = 47B5			NZNAKX62_	EQU *
   596 47B5 99 FF FF					STA $FFFF,Y
   596 = 47B8			SZNAKX63_	EQU *
   596 47B8 B9 FF FF					LDA $FFFF,Y
   596 47BB 39 FF FF		MASKX63_	AND $FFFF,Y
   596 47BE 19 FF FF		KSZTX63_	ORA $FFFF,Y
   596 = 47C1			NZNAKX63_	EQU *
   596 47C1 99 FF FF					STA $FFFF,Y
   596 = 47C4			SZNAKX64_	EQU *
   596 47C4 B9 FF FF					LDA $FFFF,Y
   596 47C7 39 FF FF		MASKX64_	AND $FFFF,Y
   596 47CA 19 FF FF		KSZTX64_	ORA $FFFF,Y
   596 = 47CD			NZNAKX64_	EQU *
   596 47CD 99 FF FF					STA $FFFF,Y
   596 = 47D0			SZNAKX65_	EQU *
   596 47D0 B9 FF FF					LDA $FFFF,Y
   596 47D3 39 FF FF		MASKX65_	AND $FFFF,Y
   596 47D6 19 FF FF		KSZTX65_	ORA $FFFF,Y
   596 = 47D9			NZNAKX65_	EQU *
   596 47D9 99 FF FF					STA $FFFF,Y
Source: bank3.asm
   604 47DC 88						dey
   605 47DD 10 B5					bpl @-
   606 							
   607 47DF A6 A6					ldx zapX
   608 47E1 A9 00					lda #0
   609 47E3 9D 2B 32					sta enemyEkran,x
   610 47E6 60						rts
   611 							
   612 				;rysuje duszki przy DX=0 i DY>0 , 6 znakÃ³w
   613 47E7			drawDY6_
   614 47E7 A0 07					ldy #7
   615 = 47E9			@			equ *
   616
   617 = 47E9			sznakY60_	equ *
   618 47E9 B9 FF FF					lda $ffff,y
   619 47EC 39 FF FF		maskY60_	and $ffff,y
   620 47EF 19 FF FF		ksztY60_	ora $ffff,y
   621 = 47F2			nznakY60_	equ *
   622 47F2 99 FF FF					sta $ffff,y
   623 							
   624 = 47F5			sznakY61_	equ *
   625 47F5 B9 FF FF					lda $ffff,y
   626 47F8 39 FF FF		maskY61_	and $ffff,y
   627 47FB 19 FF FF		ksztY61_	ora $ffff,y
   628 = 47FE			nznakY61_	equ *
   629 47FE 99 FF FF					sta $ffff,y
   630 							
   631 = 4801			sznakY62_	equ *
   632 4801 B9 FF FF					lda $ffff,y
   633 = 4804			nznakY62_	equ *
   634 4804 99 FF FF					sta $ffff,y		
   635
   636 = 4807			sznakY63_	equ *
   637 4807 B9 FF FF					lda $ffff,y
   638 480A 39 FF FF		maskY63_	and $ffff,y
   639 480D 19 FF FF		ksztY63_	ora $ffff,y
   640
   641 = 4810			nznakY63_	equ *
   642 4810 99 FF FF					sta $ffff,y
   643 							
   644 = 4813			sznakY64_	equ *
   645 4813 B9 FF FF					lda $ffff,y
   646 4816 39 FF FF		maskY64_	and $ffff,y
   647 4819 19 FF FF		ksztY64_	ora $ffff,y
   648
   649 = 481C			nznakY64_	equ *
   650 481C 99 FF FF					sta $ffff,y
   651 							
   652 = 481F			sznakY65_	equ *
   653 481F B9 FF FF					lda $ffff,y
   654 = 4822			nznakY65_	equ *
   655 4822 99 FF FF					sta $ffff,y				
   656 							
   657 4825 88						dey
   658 = 4826			petlaY6_	equ *
   659 4826 C0 FF					cpy #$ff
   660 4828 D0 BF					bne @-
   661 							
   662 = 482A			@			equ *
   663 = 482A			sznakY60b_	equ *
   664 482A B9 FF FF					lda $ffff,y
   665 = 482D			nznakY60b_	equ *
   666 482D 99 FF FF					sta $ffff,y
   667 							
   668 = 4830			sznakY61b_	equ *
   669 4830 B9 FF FF					lda $ffff,y
   670 4833 39 FF FF		maskY61b_	and $ffff,y
   671 4836 19 FF FF		ksztY61b_	ora $ffff,y
   672
   673 = 4839			nznakY61b_	equ *
   674 4839 99 FF FF					sta $ffff,y	
   675 							
   676 = 483C			sznakY62b_	equ *
   677 483C B9 FF FF					lda $ffff,y
   678 483F 39 FF FF		maskY62b_	and $ffff,y
   679 4842 19 FF FF		ksztY62b_	ora $ffff,y
   680
   681 = 4845			nznakY62b_	equ *
   682 4845 99 FF FF					sta $ffff,y			
   683 							
   684 = 4848			sznakY63b_	equ *
   685 4848 B9 FF FF					lda $ffff,y
   686 = 484B			nznakY63b_	equ *
   687 484B 99 FF FF					sta $ffff,y
   688 							
   689 = 484E			sznakY64b_	equ *
   690 484E B9 FF FF					lda $ffff,y
   691 4851 39 FF FF		maskY64b_	and $ffff,y
   692 4854 19 FF FF		ksztY64b_	ora $ffff,y
   693 = 4857			nznakY64b_	equ *
   694 4857 99 FF FF					sta $ffff,y	
   695 							
   696 = 485A			sznakY65b_	equ *
   697 485A B9 FF FF					lda $ffff,y
   698 485D 39 FF FF		maskY65b_	and $ffff,y
   699 4860 19 FF FF		ksztY65b_	ora $ffff,y
   700
   701 = 4863			nznakY65b_	equ *
   702 4863 99 FF FF					sta $ffff,y	
   703 							
   704 4866 88						dey
   705 4867 10 C1					bpl @-
   706 							
   707 4869 A6 A6					ldx zapX
   708 486B A9 00					lda #0
   709 486D 9D 2B 32					sta enemyEkran,x
   710 4870 60						rts			
   711 							
   712 				;rysuje duszki przy DX>0 i DY>0 , 9 znakÃ³w
   713 4871			drawDY9_
   714 4871 A0 07					ldy #7
   715 = 4873			@			equ *
   716
   717 = 4873			sznakY90_	equ *
   718 4873 B9 FF FF					lda $ffff,y
   719 4876 39 FF FF		maskY90_	and $ffff,y
   720 4879 19 FF FF		ksztY90_	ora $ffff,y
   721
   722 = 487C			nznakY90_	equ *
   723 487C 99 FF FF					sta $ffff,y
   724 							
   725 = 487F			sznakY91_	equ *
   726 487F B9 FF FF					lda $ffff,y
   727
   728 4882 39 FF FF		maskY91_	and $ffff,y
   729 4885 19 FF FF		ksztY91_	ora $ffff,y
   730
   731 = 4888			nznakY91_	equ *
   732 4888 99 FF FF					sta $ffff,y
   733 							
   734 = 488B			sznakY92_	equ *
   735 488B B9 FF FF					lda $ffff,y
   736 = 488E			nznakY92_	equ *
   737 488E 99 FF FF					sta $ffff,y		
   738
   739 = 4891			sznakY93_	equ *
   740 4891 B9 FF FF					lda $ffff,y
   741 4894 39 FF FF		maskY93_	and $ffff,y
   742 4897 19 FF FF		ksztY93_	ora $ffff,y
   743
   744 = 489A			nznakY93_	equ *
   745 489A 99 FF FF					sta $ffff,y
   746 							
   747 = 489D			sznakY94_	equ *
   748 489D B9 FF FF					lda $ffff,y
   749
   750 48A0 39 FF FF		maskY94_		and $ffff,y
   751 48A3 19 FF FF		ksztY94_		ora $ffff,y
   752
   753 = 48A6			nznakY94_	equ *
   754 48A6 99 FF FF					sta $ffff,y
   755 							
   756 = 48A9			sznakY95_	equ *
   757 48A9 B9 FF FF					lda $ffff,y
   758 = 48AC			nznakY95_	equ *
   759 48AC 99 FF FF					sta $ffff,y				
   760 							
   761 = 48AF			sznakY96_	equ *
   762 48AF B9 FF FF					lda $ffff,y
   763
   764 48B2 39 FF FF		maskY96_	and $ffff,y
   765 48B5 19 FF FF		ksztY96_	ora $ffff,y
   766
   767 = 48B8			nznakY96_	equ *
   768 48B8 99 FF FF					sta $ffff,y
   769 							
   770 = 48BB			sznakY97_	equ *
   771 48BB B9 FF FF					lda $ffff,y
   772
   773 48BE 39 FF FF		maskY97_	and $ffff,y
   774 48C1 19 FF FF		ksztY97_	ora $ffff,y
   775
   776 = 48C4			nznakY97_	equ *
   777 48C4 99 FF FF					sta $ffff,y
   778 							
   779 = 48C7			sznakY98_	equ *
   780 48C7 B9 FF FF					lda $ffff,y
   781 = 48CA			nznakY98_	equ *
   782 48CA 99 FF FF					sta $ffff,y	
   783 							
   784 48CD 88						dey
   785 = 48CE			petlaY9_	equ *
   786 48CE C0 FF					cpy #$ff
   787 48D0 D0 A1					bne @-
   788 							
   789 = 48D2			@			equ *
   790 = 48D2			sznakY90b_	equ *
   791 48D2 B9 FF FF					lda $ffff,y
   792 = 48D5			nznakY90b_	equ *
   793 48D5 99 FF FF					sta $ffff,y
   794 							
   795 = 48D8			sznakY91b_	equ *
   796 48D8 B9 FF FF					lda $ffff,y
   797
   798 48DB 39 FF FF		maskY91b_	and $ffff,y
   799 48DE 19 FF FF		ksztY91b_	ora $ffff,y
   800
   801 = 48E1			nznakY91b_	equ *
   802 48E1 99 FF FF					sta $ffff,y	
   803 							
   804 = 48E4			sznakY92b_	equ *
   805 48E4 B9 FF FF					lda $ffff,y
   806
   807 48E7 39 FF FF		maskY92b_	and $ffff,y
   808 48EA 19 FF FF		ksztY92b_	ora $ffff,y
   809
   810 = 48ED			nznakY92b_	equ *
   811 48ED 99 FF FF					sta $ffff,y			
   812 							
   813 = 48F0			sznakY93b_	equ *
   814 48F0 B9 FF FF					lda $ffff,y
   815 = 48F3			nznakY93b_	equ *
   816 48F3 99 FF FF					sta $ffff,y
   817 							
   818 = 48F6			sznakY94b_	equ *
   819 48F6 B9 FF FF					lda $ffff,y
   820
   821 48F9 39 FF FF		maskY94b_	and $ffff,y
   822 48FC 19 FF FF		ksztY94b_	ora $ffff,y
   823
   824 = 48FF			nznakY94b_	equ *
   825 48FF 99 FF FF					sta $ffff,y	
   826 							
   827 = 4902			sznakY95b_	equ *
   828 4902 B9 FF FF					lda $ffff,y
   829
   830 4905 39 FF FF		maskY95b_	and $ffff,y
   831 4908 19 FF FF		ksztY95b_	ora $ffff,y
   832
   833 = 490B			nznakY95b_	equ *
   834 490B 99 FF FF					sta $ffff,y		
   835 							
   836 = 490E			sznakY96b_	equ *
   837 490E B9 FF FF					lda $ffff,y
   838 = 4911			nznakY96b_	equ *
   839 4911 99 FF FF					sta $ffff,y
   840 							
   841 = 4914			sznakY97b_	equ *
   842 4914 B9 FF FF					lda $ffff,y
   843
   844 4917 39 FF FF		maskY97b_	and $ffff,y
   845 491A 19 FF FF		ksztY97b_	ora $ffff,y
   846
   847 = 491D			nznakY97b_	equ *
   848 491D 99 FF FF					sta $ffff,y	
   849 							
   850 = 4920			sznakY98b_	equ *
   851 4920 B9 FF FF					lda $ffff,y
   852 4923 39 FF FF		maskY98b_	and $ffff,y
   853 4926 19 FF FF		ksztY98b_	ora $ffff,y
   854
   855 = 4929			nznakY98b_	equ *
   856 4929 99 FF FF					sta $ffff,y	
   857 							
   858 492C 88						dey
   859 492D 10 A3					bpl @-
   860 							
   861 492F A6 A6					ldx zapX
   862 4931 A9 00					lda #0
   863 4933 9D 2B 32					sta enemyEkran,x
   864 4936 60						rts	
   865 							
   866 4937			duszkiPrint_code
   867 4937 AD 00 40					lda $4000
   868 493A 8D 67 3A					sta duszkiPrint+13
   869 493D AD D0 BF					lda BANK0
   870 4940 20 92 A7					jsr _duszkiPrint
   871 4943 AD 00 BF					lda $bf00
   872 4946 A8						tay
   873 4947 60						rts			
   874 							
   875 = 4948			draw_end	equ *	
   876
   877 = 4948			czyscObraz1	equ *
   878 4948 A9 80				lda #128
   879 					.rept 29, #	
   880 						:33 STA OBRAZ1+:1*48+#
   881 					.ENDR
   881 					.endr
Source: REPT
   880 494A 8D 88 19 8D 89 19 + 		:33 STA OBRAZ1+0*48+#
   880 49AD 8D B8 19 8D B9 19 + 		:33 STA OBRAZ1+1*48+#
   880 4A10 8D E8 19 8D E9 19 + 		:33 STA OBRAZ1+2*48+#
   880 4A73 8D 18 1A 8D 19 1A + 		:33 STA OBRAZ1+3*48+#
   880 4AD6 8D 48 1A 8D 49 1A + 		:33 STA OBRAZ1+4*48+#
   880 4B39 8D 78 1A 8D 79 1A + 		:33 STA OBRAZ1+5*48+#
   880 4B9C 8D A8 1A 8D A9 1A + 		:33 STA OBRAZ1+6*48+#
   880 4BFF 8D D8 1A 8D D9 1A + 		:33 STA OBRAZ1+7*48+#
   880 4C62 8D 08 1B 8D 09 1B + 		:33 STA OBRAZ1+8*48+#
   880 4CC5 8D 38 1B 8D 39 1B + 		:33 STA OBRAZ1+9*48+#
   880 4D28 8D 68 1B 8D 69 1B + 		:33 STA OBRAZ1+10*48+#
   880 4D8B 8D 98 1B 8D 99 1B + 		:33 STA OBRAZ1+11*48+#
   880 4DEE 8D C8 1B 8D C9 1B + 		:33 STA OBRAZ1+12*48+#
   880 4E51 8D F8 1B 8D F9 1B + 		:33 STA OBRAZ1+13*48+#
   880 4EB4 8D 28 1C 8D 29 1C + 		:33 STA OBRAZ1+14*48+#
   880 4F17 8D 58 1C 8D 59 1C + 		:33 STA OBRAZ1+15*48+#
   880 4F7A 8D 88 1C 8D 89 1C + 		:33 STA OBRAZ1+16*48+#
   880 4FDD 8D B8 1C 8D B9 1C + 		:33 STA OBRAZ1+17*48+#
   880 5040 8D E8 1C 8D E9 1C + 		:33 STA OBRAZ1+18*48+#
   880 50A3 8D 18 1D 8D 19 1D + 		:33 STA OBRAZ1+19*48+#
   880 5106 8D 48 1D 8D 49 1D + 		:33 STA OBRAZ1+20*48+#
   880 5169 8D 78 1D 8D 79 1D + 		:33 STA OBRAZ1+21*48+#
   880 51CC 8D A8 1D 8D A9 1D + 		:33 STA OBRAZ1+22*48+#
   880 522F 8D D8 1D 8D D9 1D + 		:33 STA OBRAZ1+23*48+#
   880 5292 8D 08 1E 8D 09 1E + 		:33 STA OBRAZ1+24*48+#
   880 52F5 8D 38 1E 8D 39 1E + 		:33 STA OBRAZ1+25*48+#
   880 5358 8D 68 1E 8D 69 1E + 		:33 STA OBRAZ1+26*48+#
   880 53BB 8D 98 1E 8D 99 1E + 		:33 STA OBRAZ1+27*48+#
   880 541E 8D C8 1E 8D C9 1E + 		:33 STA OBRAZ1+28*48+#
Source: bank3.asm
   882 				/*		lda #128
   883 						ldx #32
   884 				@		:29 sta obraz1+#*48,x
   885 						dex
   886 						bpl @-*/
   886
   887 						
   888 5481 60					rts	
   889
   890 = 5482			czyscObraz2	equ *
   891 5482 A9 80				lda #128
   892 					.rept 29, #	
   893 						:33 STA OBRAZ2+:1*48+#
   894 					.ENDR
   894 					.endr
Source: REPT
   893 5484 8D 80 20 8D 81 20 + 		:33 STA OBRAZ2+0*48+#
   893 54E7 8D B0 20 8D B1 20 + 		:33 STA OBRAZ2+1*48+#
   893 554A 8D E0 20 8D E1 20 + 		:33 STA OBRAZ2+2*48+#
   893 55AD 8D 10 21 8D 11 21 + 		:33 STA OBRAZ2+3*48+#
   893 5610 8D 40 21 8D 41 21 + 		:33 STA OBRAZ2+4*48+#
   893 5673 8D 70 21 8D 71 21 + 		:33 STA OBRAZ2+5*48+#
   893 56D6 8D A0 21 8D A1 21 + 		:33 STA OBRAZ2+6*48+#
   893 5739 8D D0 21 8D D1 21 + 		:33 STA OBRAZ2+7*48+#
   893 579C 8D 00 22 8D 01 22 + 		:33 STA OBRAZ2+8*48+#
   893 57FF 8D 30 22 8D 31 22 + 		:33 STA OBRAZ2+9*48+#
   893 5862 8D 60 22 8D 61 22 + 		:33 STA OBRAZ2+10*48+#
   893 58C5 8D 90 22 8D 91 22 + 		:33 STA OBRAZ2+11*48+#
   893 5928 8D C0 22 8D C1 22 + 		:33 STA OBRAZ2+12*48+#
   893 598B 8D F0 22 8D F1 22 + 		:33 STA OBRAZ2+13*48+#
   893 59EE 8D 20 23 8D 21 23 + 		:33 STA OBRAZ2+14*48+#
   893 5A51 8D 50 23 8D 51 23 + 		:33 STA OBRAZ2+15*48+#
   893 5AB4 8D 80 23 8D 81 23 + 		:33 STA OBRAZ2+16*48+#
   893 5B17 8D B0 23 8D B1 23 + 		:33 STA OBRAZ2+17*48+#
   893 5B7A 8D E0 23 8D E1 23 + 		:33 STA OBRAZ2+18*48+#
   893 5BDD 8D 10 24 8D 11 24 + 		:33 STA OBRAZ2+19*48+#
   893 5C40 8D 40 24 8D 41 24 + 		:33 STA OBRAZ2+20*48+#
   893 5CA3 8D 70 24 8D 71 24 + 		:33 STA OBRAZ2+21*48+#
   893 5D06 8D A0 24 8D A1 24 + 		:33 STA OBRAZ2+22*48+#
   893 5D69 8D D0 24 8D D1 24 + 		:33 STA OBRAZ2+23*48+#
   893 5DCC 8D 00 25 8D 01 25 + 		:33 STA OBRAZ2+24*48+#
   893 5E2F 8D 30 25 8D 31 25 + 		:33 STA OBRAZ2+25*48+#
   893 5E92 8D 60 25 8D 61 25 + 		:33 STA OBRAZ2+26*48+#
   893 5EF5 8D 90 25 8D 91 25 + 		:33 STA OBRAZ2+27*48+#
   893 5F58 8D C0 25 8D C1 25 + 		:33 STA OBRAZ2+28*48+#
Source: bank3.asm
   895 5FBB 60					rts		
   896 									
   897 				// S T A R T		
   898 						
   899 5FBC			start_program	
   900 5FBC 20 60 AC				jsr play_logo
   901
   902 5FBF A9 00 8D 00 D4			mva #0 dmactl
   903 5FC4 85 70				sta stan_gry
   904 5FC6 8D 08 E8				sta audctl
   905 5FC9 8D 39 30				sta v_audctl
   906 5FCC 8D 07 C0				sta hposm3
   907 5FCF 8D 0E D4				sta nmien
   908 5FD2 8D 0E E8				sta irqen
   909 5FD5 85 71				sta muzyka
   910 5FD7 85 74				sta znakX1
   911 5FD9 85 75				sta znakY1
   912 5FDB 85 72				sta znakDX
   913 5FDD 85 73				sta znakDY
   914 5FDF 8D 84 32				sta hscore+2
   915 5FE2 8D 0B E8				sta potg0
   916 5FE5 8D 11 31				sta punkty
   917 5FE8 A9 01 8D 9B 36			mva #1 sFire
   918 5FED A9 03 8D AB 36			mva #3 forLicznik
   919 5FF2 8D AC 36				sta dowodca
   920 						
   921 5FF5 A9 0A 8D 12 31			mva #10 punkty1
   922 5FFA A9 03 8D 13 31			mva #opoznienieRed punkty2
   923 5FFF A9 07 8D 55 36			mva #opoznienieCondition punkty3
   924 						
   925 6004 A9 02 8D 0F E8			mva #2 skctl
   926 6009 A9 02 8D 01 D4			mva #2 chrctl	;znaki w inwersie
   927 600E A9 04 8D 1F C0			mva #4 consol	;wlacz joystick
   928 						
   929 6013 A9 08 85 D8				mva #8 _gwzmaz
   930 6017 85 DA				sta _gwzmaz1
   931 6019 A9 10 85 D9				mva #16 _gwzmaz+1
   932 601D 85 DB				sta _gwzmaz1+1
   933 						
   934 						
   935 601F A9 00 8D 82 32 A9 + 		mwa #$2000 hscore	;ustaw hscore na 20000
   936 						
   937 6029 A9 B0				lda #pozWyniki-1
   938 602B 8D 03 C0				sta hposp3
   939 						
   940 602E A9 86 8D 02 02 A9 + 		mwa #vblk vbiv
   941 6038 A9 38 8D 06 02 A9 + 		mwa #dli dliv
   942 6042 A9 82 8D 00 02 A9 + 		mwa #pokey irqv
   943 604C A9 49 8D 08 02 A9 + 		mwa #interrupt keyv
   944 6056 A9 49 8D 0A 02 A9 + 		mwa #interrupt padv
   945 						
   946 				;tabX w RAM
   947 6060 A0 50				ldy #80
   948 6062 A2 D0				ldx #208
   949 6064 8A			@		txa
   950 6065 9D 00 08				sta tabx,x		;od 208 do 79 -> (208-79)
   951 6068 99 00 08				sta tabX,y		;od 80 do 207 -> (208-79)
   952 606B C8					iny
   953 606C E8					inx
   954 606D E0 50				cpx #80
   955 606F D0 F3				bne @-	
   956 						
   957 				;kopiuj zestaw znakÃ³w
   958 6071 A2 00					ldx #0
   959 6073 BD A8 40		@			lda znaki_ad,x
   960 6076 9D 00 10					sta znaki1,x
   961 6079 9D 00 14					sta znaki2,x
   962 607C BD A8 41					lda znaki_ad+$100,x
   963 607F 9D 00 11					sta znaki1+$100,x
   964 6082 9D 00 15					sta znaki2+$100,x
   965 6085 BD A8 42					lda znaki_ad+$200,x
   966 6088 9D 00 12					sta znaki1+$200,x
   967 608B 9D 00 16					sta znaki2+$200,x
   968 608E CA						dex
   969 608F D0 E2					bne @-
   970 							
   971 6091 A2 1F					ldx #31
   972 6093 BD C0 42		@			lda bomba1,x
   973 6096 9D F8 14					sta znaki2+firstBombaChar*8,x
   974 6099 CA						dex
   975 609A 10 F7					bpl @-
   976 						
   977 609C A2 07					ldx #7
   978 609E BD E0 42		@			lda rakieta1,x
   979 60A1 9D 38 15					sta znaki2+firstRakietaChar*8,x
   980 60A4 BD E8 42					lda rakieta1+8,x
   981 60A7 9D 50 15					sta znaki2+(firstRakietaChar+3)*8,x
   982 60AA BD F0 42					lda rakieta1+16,x
   983 60AD 9D 58 15					sta znaki2+(firstRakietaChar+4)*8,x
   984 60B0 BD F8 42					lda rakieta1+24,x
   985 60B3 9D 70 15					sta znaki2+(firstRakietaChar+7)*8,x
   986 60B6 BD B0 42					lda mwybuch2,x
   987 60B9 9D F8 15					sta znaki2+firstMalyWybuchChar*8,x
   988 60BC BD B8 42					lda mwybuch2+8,x
   989 60BF 9D 00 16					sta znaki2+firstMalyWybuchChar*8+8,x
   990 60C2 BD A8 42					lda mwybuch2-8,x
   991 60C5 9D 00 12					sta znaki1+firstMalyWybuchChar*8+8,x
   992 60C8 CA						dex
   993 60C9 10 D3					bpl @-	
   994
   995 				;dlist
   996 60CB A9 D0 8D 20 02			mva #$d0 dlist
   997 60D0 A9 74 8D 21 02			mva #$74 dlist+1
   998 60D5 A9 80 8D 22 02 A9 + 		mwa #obraz2 dlist+2
   999 60DF A0 1A				ldy #26
  1000 60E1 A9 34				lda #$34
  1001 60E3 99 24 02		@		sta dlist+4,y
  1002 60E6 88					dey
  1003 60E7 10 FA				bpl @-
  1004 60E9 A9 14 8D 3F 02			mva #$14 dlist+31
  1005 60EE A9 41 8D 40 02			mva #$41 dlist+32
  1006 60F3 A9 20 8D 41 02 A9 + 		mwa #dlist dlist+33	
  1007
  1008 				;gwiazdyInit
  1009 60FD A2 11				ldx #17
  1010 60FF BD 00 43		@		lda znakXa,x
  1011 6102 95 76				sta znakX,x
  1012 6104 BD 12 43				lda znakYa,x
  1013 6107 95 88				sta znakY,x
  1014 6109 CA					dex
  1015 610A 10 F3				bpl @- 
  1016 						
  1017 610C A2 6C				ldx #108
  1018 610E BD 24 43		@		lda pokey_obx,x
  1019 6111 95 00				sta 0,x
  1020 6113 CA					dex
  1021 6114 10 F8				bpl @-
  1022 						
  1023 6116 A2 13				ldx #19
  1024 6118 BD E0 83		@		lda hscnick_init,x
  1025 611B 9D E3 30				sta hscNick1,x
  1026 611E CA					dex
  1027 611F 10 F7				bpl @-
  1028
  1029 				//przygotuj najlepsze wyniki		
  1030 6121 A2 12				ldx #18
  1031 6123 A9 00				lda #0
  1032 6125 9D F7 30		@		sta hscScore1,x
  1033 6128 CA					dex
  1034 6129 CA					dex
  1035 612A 10 F9				bpl @-
  1036 						
  1037 612C A2 13				ldx #19
  1038 612E A9 02		@		lda #2
  1039 6130 9D F7 30				sta hscScore1,x
  1040 6133 CA					dex
  1041 6134 CA					dex
  1042 6135 A9 20				lda #$20
  1043 6137 9D F7 30				sta hscScore1,x
  1044 613A CA					dex
  1045 613B CA					dex
  1046 613C 10 F0				bpl @-
  1047 						
  1048 613E A2 FE				ldx #254
  1049 6140 BD F3 83		@		lda efnap1_code-1,x
  1050 6143 9D 20 31				sta efnap1-1,x
  1051 6146 CA					dex
  1052 6147 D0 F7				bne @-
  1053 						
  1054 				;kopiujemy przerwanie vbl do ram
  1055 6149 A2 B3				ldx #vblk_codeend-vblk_code+1
  1056 614B BD 90 43		@		lda vblk_code-1,x
  1057 614E 9D 85 32				sta vblk-1,x
  1058 6151 CA					dex
  1059 6152 D0 F7				bne @-	
  1060
  1061 				;kopiujemy przerwania dli i pokey do ram
  1062 6154 A2 00				ldx #0
  1063 6156 BD 43 44		@		lda dli_code,x
  1064 6159 9D 38 33				sta dli,x
  1065 615C BD 43 45				lda dli_code+$100,x
  1066 615F 9D 38 34				sta dli+$100,x
  1067 6162 BD 55 47				lda drawDX4_,x
  1068 6165 9D 78 38				sta drawDX4,x
  1069 6168 CA					dex
  1070 6169 D0 EB				bne @-
  1071 						
  1072 616B A2 82				ldx #pokey_codeend-dli_code-$200
  1073 616D BD 42 46		@		lda dli_code+$200-1,x
  1074 6170 9D 37 35				sta dli+$200-1,x
  1075 6173 CA					dex
  1076 6174 D0 F7				bne @-
  1077 						
  1078 				//kopiujemy hsdlist i hsdlist1 do ram
  1079 6176 A2 A7				ldx #88+79
  1080 6178 BD 00 40		@		lda hsdlist_code-1,x
  1081 617B 9D 3B 30				sta hsdlist-1,x
  1082 617E CA					dex
  1083 617F D0 F7				bne @-		
  1084 						
  1085 				//init rmt
  1086 6181 A2 11				ldx #17
  1087 6183 BD C5 46		@		lda init_rmt_code,x
  1088 6186 9D 1D 38				sta init_rmt,x
  1089 6189 BD E7 46				lda sfx_rmt_code,x
  1090 618C 9D F9 37				sta sfx_rmt,x
  1091 618F BD F9 46				lda getSongLine_rmt_code,x
  1092 6192 9D 0B 38				sta getSongLine_rmt,x
  1093 6195 CA					dex
  1094 6196 10 EB				bpl @-
  1095 						
  1096 				//play rmt
  1097 6198 A2 11				ldx #17
  1098 619A BD D7 46		@		lda play_rmt_code,x
  1099 619D 9D 2F 38				sta play_rmt,x
  1100 61A0 CA					dex
  1101 61A1 10 F7				bpl @-	
  1102
  1103 				//skok do title
  1104 61A3 A2 09				ldx #9
  1105 61A5 BD 0B 47		@		lda skok_title_code,x
  1106 61A8 9D 3F 38				sta skok_title,x
  1107 61AB CA					dex
  1108 61AC 10 F7				bpl @-
  1109 						
  1110 				//jmp do innego banku
  1111 61AE A2 0E				ldx #14
  1112 61B0 BD 2E 47		@		lda jmp_bank_code,x
  1113 61B3 9D 69 38				sta jmp_bank,x
  1114 61B6 CA					dex
  1115 61B7 10 F7				bpl @-
  1116 						
  1117 						
  1118 				//skok do do adresu X,Y
  1119 61B9 A2 18				ldx #24
  1120 61BB BD 15 47		@		lda go_bank_code,x
  1121 61BE 9D 50 38				sta go_bank,x
  1122 61C1 CA					dex
  1123 61C2 10 F7				bpl @-
  1124 						
  1125 61C4 A2 17				ldx #23
  1126 61C6 BD 3D 47		@		lda mute_rmt_code,x
  1127 61C9 9D E1 37				sta mute_rmt,x
  1128 61CC CA					dex
  1129 61CD 10 F7				bpl @-
  1130 						
  1131 				//duszki drawDX,DY
  1132 61CF A2 F3				ldx #draw_end-drawDX4_-$100
  1133 61D1 BD 54 48		@		lda drawDX4_+$100-1,x
  1134 61D4 9D 77 39				sta drawDX4+$100-1,x
  1135 61D7 CA					dex
  1136 61D8 D0 F7				bne @-
  1137 						
  1138 				//tablica adresÃ³w znakÃ³w		
  1139 61DA A9 00 85 9B A9 10 + 		mwa #znaki1	pom
  1140 61E2 A0 00				ldy #0
  1141 61E4 A5 9B		@		lda pom
  1142 61E6 99 00 2D				sta adresZnakL,y
  1143 61E9 99 80 2D				sta adresZnakL+128,y
  1144 61EC A5 9C				lda pom+1
  1145 61EE 99 00 2E				sta adresZnakH,y
  1146 61F1 99 80 2E				sta adresZnakH+128,y
  1147 61F4 18					clc
  1148 61F5 A5 9B				lda pom
  1149 61F7 69 08				adc #8
  1150 61F9 85 9B				sta pom
  1151 61FB 90 02				bcc *+4
  1152 61FD E6 9C				inc pom+1
  1153 61FF C8					iny
  1154 6200 10 E2				bpl @-
  1155 					
  1156 				//adresy linii obrazu	
  1157 6202 A9 00 85 9B A9 18 + 		mwa #obraz1a pom
  1158 620A A9 F8 85 9D A9 1E + 		mwa #obraz2a pom1
  1159 6212 A0 00				ldy #0
  1160 6214 A5 9B		@		lda pom
  1161 6216 99 4D 37				sta obraz1La,y
  1162 6219 A5 9C				lda pom+1
  1163 621B 99 72 37				sta obraz1Ha,y
  1164 621E A5 9D				lda pom1
  1165 6220 99 97 37				sta obraz2La,y
  1166 6223 A5 9E				lda pom1+1
  1167 6225 99 BC 37				sta obraz2Ha,y
  1168 6228 18					clc
  1169 6229 A5 9B				lda pom
  1170 622B 69 30				adc #48
  1171 622D 85 9B				sta pom
  1172 622F 90 02				bcc @+
  1173 6231 E6 9C				inc pom+1
  1174 6233 18			@		clc
  1175 6234 A5 9D				lda pom1
  1176 6236 69 30				adc #48
  1177 6238 85 9D				sta pom1
  1178 623A 90 02				bcc @+
  1179 623C E6 9E				inc pom1+1
  1180 623E C8			@		iny
  1181 623F C0 25				cpy #37
  1182 6241 D0 D1				bne @-2		
  1183 						
  1184 						;adresy linii obraz1LH
  1185 6243 A9 88 85 9B A9 19 + 		mwa #obraz1 pom
  1186 624B A9 80 85 9D A9 20 + 		mwa #obraz2 pom1
  1187 6253 A0 00				ldy #0
  1188 6255 A5 9B		@		lda pom
  1189 6257 99 D9 36				sta obraz1L,y
  1190 625A A5 9C				lda pom+1
  1191 625C 99 F6 36				sta obraz1H,y
  1192 625F A5 9D				lda pom1
  1193 6261 99 13 37				sta obraz2L,y
  1194 6264 A5 9E				lda pom1+1
  1195 6266 99 30 37				sta obraz2H,y
  1196 6269 18					clc
  1197 626A A5 9B				lda pom
  1198 626C 69 30				adc #48
  1199 626E 85 9B				sta pom
  1200 6270 90 02				bcc @+
  1201 6272 E6 9C				inc pom+1
  1202 6274 18			@		clc
  1203 6275 A5 9D				lda pom1
  1204 6277 69 30				adc #48
  1205 6279 85 9D				sta pom1
  1206 627B 90 02				bcc @+
  1207 627D E6 9E				inc pom1+1
  1208 627F C8			@		iny
  1209 6280 C0 1D				cpy #29
  1210 6282 D0 D1				bne @-2		
  1211 						
  1212 				;wyczysc tablice dla baz
  1213 6284 A2 0E				ldx #14
  1214 6286 A9 00				lda #0
  1215 6288 9D 00 01		@		sta tabLineA,x
  1216 628B CA					dex
  1217 628C 10 FA				bpl @-
  1218 						
  1219 				;przerwania tymczasowo w ram
  1220 628E A9 40 8D 49 38			mva #$40 interrupt	;rti
  1221 						
  1222 				;procedura skoku
  1223 						
  1224
  1225 6293 A9 AD 8D 4A 38			mva #$ad  run1		;lda $ffff
  1226 6298 A9 D8 8D 4B 38 A9 + 		mwa #$bfd8 run1+1	;bank14
  1227 62A2 A9 4C 8D 4D 38			mva #$4c run1+3			;jmp $ffff
  1228 62A7 A9 1B 8D 4E 38 A9 + 		mwa #run	run1+4
  1229 						
  1230 62B1 4C 4A 38				jmp run1
  1231
  1232 62B4					icl 'title.asm'
Source: title.asm
     1 62B4 EE 82 EE 28 EE EE + shp5200	.he ee,82,ee,28,ee,ee,aa,aa,aa,ee
     2 = 0031			kol0	equ sam
     3 = 0032			poz0	equ sam+1
     4
     5 62BE			waitvbl1
     6 62BE A5 6F				lda zegar
     7 62C0 C5 6F				cmp zegar
     8 62C2 F0 FC				beq *-2
     9 62C4 60					rts
    10 						
    11 = 62C5			czarnyPanel1	equ	*
    12 62C5 A9 FF					lda #255  
    13 62C7 A2 00					ldx #0
    14 62C9 9D 00 07		@			sta sprites+$700,x  ;wypelniamy 4 duszka
    15 62CC CA						dex
    16 62CD D0 FA					bne @-
    17 							
    18 62CF A2 F0					ldx #240
    19 62D1 9D 00 0F		@			sta sprites1+$700,x
    20 62D4 CA						dex
    21 62D5 D0 FA					bne @-
    22 							
    23 							
    24 							
    25 62D7 8D 0C 0F					sta sprites1+$700+12
    26 62DA 8D F2 0F					sta sprites1+$700+242
    27 62DD A9 7E					lda #126
    28 62DF 8D 0A 0F					sta sprites1+$700+10
    29 62E2 8D F4 0F					sta sprites1+$700+244
    30 62E5 A9 3C					lda #60
    31 62E7 8D 08 0F					sta sprites1+$700+8
    32 62EA 8D F6 0F					sta sprites1+$700+246
    33 							
    34 62ED A9 00					lda #0
    35 62EF 8D 0D 0F					sta sprites1+$700+13
    36 62F2 8D 0B 0F					sta sprites1+$700+11
    37 62F5 8D 09 0F					sta sprites1+$700+9
    38 62F8 8D F1 0F					sta sprites1+$700+241
    39 62FB 8D F3 0F					sta sprites1+$700+243
    40 62FE 8D F5 0F					sta sprites1+$700+245
    41 6301 8D F7 0F					sta sprites1+$700+247
    42 							
    43 6304 60						rts		
    44
    45 				;strona tytuÅ‚owa
    46 = 6305			Title		equ *
    47 6305 A2 C6				ldx #<MODUL					;low byte of RMT module to X reg
    48 6307 A0 42				ldy #>MODUL					;hi byte of RMT module to Y reg
    49 6309 A9 06				lda #$06						;starting song line 0-255 to A reg 	
    50 630B 20 1D 38				jsr init_rmt
    51
    52 630E A9 06 85 9A				mva #6 kolpom0			;ntsc
    53
    54 6312 A9 01 85 70				mva #1 stan_gry		;nie wlaczamy muzyki w przerwaniu
    55
    56 6316 A9 00 85 32				mva #0 poz0
    57 631A 20 8E 70				jsr prepare_title
    58 631D 20 BE 62				jsr waitvbl1
    59 = 6320			Title2	equ *
    60 6320 20 34 71				jsr title_init
    61
    62 6323 A9 00 8D 1C 31			mva #0 atariX1
    63
    64 6328 A9 10				lda #>znaki1
    65 632A 8D 09 D4				sta CHBASE
    66
    67 						
    68 						
    69
    70 632D A9 20 8D 02 D4 A9 + 		mwa #dlist	DLPTR
    71 6337 A9 00 85 6F				mva #0 zegar
    72 633B A9 40 8D 0E D4			mva #%01000000 NMIEN		;wylacz przerwania DLI i IRQ
    73 6340 A9 3A 8D 00 D4			mva #58 DMACTL
    74 						
    75 6345 A9 01 85 B6				mva #1 strz1
    76 						
    77 6349 20 F9 6D				jsr ppanel
    78
    79 634C 20 AA 71		@		jsr printNapis
    80 634F 20 F9 6D				jsr ppanel		;bez irq
    81 						
    82 6352 AD 10 C0				lda FIRE
    83 6355 D0 03				bne *+5
    84 6357 4C BE 62				jmp waitvbl1
    85 						
    86 						;jsr waitvbl1
    87 						
    88 635A A5 AB				lda pozNapis
    89 635C C9 1D				cmp #29
    90 635E 90 EC				bcc @-
    91 6360 A9 00 85 B6				mva #0 strz1
    92 						
    93 6364 20 F9 6D		@		jsr ppanel
    94
    95 6367 AD 10 C0				lda FIRE
    96 636A D0 03				bne *+5	
    97 636C 4C BE 62				jmp waitvbl1
    98 					
    99 						;jsr waitvbl1
   100 636F 20 F9 6D				jsr ppanel
   101
   102 6372 20 97 72				jsr efektNapis1
   103 						
   104 6375 A5 A6				lda napisX
   105 6377 10 EB				bpl @-	
   106 						
   107 						
   108 						.rept 5,#
   109 						LDA SHP5200+:1
   110 						STA SPRITES+$48C+:1*2
   111 						STA SPRITES+$48D+:1*2
   112 						LDA SHP5200+5+:1
   113 						STA SPRITES+$58C+:1*2
   114 						STA SPRITES+$58D+:1*2
   115 						.ENDR
   115 						.endr
Source: REPT
   109 6379 AD B4 62				LDA SHP5200+0
   109 637C 8D 8C 04				STA SPRITES+$48C+0*2
   109 637F 8D 8D 04				STA SPRITES+$48D+0*2
   109 6382 AD B9 62				LDA SHP5200+5+0
   109 6385 8D 8C 05				STA SPRITES+$58C+0*2
   109 6388 8D 8D 05				STA SPRITES+$58D+0*2
   109 638B AD B5 62				LDA SHP5200+1
   109 638E 8D 8E 04				STA SPRITES+$48C+1*2
   109 6391 8D 8F 04				STA SPRITES+$48D+1*2
   109 6394 AD BA 62				LDA SHP5200+5+1
   109 6397 8D 8E 05				STA SPRITES+$58C+1*2
   109 639A 8D 8F 05				STA SPRITES+$58D+1*2
   109 639D AD B6 62				LDA SHP5200+2
   109 63A0 8D 90 04				STA SPRITES+$48C+2*2
   109 63A3 8D 91 04				STA SPRITES+$48D+2*2
   109 63A6 AD BB 62				LDA SHP5200+5+2
   109 63A9 8D 90 05				STA SPRITES+$58C+2*2
   109 63AC 8D 91 05				STA SPRITES+$58D+2*2
   109 63AF AD B7 62				LDA SHP5200+3
   109 63B2 8D 92 04				STA SPRITES+$48C+3*2
   109 63B5 8D 93 04				STA SPRITES+$48D+3*2
   109 63B8 AD BC 62				LDA SHP5200+5+3
   109 63BB 8D 92 05				STA SPRITES+$58C+3*2
   109 63BE 8D 93 05				STA SPRITES+$58D+3*2
   109 63C1 AD B8 62				LDA SHP5200+4
   109 63C4 8D 94 04				STA SPRITES+$48C+4*2
   109 63C7 8D 95 04				STA SPRITES+$48D+4*2
   109 63CA AD BD 62				LDA SHP5200+5+4
   109 63CD 8D 94 05				STA SPRITES+$58C+4*2
   109 63D0 8D 95 05				STA SPRITES+$58D+4*2
Source: title.asm
   116 							
   117 63D3 A9 9E 85 32				mva #160-2 poz0
   118 						
   119
   120 63D7 20 F9 6D		@		jsr ppanel
   121 63DA A0 20				ldy #32
   122 63DC 20 21 31				jsr efnap1
   123
   124 63DF A9 84				lda #$84
   125 63E1 8D 16 C0				sta COLPF0
   126 						
   127 63E4 A0 07				ldy #7
   128 63E6 A9 00				lda #0
   129 63E8 99 29 1B		@		sta obraz1+19+29+7*48+33,y
   130 63EB 99 89 1E				sta obraz1+19+29+25*48+33,y
   131 63EE 99 99 1D				sta obraz1+19+29+20*48+33,y
   132 63F1 99 F9 1D				sta obraz1+19+29+22*48+33,y
   133 63F4 99 39 1D				sta obraz1+19+29+18*48+33,y
   134 63F7 99 69 1D				sta obraz1+19+29+19*48+33,y
   135 63FA 99 C9 1D				sta obraz1+19+29+21*48+33,y
   136 63FD 99 29 1E				sta obraz1+19+29+23*48+33,y
   137 6400 88					dey
   138 6401 10 E5				bpl @-
   139 						
   140 						
   141 6403 A9 F7				lda #%11110111
   142 6405 8D 9F 04 8D A0 04 + 		:7 sta sprites+$4a0-1+#
   143 641A A9 70				lda #%01110000
   144 641C 8D 9F 05 8D A0 05 + 		:7 sta sprites+$5a0-1+#	
   145
   146 						.rept 12, #
   147 						LDA CODET+:1
   148 						STA OBRAZ1+19+7+28+18*48+:1
   149 						.ENDR
   149 						.endr
Source: REPT
   147 6431 AD 36 70				LDA CODET+0
   147 6434 8D 1E 1D				STA OBRAZ1+19+7+28+18*48+0
   147 6437 AD 37 70				LDA CODET+1
   147 643A 8D 1F 1D				STA OBRAZ1+19+7+28+18*48+1
   147 643D AD 38 70				LDA CODET+2
   147 6440 8D 20 1D				STA OBRAZ1+19+7+28+18*48+2
   147 6443 AD 39 70				LDA CODET+3
   147 6446 8D 21 1D				STA OBRAZ1+19+7+28+18*48+3
   147 6449 AD 3A 70				LDA CODET+4
   147 644C 8D 22 1D				STA OBRAZ1+19+7+28+18*48+4
   147 644F AD 3B 70				LDA CODET+5
   147 6452 8D 23 1D				STA OBRAZ1+19+7+28+18*48+5
   147 6455 AD 3C 70				LDA CODET+6
   147 6458 8D 24 1D				STA OBRAZ1+19+7+28+18*48+6
   147 645B AD 3D 70				LDA CODET+7
   147 645E 8D 25 1D				STA OBRAZ1+19+7+28+18*48+7
   147 6461 AD 3E 70				LDA CODET+8
   147 6464 8D 26 1D				STA OBRAZ1+19+7+28+18*48+8
   147 6467 AD 3F 70				LDA CODET+9
   147 646A 8D 27 1D				STA OBRAZ1+19+7+28+18*48+9
   147 646D AD 40 70				LDA CODET+10
   147 6470 8D 28 1D				STA OBRAZ1+19+7+28+18*48+10
   147 6473 AD 41 70				LDA CODET+11
   147 6476 8D 29 1D				STA OBRAZ1+19+7+28+18*48+11
Source: title.asm
   150 						
   151 						.rept 16, #
   152 						LDA CODET1+:1
   153 						STA OBRAZ1+19+7+28+19*48+:1
   154 						MVA #$32 DLIST+21
   155 						STA DLIST+22
   156 						.ENDR
   156 						.endr
Source: REPT
   152 6479 AD 42 70				LDA CODET1+0
   152 647C 8D 4E 1D				STA OBRAZ1+19+7+28+19*48+0
   152 647F A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6484 8D 36 02				STA DLIST+22
   152 6487 AD 43 70				LDA CODET1+1
   152 648A 8D 4F 1D				STA OBRAZ1+19+7+28+19*48+1
   152 648D A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6492 8D 36 02				STA DLIST+22
   152 6495 AD 44 70				LDA CODET1+2
   152 6498 8D 50 1D				STA OBRAZ1+19+7+28+19*48+2
   152 649B A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64A0 8D 36 02				STA DLIST+22
   152 64A3 AD 45 70				LDA CODET1+3
   152 64A6 8D 51 1D				STA OBRAZ1+19+7+28+19*48+3
   152 64A9 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64AE 8D 36 02				STA DLIST+22
   152 64B1 AD 46 70				LDA CODET1+4
   152 64B4 8D 52 1D				STA OBRAZ1+19+7+28+19*48+4
   152 64B7 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64BC 8D 36 02				STA DLIST+22
   152 64BF AD 47 70				LDA CODET1+5
   152 64C2 8D 53 1D				STA OBRAZ1+19+7+28+19*48+5
   152 64C5 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64CA 8D 36 02				STA DLIST+22
   152 64CD AD 48 70				LDA CODET1+6
   152 64D0 8D 54 1D				STA OBRAZ1+19+7+28+19*48+6
   152 64D3 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64D8 8D 36 02				STA DLIST+22
   152 64DB AD 49 70				LDA CODET1+7
   152 64DE 8D 55 1D				STA OBRAZ1+19+7+28+19*48+7
   152 64E1 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64E6 8D 36 02				STA DLIST+22
   152 64E9 AD 4A 70				LDA CODET1+8
   152 64EC 8D 56 1D				STA OBRAZ1+19+7+28+19*48+8
   152 64EF A9 32 8D 35 02			MVA #$32 DLIST+21
   152 64F4 8D 36 02				STA DLIST+22
   152 64F7 AD 4B 70				LDA CODET1+9
   152 64FA 8D 57 1D				STA OBRAZ1+19+7+28+19*48+9
   152 64FD A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6502 8D 36 02				STA DLIST+22
   152 6505 AD 4C 70				LDA CODET1+10
   152 6508 8D 58 1D				STA OBRAZ1+19+7+28+19*48+10
   152 650B A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6510 8D 36 02				STA DLIST+22
   152 6513 AD 4D 70				LDA CODET1+11
   152 6516 8D 59 1D				STA OBRAZ1+19+7+28+19*48+11
   152 6519 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 651E 8D 36 02				STA DLIST+22
   152 6521 AD 4E 70				LDA CODET1+12
   152 6524 8D 5A 1D				STA OBRAZ1+19+7+28+19*48+12
   152 6527 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 652C 8D 36 02				STA DLIST+22
   152 652F AD 4F 70				LDA CODET1+13
   152 6532 8D 5B 1D				STA OBRAZ1+19+7+28+19*48+13
   152 6535 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 653A 8D 36 02				STA DLIST+22
   152 653D AD 50 70				LDA CODET1+14
   152 6540 8D 5C 1D				STA OBRAZ1+19+7+28+19*48+14
   152 6543 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6548 8D 36 02				STA DLIST+22
   152 654B AD 51 70				LDA CODET1+15
   152 654E 8D 5D 1D				STA OBRAZ1+19+7+28+19*48+15
   152 6551 A9 32 8D 35 02			MVA #$32 DLIST+21
   152 6556 8D 36 02				STA DLIST+22
Source: title.asm
   157 6559 20 F9 6D				jsr ppanel
   158 						
   159 655C A9 7D				lda #%01111101			;music and sfx
   160 655E 8D AF 04 8D B0 04 + 		:7 sta sprites+$4b0-1+#
   161 6573 A9 DC				lda #%11011100
   162 6575 8D AF 05 8D B0 05 + 		:7 sta sprites+$5b0-1+#
   163 658A A9 F8				lda #%11111000				;pictures
   164 658C 8D BF 04 8D C0 04 + 		:7 sta sprites+$4c0-1+#
   165 65A1 A9 FC				lda #%11111100
   166 65A3 8D BF 05 8D C0 05 + 		:7 sta sprites+$5c0-1+#
   167 						
   168 						.rept 14, #
   169 						LDA SFXT+:1
   170 						STA OBRAZ1+19+8+28+20*48+:1
   171 						LDA THESTARDESTROYER+:1
   172 						STA OBRAZ1+19+12+28+7*48+:1
   173 						.ENDR
   173 						.endr
Source: REPT
   169 65B8 AD 52 70				LDA SFXT+0
   169 65BB 8D 7F 1D				STA OBRAZ1+19+8+28+20*48+0
   169 65BE AD 16 70				LDA THESTARDESTROYER+0
   169 65C1 8D 13 1B				STA OBRAZ1+19+12+28+7*48+0
   169 65C4 AD 53 70				LDA SFXT+1
   169 65C7 8D 80 1D				STA OBRAZ1+19+8+28+20*48+1
   169 65CA AD 17 70				LDA THESTARDESTROYER+1
   169 65CD 8D 14 1B				STA OBRAZ1+19+12+28+7*48+1
   169 65D0 AD 54 70				LDA SFXT+2
   169 65D3 8D 81 1D				STA OBRAZ1+19+8+28+20*48+2
   169 65D6 AD 18 70				LDA THESTARDESTROYER+2
   169 65D9 8D 15 1B				STA OBRAZ1+19+12+28+7*48+2
   169 65DC AD 55 70				LDA SFXT+3
   169 65DF 8D 82 1D				STA OBRAZ1+19+8+28+20*48+3
   169 65E2 AD 19 70				LDA THESTARDESTROYER+3
   169 65E5 8D 16 1B				STA OBRAZ1+19+12+28+7*48+3
   169 65E8 AD 56 70				LDA SFXT+4
   169 65EB 8D 83 1D				STA OBRAZ1+19+8+28+20*48+4
   169 65EE AD 1A 70				LDA THESTARDESTROYER+4
   169 65F1 8D 17 1B				STA OBRAZ1+19+12+28+7*48+4
   169 65F4 AD 57 70				LDA SFXT+5
   169 65F7 8D 84 1D				STA OBRAZ1+19+8+28+20*48+5
   169 65FA AD 1B 70				LDA THESTARDESTROYER+5
   169 65FD 8D 18 1B				STA OBRAZ1+19+12+28+7*48+5
   169 6600 AD 58 70				LDA SFXT+6
   169 6603 8D 85 1D				STA OBRAZ1+19+8+28+20*48+6
   169 6606 AD 1C 70				LDA THESTARDESTROYER+6
   169 6609 8D 19 1B				STA OBRAZ1+19+12+28+7*48+6
   169 660C AD 59 70				LDA SFXT+7
   169 660F 8D 86 1D				STA OBRAZ1+19+8+28+20*48+7
   169 6612 AD 1D 70				LDA THESTARDESTROYER+7
   169 6615 8D 1A 1B				STA OBRAZ1+19+12+28+7*48+7
   169 6618 AD 5A 70				LDA SFXT+8
   169 661B 8D 87 1D				STA OBRAZ1+19+8+28+20*48+8
   169 661E AD 1E 70				LDA THESTARDESTROYER+8
   169 6621 8D 1B 1B				STA OBRAZ1+19+12+28+7*48+8
   169 6624 AD 5B 70				LDA SFXT+9
   169 6627 8D 88 1D				STA OBRAZ1+19+8+28+20*48+9
   169 662A AD 1F 70				LDA THESTARDESTROYER+9
   169 662D 8D 1C 1B				STA OBRAZ1+19+12+28+7*48+9
   169 6630 AD 5C 70				LDA SFXT+10
   169 6633 8D 89 1D				STA OBRAZ1+19+8+28+20*48+10
   169 6636 AD 20 70				LDA THESTARDESTROYER+10
   169 6639 8D 1D 1B				STA OBRAZ1+19+12+28+7*48+10
   169 663C AD 5D 70				LDA SFXT+11
   169 663F 8D 8A 1D				STA OBRAZ1+19+8+28+20*48+11
   169 6642 AD 21 70				LDA THESTARDESTROYER+11
   169 6645 8D 1E 1B				STA OBRAZ1+19+12+28+7*48+11
   169 6648 AD 5E 70				LDA SFXT+12
   169 664B 8D 8B 1D				STA OBRAZ1+19+8+28+20*48+12
   169 664E AD 22 70				LDA THESTARDESTROYER+12
   169 6651 8D 1F 1B				STA OBRAZ1+19+12+28+7*48+12
   169 6654 AD 5F 70				LDA SFXT+13
   169 6657 8D 8C 1D				STA OBRAZ1+19+8+28+20*48+13
   169 665A AD 23 70				LDA THESTARDESTROYER+13
   169 665D 8D 20 1B				STA OBRAZ1+19+12+28+7*48+13
Source: title.asm
   174 						
   175 						.rept 17, #
   176 						LDA SFXT1+:1
   177 						STA OBRAZ1+19+8+28+21*48+:1
   178 						LDA PICT1+:1
   179 						STA OBRAZ1+19+8+28+23*48+1+:1
   180 						.ENDR
   180 						.endr
Source: REPT
   176 6660 AD 60 70				LDA SFXT1+0
   176 6663 8D AF 1D				STA OBRAZ1+19+8+28+21*48+0
   176 6666 AD 7D 70				LDA PICT1+0
   176 6669 8D 10 1E				STA OBRAZ1+19+8+28+23*48+1+0
   176 666C AD 61 70				LDA SFXT1+1
   176 666F 8D B0 1D				STA OBRAZ1+19+8+28+21*48+1
   176 6672 AD 7E 70				LDA PICT1+1
   176 6675 8D 11 1E				STA OBRAZ1+19+8+28+23*48+1+1
   176 6678 AD 62 70				LDA SFXT1+2
   176 667B 8D B1 1D				STA OBRAZ1+19+8+28+21*48+2
   176 667E AD 7F 70				LDA PICT1+2
   176 6681 8D 12 1E				STA OBRAZ1+19+8+28+23*48+1+2
   176 6684 AD 63 70				LDA SFXT1+3
   176 6687 8D B2 1D				STA OBRAZ1+19+8+28+21*48+3
   176 668A AD 80 70				LDA PICT1+3
   176 668D 8D 13 1E				STA OBRAZ1+19+8+28+23*48+1+3
   176 6690 AD 64 70				LDA SFXT1+4
   176 6693 8D B3 1D				STA OBRAZ1+19+8+28+21*48+4
   176 6696 AD 81 70				LDA PICT1+4
   176 6699 8D 14 1E				STA OBRAZ1+19+8+28+23*48+1+4
   176 669C AD 65 70				LDA SFXT1+5
   176 669F 8D B4 1D				STA OBRAZ1+19+8+28+21*48+5
   176 66A2 AD 82 70				LDA PICT1+5
   176 66A5 8D 15 1E				STA OBRAZ1+19+8+28+23*48+1+5
   176 66A8 AD 66 70				LDA SFXT1+6
   176 66AB 8D B5 1D				STA OBRAZ1+19+8+28+21*48+6
   176 66AE AD 83 70				LDA PICT1+6
   176 66B1 8D 16 1E				STA OBRAZ1+19+8+28+23*48+1+6
   176 66B4 AD 67 70				LDA SFXT1+7
   176 66B7 8D B6 1D				STA OBRAZ1+19+8+28+21*48+7
   176 66BA AD 84 70				LDA PICT1+7
   176 66BD 8D 17 1E				STA OBRAZ1+19+8+28+23*48+1+7
   176 66C0 AD 68 70				LDA SFXT1+8
   176 66C3 8D B7 1D				STA OBRAZ1+19+8+28+21*48+8
   176 66C6 AD 85 70				LDA PICT1+8
   176 66C9 8D 18 1E				STA OBRAZ1+19+8+28+23*48+1+8
   176 66CC AD 69 70				LDA SFXT1+9
   176 66CF 8D B8 1D				STA OBRAZ1+19+8+28+21*48+9
   176 66D2 AD 86 70				LDA PICT1+9
   176 66D5 8D 19 1E				STA OBRAZ1+19+8+28+23*48+1+9
   176 66D8 AD 6A 70				LDA SFXT1+10
   176 66DB 8D B9 1D				STA OBRAZ1+19+8+28+21*48+10
   176 66DE AD 87 70				LDA PICT1+10
   176 66E1 8D 1A 1E				STA OBRAZ1+19+8+28+23*48+1+10
   176 66E4 AD 6B 70				LDA SFXT1+11
   176 66E7 8D BA 1D				STA OBRAZ1+19+8+28+21*48+11
   176 66EA AD 88 70				LDA PICT1+11
   176 66ED 8D 1B 1E				STA OBRAZ1+19+8+28+23*48+1+11
   176 66F0 AD 6C 70				LDA SFXT1+12
   176 66F3 8D BB 1D				STA OBRAZ1+19+8+28+21*48+12
   176 66F6 AD 89 70				LDA PICT1+12
   176 66F9 8D 1C 1E				STA OBRAZ1+19+8+28+23*48+1+12
   176 66FC AD 6D 70				LDA SFXT1+13
   176 66FF 8D BC 1D				STA OBRAZ1+19+8+28+21*48+13
   176 6702 AD 8A 70				LDA PICT1+13
   176 6705 8D 1D 1E				STA OBRAZ1+19+8+28+23*48+1+13
   176 6708 AD 6E 70				LDA SFXT1+14
   176 670B 8D BD 1D				STA OBRAZ1+19+8+28+21*48+14
   176 670E AD 8B 70				LDA PICT1+14
   176 6711 8D 1E 1E				STA OBRAZ1+19+8+28+23*48+1+14
   176 6714 AD 6F 70				LDA SFXT1+15
   176 6717 8D BE 1D				STA OBRAZ1+19+8+28+21*48+15
   176 671A AD 8C 70				LDA PICT1+15
   176 671D 8D 1F 1E				STA OBRAZ1+19+8+28+23*48+1+15
   176 6720 AD 70 70				LDA SFXT1+16
   176 6723 8D BF 1D				STA OBRAZ1+19+8+28+21*48+16
   176 6726 AD 8D 70				LDA PICT1+16
   176 6729 8D 20 1E				STA OBRAZ1+19+8+28+23*48+1+16
Source: title.asm
   181
   182 						.rept 12, #
   183 						LDA PICT+:1
   184 						STA OBRAZ1+19+8+28+22*48+1+:1
   185 						.ENDR
   185 						.endr
Source: REPT
   183 672C AD 71 70				LDA PICT+0
   183 672F 8D E0 1D				STA OBRAZ1+19+8+28+22*48+1+0
   183 6732 AD 72 70				LDA PICT+1
   183 6735 8D E1 1D				STA OBRAZ1+19+8+28+22*48+1+1
   183 6738 AD 73 70				LDA PICT+2
   183 673B 8D E2 1D				STA OBRAZ1+19+8+28+22*48+1+2
   183 673E AD 74 70				LDA PICT+3
   183 6741 8D E3 1D				STA OBRAZ1+19+8+28+22*48+1+3
   183 6744 AD 75 70				LDA PICT+4
   183 6747 8D E4 1D				STA OBRAZ1+19+8+28+22*48+1+4
   183 674A AD 76 70				LDA PICT+5
   183 674D 8D E5 1D				STA OBRAZ1+19+8+28+22*48+1+5
   183 6750 AD 77 70				LDA PICT+6
   183 6753 8D E6 1D				STA OBRAZ1+19+8+28+22*48+1+6
   183 6756 AD 78 70				LDA PICT+7
   183 6759 8D E7 1D				STA OBRAZ1+19+8+28+22*48+1+7
   183 675C AD 79 70				LDA PICT+8
   183 675F 8D E8 1D				STA OBRAZ1+19+8+28+22*48+1+8
   183 6762 AD 7A 70				LDA PICT+9
   183 6765 8D E9 1D				STA OBRAZ1+19+8+28+22*48+1+9
   183 6768 AD 7B 70				LDA PICT+10
   183 676B 8D EA 1D				STA OBRAZ1+19+8+28+22*48+1+10
   183 676E AD 7C 70				LDA PICT+11
   183 6771 8D EB 1D				STA OBRAZ1+19+8+28+22*48+1+11
Source: title.asm
   186 						
   187 6774 A9 32 8D 37 02			mva #$32 dlist+23
   188 6779 8D 38 02				sta dlist+24
   189 677C 8D 39 02				sta dlist+25
   190 677F 8D 3A 02				sta dlist+26
   191 6782 8D 2A 02				sta dlist+10
   192 						
   193 6785 A9 44 8D BB 36			mva #kolorLogo duszek4kolor
   194 678A A9 2B 8D BC 36			mva #43 duszek4pos
   195 						
   196 678F A9 05				lda #5
   197 6791 8D 46 07 8D 47 07 + 		:8 sta sprites+$700+startWyniki+54+#
   198 						
   199 67A9 A9 00				lda #0
   200 67AB 8D DF 04				sta sprites+$4df
   201 67AE 8D DF 05				sta sprites+$5df
   202 						
   203 67B1 20 F9 6D				jsr ppanel
   204 						
   205 67B4 A9 CC				lda #%11001100 				;last line
   206 67B6 8D D7 04 8D D8 04 + 		:7 sta sprites+$4d8-1+#
   207 67CB A9 30				lda #%00110000
   208 67CD 8D D7 05 8D D8 05 + 		:7 sta sprites+$5d8-1+#
   209 						
   210 67E2 A9 80				lda #$80
   211 67E4 8D 68 1E 8D 69 1E + 		:40 sta obraz1+19+29+25*48+#
   212 						
   213 						.rept 18, #
   214 						LDA ATARIVERSION+:1
   215 						STA OBRAZ1+19+11+28+25*48+:1
   216 						.ENDR
   216 						.endr
Source: REPT
   214 685C AD 24 70				LDA ATARIVERSION+0
   214 685F 8D 72 1E				STA OBRAZ1+19+11+28+25*48+0
   214 6862 AD 25 70				LDA ATARIVERSION+1
   214 6865 8D 73 1E				STA OBRAZ1+19+11+28+25*48+1
   214 6868 AD 26 70				LDA ATARIVERSION+2
   214 686B 8D 74 1E				STA OBRAZ1+19+11+28+25*48+2
   214 686E AD 27 70				LDA ATARIVERSION+3
   214 6871 8D 75 1E				STA OBRAZ1+19+11+28+25*48+3
   214 6874 AD 28 70				LDA ATARIVERSION+4
   214 6877 8D 76 1E				STA OBRAZ1+19+11+28+25*48+4
   214 687A AD 29 70				LDA ATARIVERSION+5
   214 687D 8D 77 1E				STA OBRAZ1+19+11+28+25*48+5
   214 6880 AD 2A 70				LDA ATARIVERSION+6
   214 6883 8D 78 1E				STA OBRAZ1+19+11+28+25*48+6
   214 6886 AD 2B 70				LDA ATARIVERSION+7
   214 6889 8D 79 1E				STA OBRAZ1+19+11+28+25*48+7
   214 688C AD 2C 70				LDA ATARIVERSION+8
   214 688F 8D 7A 1E				STA OBRAZ1+19+11+28+25*48+8
   214 6892 AD 2D 70				LDA ATARIVERSION+9
   214 6895 8D 7B 1E				STA OBRAZ1+19+11+28+25*48+9
   214 6898 AD 2E 70				LDA ATARIVERSION+10
   214 689B 8D 7C 1E				STA OBRAZ1+19+11+28+25*48+10
   214 689E AD 2F 70				LDA ATARIVERSION+11
   214 68A1 8D 7D 1E				STA OBRAZ1+19+11+28+25*48+11
   214 68A4 AD 30 70				LDA ATARIVERSION+12
   214 68A7 8D 7E 1E				STA OBRAZ1+19+11+28+25*48+12
   214 68AA AD 31 70				LDA ATARIVERSION+13
   214 68AD 8D 7F 1E				STA OBRAZ1+19+11+28+25*48+13
   214 68B0 AD 32 70				LDA ATARIVERSION+14
   214 68B3 8D 80 1E				STA OBRAZ1+19+11+28+25*48+14
   214 68B6 AD 33 70				LDA ATARIVERSION+15
   214 68B9 8D 81 1E				STA OBRAZ1+19+11+28+25*48+15
   214 68BC AD 34 70				LDA ATARIVERSION+16
   214 68BF 8D 82 1E				STA OBRAZ1+19+11+28+25*48+16
   214 68C2 AD 35 70				LDA ATARIVERSION+17
   214 68C5 8D 83 1E				STA OBRAZ1+19+11+28+25*48+17
Source: title.asm
   217 						
   218 						
   219
   220 						
   221 68C8 A9 32 8D 3C 02			mva #$32 dlist+28
   222 						
   223 68CD 20 F9 6D				jsr ppanel
   224
   225 68D0 A9 43 8D 1C 31			mva #67 atariX1
   226 						
   227 68D5 A9 02				lda #2
   228 68D7 8D D0 19				sta obraz1+19+25+28
   229 68DA 8D 4D 1A				sta obraz1+19+25+9+3*48		;gwiazdy
   230 68DD 8D E2 1A				sta obraz1+19+25+14+6*48
   231 68E0 8D B2 1B				sta obraz1+19+25+30+10*48
   232 68E3 8D 61 1C				sta obraz1+19+25+13+14*48
   233 68E6 8D FC 1C				sta obraz1+19+25+24+17*48
   234 68E9 8D A7 1E				sta obraz1+19+25+19+26*48
   235 68EC 8D E1 1E				sta obraz1+19+25+29+27*48
   236 68EF 8D 3C 1E				sta obraz1+19+25+8+24*48
   237 						
   238 68F2 A9 81				lda #129
   239 68F4 8D 2A 1A				sta obraz1+19+25+2*48+22
   240 68F7 8D 93 1A				sta obraz1+19+25+4*48+31
   241 68FA 8D 7A 1B				sta obraz1+19+25+22+9*48
   242
   243 68FD 8D 4F 1E				sta obraz1+19+25+27+24*48
   244 6900 8D D0 1E				sta obraz1+19+25+12+27*48
   245 						
   246 6903 A9 03 85 BA				mva #3 posx
   247 6907 A9 00 85 BB				mva #0 posY
   248 690B A9 24 8D 35 32			mva #36 enemyX+4
   249 6910 A9 0E 8D 41 32			mva #14 enemyY+4
   250 6915 A9 00 8D 4D 32			mva #0 enemyDX+4
   251 691A A9 00 8D 59 32			mva #0 enemyDY+4
   252 691F A9 0C 8D 65 32			mva #12 enemyFaza+4
   253 6924 A9 80 8D 6B 32			mva #EKOLOR1 enemyNegatyw+4
   254 6929 A9 42 8D 77 32			mva >enemy2shapetab enemyShapeH+4
   255 692E A9 00 85 BC				mva #0 ramka
   256 6932 85 BD				sta ramka4
   257 6934 A9 25 85 AB				mva #37 pom0f
   258 6938 85 AC				sta pom0g
   259 693A A9 00 85 AA				mva #0 pom0e	;kierunek 
   260 						
   261
   262 					
   263 693E 20 F9 6D		@		jsr ppanel
   264
   265 6941 AD 10 C0		bbs		lda fire
   266 6944 85 B8				sta strz2
   267 6946 D0 03 4C 63 6A			jeq @+1
   268
   269 					
   270 694B A5 AA				lda pom0e
   271 694D D0 2D				bne bb0
   272
   273 694F A6 AB				ldx pom0f
   274 6951 E0 25				cpx #37
   275 6953 F0 50				beq bb1
   276 6955 AD 0B 31 9D 25 1C + 		:3 mva bufore3+# obraz1-3+#+14*48,x	;odtwÃ³rz ekran po duszku
   277 6967 AD 0E 31 9D 55 1C + 		:3 mva bufore3+3+# obraz1-3+#+15*48,x
   278 6979 4C A5 69				jmp bb1
   279 						
   280 						
   281 697C A6 AB		bb0		ldx pom0f
   282 697E AD 0B 31 9D 75 1A + 		:3 mva bufore3+# obraz1-3+#+5*48,x	;odtwÃ³rz ekran po duszku
   283 6990 AD 0E 31 9D A5 1A + 		:3 mva bufore3+3+# obraz1-3+#+6*48,x
   284 69A2 4C 05 6A				jmp bb2	
   285 						
   286 = 69A5			bb1		equ *		
   287 69A5 38					sec
   288 69A6 AD 4D 32				lda enemyDX+4		;ruch w lewo
   289 69A9 E9 40				sbc #%01000000
   290 69AB 8D 4D 32				sta enemyDX+4
   291 69AE AD 35 32				lda enemyX+4
   292 69B1 E9 00				sbc #0
   293 69B3 29 7F				and #127
   294 69B5 8D 35 32				sta enemyX+4
   295 						
   296 69B8 D0 1C				bne bb1_	;sprawdz czy juz poza ekranem
   297 69BA E6 AA				inc pom0e	;zmien kierunek
   298 69BC A9 00 8D 35 32			mva #0 enemyX+4
   299 69C1 8D 4D 32				sta enemyDX+4
   300 69C4 A9 04 8D 65 32			mva #4 enemyFaza+4
   301 69C9 A9 05 8D 41 32			mva #5 enemyY+4
   302 69CE A9 44 8D 77 32			mva >enemy4shapetab enemyShapeH+4
   303 69D3 4C 05 6A				jmp bb2
   304 						
   305 69D6 AA			bb1_	tax
   306 69D7 86 AB				stx pom0f
   307 69D9 BD 25 1C 8D 0B 31 + 		:3 mva obraz1-3+#+14*48,x bufore3+#	;zapamietaj obszar pod nowÄ… pozycjÄ… duszka
   308 69EB BD 55 1C 8D 0E 31 + 		:3 mva obraz1-3+#+15*48,x bufore3+3+#
   309 						
   310 69FD A2 04				ldx #4
   311 69FF 20 5A 3A				jsr duszkiPrint
   312 6A02 4C 4F 6A				jmp bb3
   313 						
   314 = 6A05			bb2		equ *		
   315 6A05 18					clc
   316 6A06 AD 4D 32				lda enemyDX+4		;ruch w prawo
   317 6A09 69 40				adc #%01000000
   318 6A0B 8D 4D 32				sta enemyDX+4
   319 6A0E AD 35 32				lda enemyX+4
   320 6A11 69 00				adc #0
   321 6A13 29 7F				and #127
   322 6A15 8D 35 32				sta enemyX+4
   323 						
   324 6A18 C9 26				cmp #38
   325 6A1A D0 07				bne bb2_ 
   326 6A1C A9 FE 85 6F				mva #254 zegar
   327 6A20 4C 63 6A				jmp @+1
   328 						
   329 6A23 AA			bb2_	tax
   330 6A24 86 AB				stx pom0f
   331 6A26 BD 75 1A 8D 0B 31 + 		:3 mva obraz1-3+#+5*48,x bufore3+#	;zapamietaj obszar pod nowÄ… pozycjÄ… duszka
   332 6A38 BD A5 1A 8D 0E 31 + 		:3 mva obraz1-3+#+6*48,x bufore3+3+#
   333 						
   334 6A4A A2 04				ldx #4
   335 6A4C 20 5A 3A				jsr duszkiPrint
   336 						
   337 = 6A4F			bb3		equ *
   338 						
   339 6A4F AD 1C 31				lda atariX1
   340 6A52 18					clc
   341 6A53 69 02				adc #2
   342 6A55 C9 90				cmp #144
   343 6A57 90 02				bcc @+
   344 6A59 A9 43				lda #67
   345 6A5B 8D 1C 31		@		sta atariX1
   346 						
   347 6A5E E6 31				inc kol0
   348 6A60 4C 3E 69				jmp @-1	
   349 						
   350 6A63			@		
   351 6A63 20 F9 6D				jsr ppanel
   352 						
   353 						
   354 6A66 A9 34				lda #$34				;zmiana trybu w 2 liniach
   355 6A68 8D 2A 02				sta dlist+10
   356 						
   357 6A6B 8D 35 02				sta dlist+21
   358 6A6E 8D 36 02				sta dlist+22
   359 6A71 8D 37 02				sta dlist+23
   360 6A74 8D 38 02				sta dlist+24
   361 6A77 8D 39 02				sta dlist+25
   362 6A7A 8D 3A 02				sta dlist+26
   363 6A7D 8D 3C 02				sta dlist+28
   364 						
   365 6A80 A9 00				lda #0
   366 6A82 8D D7 0C 8D D8 0C + 		:7 sta sprites1+$4d8-1+#
   367 6A97 8D D7 0D 8D D8 0D + 		:7 sta sprites1+$5d8-1+#
   368 6AAC 8D AF 04 8D B0 04 + 		:7 sta sprites+$4b0-1+#
   369 6AC1 8D AF 05 8D B0 05 + 		:7 sta sprites+$5b0-1+#
   370 6AD6 8D BF 04 8D C0 04 + 		:7 sta sprites+$4c0-1+#
   371 6AEB 8D BF 05 8D C0 05 + 		:7 sta sprites+$5c0-1+#
   372 6B00 8D 9F 04 8D A0 04 + 		:7 sta sprites+$4a0-1+#
   373 6B15 8D 9F 05 8D A0 05 + 		:7 sta sprites+$5a0-1+#	
   374
   375 6B2A 85 32				sta poz0
   376 						.rept 10,#
   377 						STA SPRITES+$48C+:1
   378 						STA SPRITES+$58C+:1
   379 						.ENDR 
   379 						.endr 
Source: REPT
   377 6B2C 8D 8C 04				STA SPRITES+$48C+0
   377 6B2F 8D 8C 05				STA SPRITES+$58C+0
   377 6B32 8D 8D 04				STA SPRITES+$48C+1
   377 6B35 8D 8D 05				STA SPRITES+$58C+1
   377 6B38 8D 8E 04				STA SPRITES+$48C+2
   377 6B3B 8D 8E 05				STA SPRITES+$58C+2
   377 6B3E 8D 8F 04				STA SPRITES+$48C+3
   377 6B41 8D 8F 05				STA SPRITES+$58C+3
   377 6B44 8D 90 04				STA SPRITES+$48C+4
   377 6B47 8D 90 05				STA SPRITES+$58C+4
   377 6B4A 8D 91 04				STA SPRITES+$48C+5
   377 6B4D 8D 91 05				STA SPRITES+$58C+5
   377 6B50 8D 92 04				STA SPRITES+$48C+6
   377 6B53 8D 92 05				STA SPRITES+$58C+6
   377 6B56 8D 93 04				STA SPRITES+$48C+7
   377 6B59 8D 93 05				STA SPRITES+$58C+7
   377 6B5C 8D 94 04				STA SPRITES+$48C+8
   377 6B5F 8D 94 05				STA SPRITES+$58C+8
   377 6B62 8D 95 04				STA SPRITES+$48C+9
   377 6B65 8D 95 05				STA SPRITES+$58C+9
Source: title.asm
   380 							
   381
   382 							
   383 6B68 A9 00 8D BB 36			mva #$00 duszek4kolor
   384 6B6D A9 B0 8D BC 36			mva #pozWyniki-1 duszek4pos
   385 						
   386 6B72 A9 FF				lda #255							
   387 6B74 8D 46 07 8D 47 07 + 		:8 sta sprites+$700+startWyniki+54+#		;przywrÃ³c duszka
   388 					
   389 						
   390 6B8C A9 0A 8D 17 C0			mva #$0a COLPF1
   391 						
   392 6B91 A5 B8				lda strz2
   393 6B93 D0 01				bne @+		;nie wcisnieto fire
   394 						
   395 6B95 60					rts 
   396 						
   397 6B96			@				;wyswietl tabele wynikow
   398 						
   399 6B96 20 8E 77				jsr tabhscore1
   400 						
   401 6B99 A9 24 8D 35 32			mva #36 enemyX+4
   402 6B9E A9 17 8D 41 32			mva #23 enemyY+4
   403 6BA3 A9 0C 8D 65 32			mva #12 enemyFaza+4
   404 6BA8 A9 80 8D 6B 32			mva #EKOLOR1 enemyNegatyw+4
   405 6BAD A9 45 8D 77 32			mva >enemy5shapetab enemyShapeH+4
   406 6BB2 A9 01 85 BC				mva #1 ramka
   407 6BB6 A9 04 85 BD				mva #4 ramka4
   408 6BBA A9 25 85 AB				mva #37 pom0f
   409 6BBE A9 00 85 AA				mva #0 pom0e	;kierunek 
   410
   411 						
   412 				;przygotowanie obrazu1
   413 6BC2 20 65 79				jsr ppanel1
   414
   415 						;mwa #obraz1+19 pom
   416 6BC5 A2 00				ldx #0
   417 6BC7 A9 7D				lda #$7d
   418 6BC9 9D 9B 19		@		sta obraz1+19,x
   419 6BCC E8					inx
   420 6BCD D0 FA				bne @-
   421 						;jsr zakryjObraz
   422 6BCF 20 65 79				jsr ppanel1
   423 						
   424 						;jsr zakryjObraz
   425 6BD2 A2 00				ldx #0
   426 6BD4 A9 7D				lda #$7d
   427 6BD6 9D 9B 1A		@		sta obraz1+$100+19,x
   428 6BD9 E8					inx
   429 6BDA D0 FA				bne @-
   430 6BDC 20 65 79				jsr ppanel1
   431 						
   432 						;jsr zakryjObraz
   433 6BDF A2 00				ldx #0
   434 6BE1 A9 7D				lda #$7d
   435 6BE3 9D 9B 1B		@		sta obraz1+$200+19,x
   436 6BE6 E8					inx
   437 6BE7 D0 FA				bne @-
   438 6BE9 20 65 79				jsr ppanel1
   439 						
   440 						;jsr zakryjObraz
   441 6BEC A2 00				ldx #0
   442 6BEE A9 7D				lda #$7d
   443 6BF0 9D 9B 1C		@		sta obraz1+$300+19,x
   444 6BF3 E8					inx
   445 6BF4 D0 FA				bne @-		
   446 6BF6 20 65 79				jsr ppanel1
   447 						
   448 						;jsr zakryjObraz
   449 6BF9 A2 00				ldx #0
   450 6BFB A9 7D				lda #$7d
   451 6BFD 9D 9B 1D		@		sta obraz1+$400+19,x
   452 6C00 E8					inx
   453 6C01 D0 FA				bne @-		
   454 6C03 20 65 79				jsr ppanel1
   455 						
   456 						;jsr zakryjObraz
   457 6C06 A2 00				ldx #0
   458 6C08 A9 7D				lda #$7d
   459 6C0A 9D 9B 1E		@		sta obraz1+$500+19,x
   460 6C0D E8					inx
   461 6C0E D0 FA				bne @-		
   462 6C10 20 65 79				jsr ppanel1
   463 						
   464 6C13 A9 00				lda #0
   465 6C15 8D DB 1E 8D DC 1E + 		:64 sta obraz1+19+28*48+#
   466 						
   467 						
   468 				;---		
   469 6CD5 20 65 79		@		jsr ppanel1
   470 						
   471 6CD8 A5 AA				lda pom0e
   472 6CDA D0 2D				bne bbb0
   473
   474 6CDC A6 AB				ldx pom0f
   475 6CDE E0 25				cpx #37
   476 6CE0 F0 50				beq bbb1
   477 6CE2 AD 0B 31 9D CD 24 + 		:3 mva bufore3+# obraz2-3+#+23*48,x	;odtwÃ³rz ekran po duszku
   478 6CF4 AD 0E 31 9D FD 24 + 		:3 mva bufore3+3+# obraz2-3+#+24*48,x
   479 6D06 4C 32 6D				jmp bbb1
   480 						
   481 						
   482 6D09 A6 AB		bbb0	ldx pom0f
   483 6D0B AD 0B 31 9D CD 21 + 		:3 mva bufore3+# obraz2-3+#+7*48,x	;odtwÃ³rz ekran po duszku
   484 6D1D AD 0E 31 9D FD 21 + 		:3 mva bufore3+3+# obraz2-3+#+8*48,x
   485 6D2F 4C 92 6D				jmp bbb2	
   486 						
   487 = 6D32			bbb1		equ *		
   488 6D32 38					sec
   489 6D33 AD 4D 32				lda enemyDX+4		;ruch w lewo
   490 6D36 E9 40				sbc #%01000000
   491 6D38 8D 4D 32				sta enemyDX+4
   492 6D3B AD 35 32				lda enemyX+4
   493 6D3E E9 00				sbc #0
   494 6D40 29 7F				and #127
   495 6D42 8D 35 32				sta enemyX+4
   496 						
   497 6D45 D0 1C				bne bbb1_	;sprawdz czy juz poza ekranem
   498 6D47 E6 AA				inc pom0e	;zmien kierunek
   499 6D49 A9 00 8D 35 32			mva #0 enemyX+4
   500 6D4E 8D 4D 32				sta enemyDX+4
   501 6D51 A9 04 8D 65 32			mva #4 enemyFaza+4
   502 6D56 A9 07 8D 41 32			mva #7 enemyY+4
   503 6D5B A9 42 8D 77 32			mva >enemy2shapetab enemyShapeH+4
   504 6D60 4C 92 6D				jmp bbb2
   505 						
   506 6D63 AA			bbb1_	tax
   507 6D64 86 AB				stx pom0f
   508 6D66 BD CD 24 8D 0B 31 + 		:3 mva obraz2-3+#+23*48,x bufore3+#	;zapamietaj obszar pod nowÄ… pozycjÄ… duszka
   509 6D78 BD FD 24 8D 0E 31 + 		:3 mva obraz2-3+#+24*48,x bufore3+3+#
   510 						
   511 6D8A A2 04				ldx #4
   512 6D8C 20 5A 3A				jsr duszkiPrint
   513 6D8F 4C DC 6D				jmp bbb3
   514 						
   515 = 6D92			bbb2		equ *		
   516 6D92 18					clc
   517 6D93 AD 4D 32				lda enemyDX+4		;ruch w prawo
   518 6D96 69 40				adc #%01000000
   519 6D98 8D 4D 32				sta enemyDX+4
   520 6D9B AD 35 32				lda enemyX+4
   521 6D9E 69 00				adc #0
   522 6DA0 29 7F				and #127
   523 6DA2 8D 35 32				sta enemyX+4
   524 						
   525 6DA5 C9 25				cmp #37
   526 6DA7 D0 07				bne bbb2_ 
   527 6DA9 A9 FE 85 6F				mva #254 zegar
   528 6DAD 4C E6 6D				jmp @+
   529 						
   530 6DB0 AA			bbb2_	tax
   531 6DB1 86 AB				stx pom0f
   532 6DB3 BD CD 21 8D 0B 31 + 		:3 mva obraz2-3+#+7*48,x bufore3+#	;zapamietaj obszar pod nowÄ… pozycjÄ… duszka
   533 6DC5 BD FD 21 8D 0E 31 + 		:3 mva obraz2-3+#+8*48,x bufore3+3+#
   534 						
   535 6DD7 A2 04				ldx #4
   536 6DD9 20 5A 3A				jsr duszkiPrint
   537 						
   538 = 6DDC			bbb3		equ *
   539 						
   540 						
   541 6DDC AD 10 C0		bbbs	lda FIRE
   542 6DDF 85 B8				sta strz2
   543 6DE1 F0 03 4C D5 6C			jne @-
   544
   545 = 6DE6			@		equ *
   546 6DE6 20 65 79				jsr ppanel1
   547 6DE9 20 DC 74				jsr tabhs1cls
   548 						
   549 							
   550 6DEC A9 00 8D 07 C0			mva #0 HPOSM3
   551 						
   552 6DF1 A5 B8				lda strz2
   553 6DF3 D0 01				bne @+
   554 					
   555 6DF5 60					rts
   556
   557 6DF6			@		
   558 6DF6 4C 20 63				jmp Title2
   559
   560 				/*
   561 				zakryjObraz	equ *
   562 						ldy #0
   563 						lda #$7d		
   564 				@		sta (pom),y
   565 						dey
   566 						bne @-
   567 						inc pom+1
   568 						rts */
   568
   569 						
   570 				;tworzy prawy panel bez przerwan
   571 = 6DF9			ppanel	equ *
   572 6DF9 20 4D 7D				jsr ppan_1		
   573 6DFC 20 7D 7D				jsr ppan_2
   574 						
   575 6DFF A9 15				lda #21
   576 6E01 CD 0B D4		@		cmp VCOUNT
   577 6E04 D0 FB				bne @-
   578 						
   579 6E06 A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;score
   580 6E0B A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   581 6E10 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   582 6E15 8D 13 C0				sta COLPM1
   583 						
   584 6E18 20 97 7D				jsr ppan_3
   585 6E1B A9 0F 8D 17 C0			mva #$0f COLPF1
   586 						
   587 6E20 A9 22				lda #34
   588 6E22 CD 0B D4		@		cmp VCOUNT
   589 6E25 D0 FB				bne @-
   590 						
   591 6E27 8D 0A D4 8D 0A D4			:2 sta WSYNC
   592 						
   593 6E2D AD BC 36 8D 03 C0			mva duszek4pos	HPOSP3		
   594 6E33 AD BB 36 8D 15 C0			mva duszek4kolor COLPM3		;poczatek litery B
   595 						
   596 6E39 20 BD 7D				jsr ppan_4
   597 						
   598 6E3C A9 26				lda #38
   599 6E3E CD 0B D4		@		cmp VCOUNT
   600 6E41 D0 FB				bne @-
   601 6E43 8D 0A D4 8D 0A D4			:2 sta WSYNC
   602 						
   603 6E49 A9 B0 8D 03 C0			mva #pozWyniki-1 HPOSP3			;koniec litery B
   604 6E4E A9 00 8D 15 C0			mva #0	COLPM3
   605 						
   606 6E53 A9 2F				lda #47
   607 6E55 CD 0B D4		@		cmp VCOUNT
   608 6E58 D0 FB				bne @-
   609 						
   610 6E5A 8D 0A D4				sta WSYNC
   611 6E5D A9 62 8D 15 C0			mva #kolorMapa	COLPM3
   612 							
   613 6E62 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   614 6E67 A9 14				lda #16+4
   615 6E69 8D 0C C0				sta SIZEM
   616 6E6C A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   617 6E71 8D 14 C0				sta COLPM2
   618 6E74 A9 C4 8D 06 C0			mva #pozWyniki+19 HPOSM2
   619 6E79 A9 C8 8D 05 C0			mva #pozWyniki+23 HPOSM1
   620 						
   621 6E7E A9 00 8D 04 C0			mva #0 HPOSM0
   622 6E83 A9 01 8D 0A C0			mva #1 SIZEP2		;przeciwnicy na radarze
   623 6E88 A9 B4 8D 02 C0			mva #pozWyniki+3 HPOSP2
   624 						
   625 						
   626 6E8D A9 46				lda #70
   627 6E8F CD 0B D4		@		cmp vcount
   628 6E92 D0 FB				bne @-
   629 						
   630
   631 6E94 A5 32				lda poz0
   632 6E96 8D 00 C0				sta HPOSP0
   633 6E99 18					clc
   634 6E9A 69 08				adc #8
   635 6E9C 8D 01 C0				sta hposp1
   636 6E9F A5 31				lda kol0
   637 6EA1 8D 12 C0				sta colpm0
   638 6EA4 8D 13 C0				sta colpm1
   639 						
   640 6EA7 A9 4E				lda #78
   641 6EA9 CD 0B D4		@		cmp VCOUNT
   642 6EAC D0 FB				bne @-
   643 						
   644 6EAE A9 03 8D 08 C0			mva #3 SIZEP0
   645 6EB3 8D 09 C0				sta SIZEP1
   646 6EB6 A9 47 8D 00 C0			mva #71 HPOSP0
   647 6EBB A9 30 8D 12 C0			mva #$30 COLPM0
   648 6EC0 A9 67 8D 01 C0			mva #71+32 HPOSP1
   649 						
   650 6EC5 8D 0A D4				sta WSYNC
   651 6EC8 8D 0A D4				sta WSYNC
   652 						
   653 6ECB A0 07				ldy #7
   654 6ECD 8D 0A D4		@		sta WSYNC
   655 6ED0 A9 30 8D 13 C0			mva #$30 COLPM1
   656 6ED5 C6 AD C6 AD C6 AD + 		:6 dec strz0
   657 6EE1 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   658 6EE6 88					dey 
   659 6EE7 D0 E4				bne @-
   660 						
   661 6EE9 A9 0E 8D 17 C0			mva #$0e COLPF1
   662 						
   663 						
   664 6EEE A9 56				lda #86
   665 6EF0 CD 0B D4		@		cmp VCOUNT
   666 6EF3 D0 FB				bne @-
   667 6EF5 A9 0A 8D 17 C0			mva #$0a COLPF1
   668 						
   669 6EFA A9 03 8D 08 C0			mva #3 SIZEP0
   670 6EFF 8D 09 C0				sta SIZEP1
   671 6F02 A9 17 8D 0C C0			mva #%00010111 SIZEM
   672 6F07 A9 67 8D 01 C0			mva #71+32 HPOSP1
   673 6F0C A9 8F 8D 04 C0			mva #71+56+16 HPOSM0
   674 6F11 A2 50				ldx #$50 ;COLPM
   675 						
   676 6F13 8D 0A D4 8D 0A D4			:2 sta WSYNC
   677 6F19 8E 12 C0				stx COLPM0
   678 						
   679 6F1C A0 07				ldy #7
   680 6F1E 8D 0A D4		@		sta WSYNC
   681 6F21 A9 50 8D 13 C0			mva #$50 COLPM1
   682 6F26 C6 AD C6 AD C6 AD + 		:6 dec strz0
   683 6F32 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   684 6F37 88					dey 
   685 6F38 D0 E4				bne @-
   686 						
   687 6F3A A9 0E 8D 17 C0			mva #$0e COLPF1
   688 6F3F 8D 0A D4				sta WSYNC
   689 						
   690 6F42 A9 5E				lda #94
   691 6F44 CD 0B D4		@		cmp VCOUNT
   692 6F47 D0 FB				bne @-
   693 						
   694 6F49 A9 0A 8D 17 C0			mva #$0a COLPF1
   695 6F4E A9 4F 8D 00 C0			mva #75+4 HPOSP0
   696 6F53 A9 B0 8D 12 C0			mva #$b0 COLPM0
   697 6F58 8D 0A D4 8D 0A D4			:2 sta WSYNC
   698 						
   699 6F5E A0 07				ldy #7
   700 6F60 8D 0A D4		@		sta WSYNC
   701 6F63 A9 B0 8D 13 C0			mva #$b0 COLPM1
   702 6F68 C6 AD C6 AD C6 AD + 		:6 dec strz0
   703 6F74 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   704 6F79 88					dey 
   705 6F7A D0 E4				bne @-
   706 						
   707 						
   708 6F7C A9 63				lda #99
   709 6F7E CD 0B D4		@		cmp VCOUNT
   710 6F81 D0 FB				bne @-
   711 						
   712 						
   713 6F83 8D 0A D4				sta WSYNC
   714 6F86 A9 0F 8D 17 C0			mva #$0f COLPF1
   715 6F8B A9 00 8D 00 C0			mva #0 HPOSP0
   716 6F90 8D 01 C0				sta HPOSP1
   717 						
   718 						
   719 6F93 A9 66				lda #102
   720 6F95 CD 0B D4		@		cmp VCOUNT
   721 6F98 D0 FB				bne @-	
   722 						
   723 6F9A A9 0A 8D 17 C0			mva #$0a COLPF1
   724 						
   725 6F9F A9 00 8D 15 C0			mva #0 COLPM3		;koniec mapy zapasowe statki
   726 						
   727 6FA4 8D 0C C0				sta SIZEM
   728 6FA7 8D 0A C0				sta SIZEP2			;zakonczenie mapy
   729 6FAA 8D 02 C0				sta HPOSP2
   730 6FAD 8D 04 C0				sta HPOSM0
   731 6FB0 8D 05 C0				sta HPOSM1
   732 6FB3 8D 06 C0				sta HPOSM2
   733 						
   734 6FB6 A9 69				lda #105
   735 6FB8 CD 0B D4		@		cmp VCOUNT
   736 6FBB D0 FB				bne @-
   737 						
   738 6FBD A9 03 8D 08 C0			mva #3 SIZEP0
   739 6FC2 8D 09 C0				sta SIZEP1
   740 6FC5 A9 0F 8D 12 C0			mva #$0f COLPM0
   741 6FCA A9 08 8D 13 C0			mva #$08 COLPM1
   742
   743 6FCF 8D 0A D4				sta WSYNC
   744 						
   745 6FD2 A9 00				lda #0
   746 6FD4 A2 0A				ldx #$0a
   747 6FD6 AC 1C 31				ldy atariX1
   748 6FD9 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   749
   750 6FE2 8D 17 C0				sta COLPF1
   751 6FE5 8E 18 C0				stx COLPF2
   752 6FE8 8C 00 C0				sty HPOSP0
   753 6FEB 8C 01 C0				sty HPOSP1
   754
   755 						
   756 6FEE A2 3A				ldx #$3a
   757 6FF0 A0 00				ldy #0
   758 6FF2 8D 0A D4 8D 0A D4 + 		:7 sta WSYNC
   759 						
   760 7007 8E 17 C0				stx COLPF1
   761 700A 8C 18 C0				sty COLPF2
   762 700D 8C 00 C0				sty HPOSP0
   763 7010 8C 01 C0				sty HPOSP1
   764
   765 						
   766 7013 4C D9 7D				jmp ppan_end
   767
   768 7016 53 54 41 52 00 44 + theStarDestroyer	dta c'STAR',b(0),c'DESTROYER'
   769 7024 80 D5 CC D4 C9 CD + atariversion		dta b(128),c'ULTIMATE'*,b(128),c'VERSION'*,b(128)	;dta b(0,0),c'FINAL',b(0),c'VER',b(91),b(0),b(94),b(91),b(96),b(0,0)
   770 7036 43 4F 44 45 00 41 + codet				dta c'CODE',b(0),'AND',b(0),'GFX'
   771 7042 4A 41 4E 55 53 5A + codet1				dta c'JANUSZ',b(0),c'CHABOWSKI'
   772 7052 4D 55 53 49 43 00 + sfxt				dta c'MUSIC',b(0),c'AND',b(0),c'SFX',b(0)
   773 7060 4D 49 43 48 41 4C + sfxt1				dta c'MICHAL',b(0),c'SZPILOWSKI'
   774 7071 54 49 54 4C 45 00 + pict				dta c'TITLE',b(0),'SCREEN'
   775 707D 4B 52 5A 59 53 5A + pict1				dta c'KRZYSZTOF',b(0),c'ZIEMBIK'				
   776
   777
   778 = 708E			prepare_title	equ *
   779 708E A9 00 8D 1A 31				mva #0 lives
   780 7093 A9 00 8D 1B 31				mva #0 RadarX
   781 							;jsr printLives
   782 					
   783 				;1
   784 7098 A2 37					ldx #55
   785 709A BD 02 73		@			lda titleChars1,x
   786 709D 9D C8 13					sta znaki1+121*8,x
   787 70A0 CA						dex
   788 70A1 10 F7					bpl @-
   789 							
   790 70A3 20 BF 74					jsr przepiszZnaki
   791 							
   792 70A6 A9 00 8D C7 33				mva #0 kolor1up
   793 							
   794 70AB A2 00					ldx #0
   795 70AD A9 7D					lda #$7d
   796 70AF 9D 9B 19		@			sta obraz1+19,x
   797 70B2 9D 9B 1A					sta obraz1+$100+19,x
   798 70B5 9D 9B 1B					sta obraz1+$200+19,x
   799 70B8 9D 9B 1C					sta obraz1+$300+19,x
   800 70BB 9D 9B 1D					sta obraz1+$400+19,x
   801 70BE 9D 9B 1E					sta obraz1+$500+19,x
   802 70C1 CA						dex
   803 70C2 D0 EB					bne @-
   804 							
   805 70C4 A9 00					lda #0
   806 70C6 A2 3F					ldx #63
   807 70C8 9D DB 1E		@			sta obraz1+19+28*48,x
   808 70CB CA						dex
   809 70CC 10 FA					bpl @-
   810 							
   811 							.rept 16, #
   812 							STA SPRITES+$476+:1
   813 							STA SPRITES+$576+:1
   814 							.ENDR
   814 							.endr
Source: REPT
   812 70CE 8D 76 04					STA SPRITES+$476+0
   812 70D1 8D 76 05					STA SPRITES+$576+0
   812 70D4 8D 77 04					STA SPRITES+$476+1
   812 70D7 8D 77 05					STA SPRITES+$576+1
   812 70DA 8D 78 04					STA SPRITES+$476+2
   812 70DD 8D 78 05					STA SPRITES+$576+2
   812 70E0 8D 79 04					STA SPRITES+$476+3
   812 70E3 8D 79 05					STA SPRITES+$576+3
   812 70E6 8D 7A 04					STA SPRITES+$476+4
   812 70E9 8D 7A 05					STA SPRITES+$576+4
   812 70EC 8D 7B 04					STA SPRITES+$476+5
   812 70EF 8D 7B 05					STA SPRITES+$576+5
   812 70F2 8D 7C 04					STA SPRITES+$476+6
   812 70F5 8D 7C 05					STA SPRITES+$576+6
   812 70F8 8D 7D 04					STA SPRITES+$476+7
   812 70FB 8D 7D 05					STA SPRITES+$576+7
   812 70FE 8D 7E 04					STA SPRITES+$476+8
   812 7101 8D 7E 05					STA SPRITES+$576+8
   812 7104 8D 7F 04					STA SPRITES+$476+9
   812 7107 8D 7F 05					STA SPRITES+$576+9
   812 710A 8D 80 04					STA SPRITES+$476+10
   812 710D 8D 80 05					STA SPRITES+$576+10
   812 7110 8D 81 04					STA SPRITES+$476+11
   812 7113 8D 81 05					STA SPRITES+$576+11
   812 7116 8D 82 04					STA SPRITES+$476+12
   812 7119 8D 82 05					STA SPRITES+$576+12
   812 711C 8D 83 04					STA SPRITES+$476+13
   812 711F 8D 83 05					STA SPRITES+$576+13
   812 7122 8D 84 04					STA SPRITES+$476+14
   812 7125 8D 84 05					STA SPRITES+$576+14
   812 7128 8D 85 04					STA SPRITES+$476+15
   812 712B 8D 85 05					STA SPRITES+$576+15
Source: title.asm
   815 							
   816 712E 20 C5 62					jsr czarnyPanel1
   817 				;2		
   818 7131 4C 34 78					jmp tabhscore2
   819 						
   820 				;Inicjalizacja strony tytuÅ‚owej
   821 = 7134			title_init	equ *
   822 7134 A9 0A					lda #$0A		
   823 7136 8D 16 C0					sta COLPF0
   824 7139 A9 3A					lda #$3a		
   825 713B 8D 17 C0					sta COLPF1
   826 713E A9 00					lda #$00		
   827 7140 8D 18 C0					sta COLPF2
   828 7143 A9 44					lda #kolorLogo
   829 7145 8D 19 C0					sta COLPF3
   830 							
   831 7148 A9 FF					lda #255
   832 714A A2 2C					ldx #44
   833 714C 9D 21 07		@			sta sprites+$700+33,x
   834 714F CA						dex
   835 7150 10 FA					bpl @-
   836 						
   837 									
   838 7152 A9 9B 8D 22 02 A9 + 			mwa #obraz1+19 dlist+2
   839 715C A9 00 8D 05 D4				mva #0 VSCROL
   840 7161 A9 10 8D 09 D4				mva #>znaki1 CHBASE
   841 							
   842 7166 A9 00 8D 1A 31				mva #0 lives
   843 716B A9 00 8D 1B 31				mva #0 RadarX
   844 							;jsr printLives
   845 							
   846 							
   847 7170 A9 B0 8D BC 36				mva #pozWyniki-1 duszek4pos
   848 7175 A9 00 8D BB 36				mva #0 duszek4kolor
   849 							
   850 717A A9 00 85 AB					mva #0 pozNapis	;34 pozNapis
   851 							
   852 717E A9 0E 85 A7					mva #14 napisY
   853 7182 A9 0F 85 A6					mva #15 napisX
   854 7186 A9 01 85 A8					mva #1 napisDX
   855 							
   856 718A A9 0C 85 AA					mva #12 pom0e
   857 718E 8D 04 D4					sta HSCROL
   858 							
   859 7191 A9 37 85 9D A9 1C + 			mwa #obraz1+19+668 pom1		;pozycja poczatkowa dla efektu
   860 							
   861 7199 A9 37					lda #<(obraz1+19+668) 
   862 719B 85 9B					sta pom
   863 719D A9 1C					lda #>(obraz1+19+668) 
   864 719F 85 9C					sta pom+1
   865 							
   866 71A1 A9 67					lda #<(obraz1+19+668+48) 
   867 71A3 85 9D					sta pom1
   868 71A5 A9 1C					lda #>(obraz1+19+668+48) 
   869 71A7 85 9E					sta pom1+1
   870 							
   871 71A9 60						rts
   872
   873 = 00AB			pozNapis	equ pom0f
   874 							
   875 = 71AA			printNapis	equ *	
   876 							
   877 71AA A5 AA					lda pom0e
   878 71AC 8D 04 D4					sta HSCROL		
   879 71AF A5 AA					lda pom0e
   880 71B1 38						sec
   881 71B2 E9 01					sbc #1
   882 71B4 09 0C					ora #%1100
   883 71B6 85 AA					sta pom0e
   884 71B8 C9 0E					cmp #14
   885 71BA F0 01					beq @+
   886 71BC 60						rts
   887 							
   888 71BD A4 AB		@			ldy pozNapis
   889 71BF C0 1B					cpy #27
   890 71C1 B0 45					bcs @+
   891 							.rept 11, #
   892 								LDA TITLENAPIS+#*27,Y
   893 								STA OBRAZ1+19+$120+33+#*48,Y
   894 							.ENDR
   894 							.endr
Source: REPT
   892 71C3 B9 3A 73						LDA TITLENAPIS+#*27,Y
   892 71C6 99 DC 1A						STA OBRAZ1+19+$120+33+#*48,Y
   892 71C9 B9 55 73						LDA TITLENAPIS+#*27,Y
   892 71CC 99 0C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71CF B9 70 73						LDA TITLENAPIS+#*27,Y
   892 71D2 99 3C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71D5 B9 8B 73						LDA TITLENAPIS+#*27,Y
   892 71D8 99 6C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71DB B9 A6 73						LDA TITLENAPIS+#*27,Y
   892 71DE 99 9C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71E1 B9 C1 73						LDA TITLENAPIS+#*27,Y
   892 71E4 99 CC 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71E7 B9 DC 73						LDA TITLENAPIS+#*27,Y
   892 71EA 99 FC 1B						STA OBRAZ1+19+$120+33+#*48,Y
   892 71ED B9 F7 73						LDA TITLENAPIS+#*27,Y
   892 71F0 99 2C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   892 71F3 B9 12 74						LDA TITLENAPIS+#*27,Y
   892 71F6 99 5C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   892 71F9 B9 2D 74						LDA TITLENAPIS+#*27,Y
   892 71FC 99 8C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   892 71FF B9 48 74						LDA TITLENAPIS+#*27,Y
   892 7202 99 BC 1C						STA OBRAZ1+19+$120+33+#*48,Y
Source: title.asm
   895 7205 4C 2B 72					jmp @+1
   896 							
   897 7208 A9 7D		@			lda #$7d			;jesli juz caly tekst na ekranie
   898 							.rept 11, #
   899 								STA OBRAZ1+19+$120+33+#*48,Y
   900 							.ENDR
   900 							.endr
Source: REPT
   899 720A 99 DC 1A						STA OBRAZ1+19+$120+33+#*48,Y
   899 720D 99 0C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 7210 99 3C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 7213 99 6C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 7216 99 9C 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 7219 99 CC 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 721C 99 FC 1B						STA OBRAZ1+19+$120+33+#*48,Y
   899 721F 99 2C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   899 7222 99 5C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   899 7225 99 8C 1C						STA OBRAZ1+19+$120+33+#*48,Y
   899 7228 99 BC 1C						STA OBRAZ1+19+$120+33+#*48,Y
Source: title.asm
   901 							
   902 722B A9 7D		@			lda #$7d
   903 							.rept 6, #
   904 								STA OBRAZ1+19+33+#*48,Y
   905 								STA OBRAZ1+19+33+(#+17)*48,Y
   906 							.ENDR
   906 							.endr
Source: REPT
   904 722D 99 BC 19						STA OBRAZ1+19+33+#*48,Y
   904 7230 99 EC 1C						STA OBRAZ1+19+33+(#+17)*48,Y
   904 7233 99 EC 19						STA OBRAZ1+19+33+#*48,Y
   904 7236 99 1C 1D						STA OBRAZ1+19+33+(#+17)*48,Y
   904 7239 99 1C 1A						STA OBRAZ1+19+33+#*48,Y
   904 723C 99 4C 1D						STA OBRAZ1+19+33+(#+17)*48,Y
   904 723F 99 4C 1A						STA OBRAZ1+19+33+#*48,Y
   904 7242 99 7C 1D						STA OBRAZ1+19+33+(#+17)*48,Y
   904 7245 99 7C 1A						STA OBRAZ1+19+33+#*48,Y
   904 7248 99 AC 1D						STA OBRAZ1+19+33+(#+17)*48,Y
   904 724B 99 AC 1A						STA OBRAZ1+19+33+#*48,Y
   904 724E 99 DC 1D						STA OBRAZ1+19+33+(#+17)*48,Y
Source: title.asm
   907 7251 99 0C 1E 99 3C 1E + 			:5 sta obraz1+19+33+(#+23)*48,y
   908 							
   909 7260 E6 AB					inc pozNapis
   910 7262 EE 22 02					inc dlist+2
   911 							
   912 7265 60						rts
   913 							
   914 = 00A6			napisX		equ pom0a
   915 = 00A7			napisY		equ pom0b
   916 = 00A8			napisDX		equ pom0c	
   917
   918 = 71E9			eftab1		equ *-125
   919 7266 79 FC FB FA					dta b($79,$fc,$fb,$fa)
   920 726A FD			eftab2		dta b(28*9+1)
   921 726B F3 EA E1 D8 CF C6 + 			:13 dta b([28-#-1]*9)
   922 							
   923 7278 21 2A 33 3C 45 4E + eftab3		:14 dta b(<(efnap1+#*9))
   924 7286 31 31 31 31 31 31 + 			:14 dta b(>(efnap1+#*9))
   925 							
   926 7294 6C 9F 00		efn_skok	jmp (pom2)
   927 							
   928 = 7297			efektNapis1	equ *
   929 7297 A4 A7					ldy napisY
   930 7299 C0 0E					cpy #14			;dla 15 nie rysuj pionowych linii
   931 729B B0 29					bcs @+
   932 					
   933 729D B9 78 72					lda eftab3,y
   934 72A0 85 9F					sta pom2
   935 72A2 B9 86 72					lda eftab3+14,y
   936 72A5 85 A0					sta pom2+1
   937 72A7 BE 6A 72					ldx eftab2,y
   938 72AA A9 60					lda #96 		;rts
   939 72AC 9D 21 31					sta efnap1,x
   940 72AF 86 A5					stx pom0
   941 							
   942 72B1 18						clc
   943 72B2 A5 A6					lda napisX
   944 72B4 65 A8					adc napisDX
   945 72B6 A8						tay
   946 72B7 20 94 72					jsr efn_skok	;$ffff
   947 72BA A4 A6					ldy napisX
   948 72BC 20 94 72					jsr efn_skok	;$ffff
   949 							
   950 72BF A6 A5					ldx pom0
   951 72C1 A9 BE					lda #190		;ldx  ,y
   952 72C3 9D 21 31					sta efnap1,x
   953
   954
   955
   956 72C6 A4 A8		@			ldy napisDX
   957 72C8 C0 1D					cpy #29
   958 72CA B0 29					bcs @+1
   959
   960 = 72CC			efn1		equ *			
   961 72CC B1 9B					lda (pom),y
   962 72CE AA						tax
   963 72CF BD E9 71					lda eftab1,x
   964 72D2 91 9B					sta (pom),y
   965 72D4 B1 9D					lda (pom1),y
   966 72D6 AA						tax
   967 72D7 BD E9 71					lda eftab1,x
   968 72DA 91 9D					sta (pom1),y
   969 72DC 88						dey
   970 72DD 10 ED					bpl efn1
   971 							
   972 72DF 38						sec
   973 72E0 A5 9B					lda pom	
   974 72E2 E9 31					sbc #49
   975 72E4 85 9B					sta pom		
   976 72E6 B0 02					bcs @+
   977 72E8 C6 9C					dec pom+1	
   978 						
   979 72EA 18			@			clc
   980 72EB A5 9D					lda pom1	
   981 72ED 69 2F					adc #47
   982 72EF 85 9D					sta pom1		
   983 72F1 90 02					bcc @+
   984 72F3 E6 9E					inc pom1+1		
   985
   986 							
   987 72F5 C6 A6		@			dec napisX
   988 72F7 E6 A8					inc napisDX
   989 72F9 E6 A8					inc napisDX
   990 72FB A5 A7					lda napisY
   991 72FD F0 02					beq @+
   992 72FF C6 A7					dec napisY
   993
   994 7301 60			@			rts
   995 							
   996 = 7302			titleChars1	equ *
   997 7302 00 00 00 00 00 00 + 			:8 dta b(0)				;79
   998 730A FF FF FF FF FF FF + 			:8 dta b(%11111111)		;7a
   999 7312 F0 F0 F0 F0 F0 F0 + 			:8 dta b(%11110000)		;7b
  1000 731A 0F 0F 0F 0F 0F 0F + 			:8 dta b(%00001111)		;7c
  1001 7322 55 55 55 55 55 55 + 			:8 dta b(%01010101)		;7d
  1002 732A 50 50 50 50 50 50 + 			:8 dta b(%01010000)		;7e
  1003 7332 05 05 05 05 05 05 + 			:8 dta b(%00000101)		;7f
  1004 							
  1005 = 733A			titleNapis	equ *
  1006 733A 80 80 7F 7D 7D 7D + 			dta b($80,$80,$7f,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
  1007 7355 80 7D 80 7D 7D 7D + 			dta b($80,$7d,$80,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
  1008 7370 80 7D 7E 7D 7D 7D + 			dta b($80,$7d,$7e,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
  1009 738B 80 7D 80 7D 7D 7D + 			dta b($80,$7d,$80,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
  1010 73A6 80 80 7F 7D 7D 7D + 			dta b($80,$80,$7f,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
  1011 73C1 80 7D 80 7D 7E 80 + 			dta b($80,$7d,$80,$7d,$7e,$80,$7d,$7e,$80,$7d,$7e,$80,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7d)
  1012 73DC 80 7D 7E 7F 80 7E + 			dta b($80,$7d,$7e,$7f,$80,$7e,$7f,$80,$7d,$7d,$80,$7d,$7f,$80,$7e,$7f,$80,$7d,$7f,$7f,$80,$7e,$7f,$80,$7d,$7f,$7d)
  1013 73F7 80 7D 7E 7F 7F 7D + 			dta b($80,$7d,$7e,$7f,$7f,$7d,$7f,$80,$80,$7d,$7f,$7d,$7d,$7f,$7d,$7f,$80,$7f,$7f,$7f,$7f,$7d,$7f,$80,$7f,$7f,$7d)
  1014 7412 80 7D 7E 7F 7F 7D + 			dta b($80,$7d,$7e,$7f,$7f,$7d,$7f,$7d,$7e,$7f,$7f,$7d,$7d,$7f,$7d,$7f,$7f,$80,$7f,$7f,$80,$80,$7f,$7f,$80,$7f,$7d)
  1015 742D 80 80 80 7F 80 7E + 			dta b($80,$80,$80,$7f,$80,$7e,$7f,$7f,$7e,$7f,$80,$7d,$7f,$80,$7e,$7f,$7f,$7e,$7f,$7f,$7f,$7d,$7f,$7f,$7e,$7f,$7d)
  1016 7448 80 80 80 7D 7E 80 + 			dta b($80,$80,$80,$7d,$7e,$80,$7d,$80,$80,$7d,$7e,$80,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7f,$7f,$7d,$7f,$7f,$7d,$7f,$7d)
  1017 							
  1233 7463					icl 'hscore.asm'
Source: hscore.asm
     1 = 2080			hscr	equ obraz2
     2 						
     3 						
     4 7463 00 00 54 48 45 00 + tx1a	dta b(0,0),c'THE',b(0,0),c'LIST',b(0,0),c'OF',b(0)
     5 7473 00 53 50 41 43 45 + tx2a	dta b(0),c'SPACE',b(0,0),'FIGHTERS'		
     6 7483 45 4E 54 45 52 00 + tx1		dta c'ENTER',b(0),c'YOUR',b(0),c'INITIALS',b(0)
     7 7497 00 00 53 43 4F 52 + tx2		dta b(0,0),c'SCORE',b(0,0,0,0,0,0,0),c'NAME',b(0,0)
     8 74AB 42 45 53 54 00	tx3		dta c'BEST',b(0)
     9 74B0 5E 53 54 5F 4E 44 + tx4		dta b(94),c'ST',b(95),c'ND',b(96),c'RD',b(97),c'TH',b(98),c'TH'
    10
    11 				;Przepisuje litery i cyfry do zestawu znaku
    12 = 74BF			przepiszZnaki	equ *
    13 74BF A2 00				ldx #0
    14 74C1 BD 6E 80		@		lda znakiBosc,x
    15 74C4 9D 08 12				sta znaki1+65*8,x
    16 74C7 9D 08 16				sta znaki2+65*8,x
    17 74CA CA					dex
    18 74CB D0 F4				bne @-
    19 						
    20 74CD A2 2F				ldx #47
    21 74CF BD 6E 81		@		lda znakiBosc+$100,x
    22 74D2 9D 08 13				sta znaki1+$100+65*8,x
    23 74D5 9D 08 17				sta znaki2+$100+65*8,x
    24 74D8 CA					dex
    25 74D9 10 F4				bpl @-
    26 						
    27 74DB 60					rts
    28 						
    29 = 74DC			tabhs1cls	equ *
    30 74DC A2 06				ldx #6
    31 74DE A9 00		@		lda #0
    32 74E0 9D 23 06				sta sprites+$600+35,x
    33 74E3 9D 23 07				sta sprites+$700+35,x
    34 74E6 9D 23 03				sta sprites+$300+35,x
    35 74E9 9D 37 06				sta sprites+$600+55,x
    36 74EC 9D 37 07				sta sprites+$700+55,x
    37 74EF 9D 37 03				sta sprites+$300+55,x
    38 74F2 9D 62 04				sta sprites+$400+98,x
    39 74F5 9D 62 05				sta sprites+$500+98,x
    40 74F8 9D 72 04				sta sprites+$400+114,x
    41 74FB 9D 72 05				sta sprites+$500+114,x
    42 74FE 9D 82 05				sta sprites+$500+130,x
    43 7501 9D 92 05				sta sprites+$500+146,x
    44 7504 9D A2 05				sta sprites+$500+162,x
    45 7507 9D B2 05				sta sprites+$500+178,x
    46 750A 9D C2 05				sta sprites+$500+194,x
    47 750D 9D 82 04				sta sprites+$400+130,x
    48 7510 9D 92 04				sta sprites+$400+146,x
    49 7513 9D A2 04				sta sprites+$400+162,x
    50 7516 9D B2 04				sta sprites+$400+178,x
    51 7519 9D C2 04				sta sprites+$400+194,x
    52 751C CA					dex
    53 751D 10 BF				bpl @-
    54 						
    55 751F 60					rts
    56 						
    57 						
    58 				;tylko tabela		
    59 = 7520			tabhs2	equ *
    60 7520 A9 0E				lda #%00001110
    61 7522 8D 23 06 8D 24 06 + 		:7 sta sprites+$600+35+#
    62 7537 A9 79				lda #%01111001
    63 7539 8D 23 07 8D 24 07 + 		:7 sta sprites+$700+35+#
    64 754E A9 80				lda #%10000000
    65 7550 8D 23 03 8D 24 03 + 		:7 sta sprites+$300+35+#
    66 7565 A9 1F				lda #%00011111
    67 7567 8D 37 06 8D 38 06 + 		:7 sta sprites+$600+55+#
    68 757C A9 3F				lda #%00111111
    69 757E 8D 37 07 8D 38 07 + 		:7 sta sprites+$700+55+#
    70 7593 A9 C0				lda #%11000000
    71 7595 8D 37 03 8D 38 03 + 		:7 sta sprites+$300+55+#
    72
    73
    74 						
    75 75AA A2 0F				ldx #15
    76 75AC BD 63 74		@		lda tx1a,x
    77 75AF 9D E8 20				sta hscr+2*48+6+2,x
    78 75B2 BD 73 74				lda tx2a,x
    79 75B5 9D 48 21				sta hscr+4*48+6+2,x
    80 75B8 CA					dex
    81 75B9 10 F1				bpl @-
    82 						
    83 						
    84 75BB 4C 0B 76				jmp tabhs
    85
    86 75BE FE 7E 3E		hsctab	dta b(%11111110,%01111110,%00111110)
    87 						
    88 				;dodawanie swojego wyniku		
    89 = 75C1			tabhs1	equ *
    90 75C1 A9 00				lda #0
    91 75C3 A2 5D				ldx #95-2					;wyczyÅ›Ä‡ duszka 4
    92 75C5 9D 00 07		@		sta sprites+$700,x
    93 75C8 CA					dex
    94 75C9 10 FA				bpl @-
    95
    96 75CB A9 38 8D 17 C0			mva #KOLOR1 COLPF1
    97 						
    98 75D0 A2 06				ldx #6
    99 75D2 A9 FB		@		lda #%11111011
   100 75D4 9D 23 06				sta sprites+$600+35,x
   101 75D7 A9 DF				lda #%11011111
   102 75D9 9D 23 07				sta sprites+$700+35,x
   103 75DC A9 E0				lda #%11100000
   104 75DE 9D 23 03				sta sprites+$300+35,x
   105 75E1 A9 3E				lda #%00111110
   106 75E3 9D 37 06				sta sprites+$600+55,x
   107 75E6 A9 03				lda #%00000011
   108 75E8 9D 37 07				sta sprites+$700+55,x
   109 75EB A9 C0				lda #%11000000
   110 75ED 9D 37 03				sta sprites+$300+55,x
   111 75F0 A9 80				lda #%10000000
   112 75F2 9D 47 07				sta sprites+$700+71,x
   113 						
   114 75F5 CA					dex
   115 75F6 10 DA				bpl @-
   116 						
   117 75F8 A2 13				ldx #19
   118 75FA BD 83 74		@		lda tx1,x			;enter your initials,score name
   119 75FD 9D E6 20				sta hscr+2*48+6,x
   120 7600 BD 97 74				lda tx2,x
   121 7603 9D 46 21				sta hscr+4*48+6,x
   122 7606 A9 80				lda #128
   123 7608 CA					dex
   124 7609 10 EF				bpl @-
   125 						
   126 						
   127 						
   128 						
   129 = 760B			tabhs	equ *		
   130 760B A9 78				lda #%01111000
   131 760D 8D 62 04 8D 63 04 + 		:7 sta sprites+$400+98+#
   132 7622 A9 80				lda #%10000000
   133 7624 8D 62 05 8D 63 05 + 		:7 sta sprites+$500+98+#
   134 7639 A9 F8				lda #%11111000
   135 763B 8D 72 04 8D 73 04 + 		:7 sta sprites+$400+114+#
   136 7650 A9 3C				lda #%00111100
   137 7652 8D 72 05 8D 73 05 + 		:7 sta sprites+$500+114+#
   138 						
   139 7667 A9 00				lda #0
   140 7669 8D 7A 04 8D 7B 04 + 		:7 sta sprites+$400+122+#
   141 767E 8D 7A 05 8D 7B 05 + 		:7 sta sprites+$500+122+#
   142 						
   143 7693 A9 E0				lda #%11100000
   144 7695 8D 82 05 8D 83 05 + 		:7 sta sprites+$500+130+#
   145 76AA 8D 92 05 8D 93 05 + 		:7 sta sprites+$500+146+#
   146 76BF 8D A2 05 8D A3 05 + 		:7 sta sprites+$500+162+#
   147 76D4 8D B2 05 8D B3 05 + 		:7 sta sprites+$500+178+#
   148 76E9 8D C2 05 8D C3 05 + 		:7 sta sprites+$500+194+#
   149 						
   150 76FE AC FA 30				ldy hscScore1+3
   151 7701 B9 BE 75				lda hsctab,y
   152 7704 8D 82 04 8D 83 04 + 		:7 sta sprites+$400+130+#
   153 7719 AC FE 30				ldy hscScore2+3
   154 771C B9 BE 75				lda hsctab,y
   155 771F 8D 92 04 8D 93 04 + 		:7 sta sprites+$400+146+#
   156 7734 AC 02 31				ldy hscScore3+3
   157 7737 B9 BE 75				lda hsctab,y
   158 773A 8D A2 04 8D A3 04 + 		:7 sta sprites+$400+162+#
   159 774F AC 06 31				ldy hscScore4+3
   160 7752 B9 BE 75				lda hsctab,y
   161 7755 8D B2 04 8D B3 04 + 		:7 sta sprites+$400+178+#
   162 776A AC 0A 31				ldy hscScore5+3
   163 776D B9 BE 75				lda hsctab,y
   164 7770 8D C2 04 8D C3 04 + 		:7 sta sprites+$400+194+#
   165 						
   166 7785 A9 00				lda #0
   167 7787 8D 81 04				sta sprites+$400+129
   168 778A 8D 81 05				sta sprites+$500+129 
   169 						
   170 778D 60					rts
   171 					
   172 = 778E			tabhscore1	equ *		
   173 778E A9 00				lda #0
   174 7790 8D 21 07 8D 22 07 + 		:45 sta sprites+$700+33+#		;wyczyÅ›Ä‡ duszka 4
   175
   176 7817 A9 00 8D 20 31			mva #0 kolor0
   177 781C A9 B0 8D 1F 31			mva #pozWyniki-1 nick0
   178 						
   179 7821 20 20 75				jsr tabhs2
   180 7824 A9 3C 8D 02 D4 A9 + 		mwa #hsdlist	DLPTR
   181 782E A9 14 8D 09 D4			mva #>znaki2 CHBASE
   182 7833 60					rts
   183 						
   184 = 7834			tabhscore2	equ *
   185 7834 A9 00				lda #0
   186 7836 A2 00				ldx #0
   187 7838 9D 80 20		@		sta obraz2,x
   188 783B 9D 80 21				sta obraz2+$100,x
   189 783E 9D 80 22				sta obraz2+$200,x
   190 7841 9D 80 23				sta obraz2+$300,x
   191 7844 9D 80 24				sta obraz2+$400,x
   192 7847 CA					dex
   193 7848 D0 EE				bne @-
   194 						
   195 784A A2 0F				ldx #15
   196 784C 9D 80 25		@		sta obraz2+$500,x
   197 784F CA					dex
   198 7850 10 FA				bpl @-
   199 						
   200 7852 A9 14		@		lda #>znaki2
   201 7854 20 BF 74				jsr przepiszZnaki
   202
   203 7857 A2 04				ldx #4
   204 7859 BD AB 74		@		lda tx3,x				;BEST
   205 785C 9D 3D 22				sta hscr+48*9+6+7,x
   206 785F BD 99 74				lda tx2+2,x				;SCORE
   207 7862 9D 9C 22				sta hscr+48*11+6+6,x
   208 7865 BD A5 74				lda	tx2+14,x			;NAME
   209 7868 9D A6 22				sta hscr+48*11+6+16,x
   210 786B CA					dex
   211 786C 10 EB				bpl @-
   212 						
   213 786E A9 62				lda #98			;best ->5
   214 7870 8D 44 22				sta hscr+48*9+6+14
   215 						
   216 7873 A2 02				ldx #2
   217 7875 BD B0 74		@		lda tx4,x				;miejsca
   218 7878 9D F6 22				sta hscr+13*48+6,x
   219 787B BD B3 74				lda tx4+3,x
   220 787E 9D 56 23				sta hscr+15*48+6,x
   221 7881 BD B6 74				lda tx4+6,x
   222 7884 9D B6 23				sta hscr+17*48+6,x
   223 7887 BD B9 74				lda tx4+9,x
   224 788A 9D 16 24				sta hscr+19*48+6,x
   225 788D BD BC 74				lda tx4+12,x
   226 7890 9D 76 24				sta hscr+21*48+6,x	
   227 						
   228 7893 BD E3 30				lda hscNick1,x			;nicki
   229 7896 9D 07 23				sta hscr+13*48+6+17,x
   230 7899 BD E7 30				lda hscNick2,x
   231 789C 9D 67 23				sta hscr+15*48+6+17,x
   232 789F BD EB 30				lda hscNick3,x
   233 78A2 9D C7 23				sta hscr+17*48+6+17,x
   234 78A5 BD EF 30				lda hscNick4,x
   235 78A8 9D 27 24				sta hscr+19*48+6+17,x
   236 78AB BD F3 30				lda hscNick5,x
   237 78AE 9D 87 24				sta hscr+21*48+6+17,x
   238 						
   239 78B1 CA					dex
   240 78B2 10 C1				bpl @-
   241 						
   242 78B4 A2 00				ldx #0
   243 78B6 20 47 79				jsr hscToBuf
   244 78B9 AC FA 30				ldy hscScore1+3
   245 78BC A9 FA				lda <(hscr+13*48+10)
   246 78BE A2 22				ldx >(hscr+13*48+10)
   247 78C0 20 31 79				jsr prhsc
   248 						
   249 78C3 A2 04				ldx #4
   250 78C5 20 47 79				jsr hscToBuf
   251 78C8 AC FE 30				ldy hscScore2+3
   252 78CB A9 5A				lda <(hscr+15*48+10)
   253 78CD A2 23				ldx >(hscr+15*48+10)
   254 78CF 20 31 79				jsr prhsc
   255 						
   256 78D2 A2 08				ldx #8
   257 78D4 20 47 79				jsr hscToBuf
   258 78D7 AC 02 31				ldy hscScore3+3
   259 78DA A9 BA				lda <(hscr+17*48+10)
   260 78DC A2 23				ldx >(hscr+17*48+10)
   261 78DE 20 31 79				jsr prhsc
   262 						
   263 78E1 A2 0C				ldx #12
   264 78E3 20 47 79				jsr hscToBuf
   265 78E6 AC 06 31				ldy hscScore4+3
   266 78E9 A9 1A				lda <(hscr+19*48+10)
   267 78EB A2 24				ldx >(hscr+19*48+10)
   268 78ED 20 31 79				jsr prhsc
   269 						
   270 78F0 A2 10				ldx #16
   271 78F2 20 47 79				jsr hscToBuf
   272 78F5 AC 0A 31				ldy hscScore5+3
   273 78F8 A9 7A				lda <(hscr+21*48+10)
   274 78FA A2 24				ldx >(hscr+21*48+10)
   275 78FC 20 31 79				jsr prhsc
   276 					
   277 						
   278 78FF A9 02				lda #2
   279 7901 8D 9C 20				sta hscr+28			;gwiazdy
   280 7904 8D 18 21				sta hscr+8+3*48
   281 7907 8D E1 21				sta hscr+17+7*48
   282 790A 8D 7E 22				sta hscr+30+10*48
   283 790D 8D 2A 23				sta hscr+10+14*48
   284 7910 8D 95 23				sta hscr+21+16*48
   285 7913 8D B2 24				sta hscr+18+22*48
   286 7916 8D 63 25				sta hscr+3+26*48
   287 						
   288 						
   289 7919 A9 81				lda #129
   290 791B 8D C4 20				sta hscr+1*48+20
   291 791E 8D 71 21				sta hscr+5*48+1
   292 7921 8D 17 22				sta hscr+23+8*48
   293 7924 8D 67 22				sta hscr+7+10*48
   294 7927 8D 49 24				sta hscr+9+20*48
   295 792A 8D 1B 25				sta hscr+27+24*48
   296 792D 8D 70 25				sta hscr+16+26*48
   297 						
   298 7930 60					rts
   299
   300 = 7931			prhsc	equ *
   301 7931 85 9B				sta pom
   302 7933 86 9C				stx pom+1
   303 7935 B9 0B 31		@		lda hscbuf,y
   304 7938 18					clc
   305 7939 69 5D				adc #93
   306 793B 91 9B				sta (pom),y
   307 793D C8					iny
   308 793E C0 06				cpy #6
   309 7940 90 F3				bcc @-
   310 7942 A9 5D				lda #93
   311 7944 91 9B				sta (pom),y
   312 7946 60					rts
   313
   314 = 7947			hscToBuf	equ *		
   315 7947 A0 00				ldy #0
   316 7949 BD F7 30		@		lda hscScore1,x
   317 794C 29 F0				and #$f0
   318 794E 4A 4A 4A 4A				:4 lsr
   319 7952 99 0B 31				sta hscbuf,y
   320 7955 C8					iny
   321 7956 BD F7 30				lda hscScore1,x
   322 7959 29 0F				and #$0f
   323 795B 99 0B 31				sta hscbuf,y
   324 795E C8					iny
   325 795F E8					inx
   326 7960 C0 06				cpy #6
   327 7962 D0 E5				bne @-
   328 7964 60					rts
   329 				/*				
   330 				hsctab1	dta b(6,5,4)
   331
   332 				*/
   332
   333
   334 				;prawy panel podczas wyÅ›wietlania hscore
   335 = 7965			ppanel1	equ *
   336 7965 20 4D 7D				jsr ppan_1
   337 						
   338 7968 A9 10				lda #16
   339 796A CD 0B D4		@		cmp VCOUNT
   340 796D D0 FB				bne @-
   341 						
   342 796F A9 48 8D 02 C0			mva #72 HPOSP2
   343 7974 A9 68 8D 03 C0			mva #72+32 HPOSP3
   344 7979 A9 88 8D 07 C0			mva #72+64 HPOSM3
   345 797E A9 90 8D 06 C0			mva #72+64+8 HPOSM2
   346 7983 A9 03 8D 0A C0			mva #3 SIZEP2
   347 7988 8D 0B C0				sta SIZEP3
   348 798B A9 F0 8D 0C C0			mva #%11110000 SIZEM
   349 						
   350 7990 20 84 7D				jsr ppan_2b
   351 						
   352 7993 A9 30				lda #$30					;Enter your initials | THE LIST OF
   353 7995 8D 14 C0				sta COLPM2
   354 7998 8D 15 C0				sta COLPM3
   355 						
   356 799B A9 14				lda #20
   357 799D CD 0B D4		@		cmp VCOUNT
   358 79A0 D0 FB				bne @-
   359 79A2 8D 0A D4				sta WSYNC
   360 79A5 EA EA EA EA EA EA + 		:18 nop 
   361 						
   362 79B7 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   363 79BC 8D 13 C0				sta COLPM1
   364 79BF 8D 14 C0				sta COLPM2
   365 79C2 A9 00 8D 0C C0			mva #0 SIZEM
   366 79C7 8D 0A C0				sta SIZEP2
   367 79CA A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;score
   368 79CF A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   369 79D4 A9 C3 8D 02 C0			mva #pozWyniki+18 HPOSP2
   370 79D9 A9 C9 8D 06 C0			mva #pozWyniki+24 HPOSM2
   371 						
   372 						
   373 79DE A9 1A				lda #26
   374 79E0 CD 0B D4		@		cmp VCOUNT
   375 79E3 D0 FB				bne @-
   376 						
   377 79E5 A9 48 8D 02 C0			mva #72 HPOSP2
   378 79EA A9 90 8D 06 C0			mva #72+64+8 HPOSM2
   379 79EF A9 03 8D 0A C0			mva #3 SIZEP2
   380 79F4 8D 0B C0				sta SIZEP3
   381 79F7 A9 F0 8D 0C C0			mva #%11110000 SIZEM
   382 						
   383 79FC A9 30				lda #$30					;SCORE NAME | SPACE FIGHTERS
   384 79FE 8D 14 C0				sta COLPM2
   385 						
   386 7A01 20 97 7D				jsr ppan_3
   387 7A04 A9 00 8D 0A C0			mva #0 SIZEP2
   388 7A09 A9 00 8D 0C C0			mva #0 SIZEM
   389 7A0E A9 0C 8D 14 C0			mva #kolorliczby COLPM2
   390 						
   391 7A13 AD 1F 31 8D 03 C0			mva nick0 HPOSP3
   392 7A19 AD 20 31 8D 15 C0			mva kolor0 COLPM3
   393 7A1F A9 0E 8D 17 C0			mva #14 COLPF1
   394 						
   395 7A24 20 BD 7D				jsr ppan_4
   396 						
   397 7A27 A9 2F				lda #47
   398 7A29 CD 0B D4		@		cmp VCOUNT
   399 7A2C D0 FB				bne @-
   400 						
   401 						
   402 7A2E A9 00 8D 15 C0			mva #0 COLPM3
   403 7A33 A9 B0 8D 03 C0			mva #pozWyniki-1 HPOSP3
   404 7A38 A9 03 8D 0B C0			mva #3 SIZEP3
   405 						
   406 						
   407 						
   408 7A3D A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   409 7A42 A9 14				lda #16+4
   410 7A44 8D 0C C0				sta SIZEM
   411 7A47 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   412 7A4C 8D 14 C0				sta COLPM2
   413 7A4F A9 C4 8D 06 C0			mva #pozWyniki+19 HPOSM2
   414 7A54 A9 C8 8D 05 C0			mva #pozWyniki+23 HPOSM1
   415 						
   416 7A59 A9 00 8D 04 C0			mva #0 HPOSM0
   417 7A5E A9 01 8D 0A C0			mva #1 SIZEP2		;przeciwnicy na radarze
   418 7A63 A9 B4 8D 02 C0			mva #pozWyniki+3 HPOSP2
   419 						
   420 7A68 8D 0A D4				sta WSYNC
   421 7A6B A9 62 8D 15 C0			mva #kolorMapa	COLPM3
   422 						
   423 7A70 A9 60 8D 00 C0			mva #96 HPOSP0			
   424 7A75 A9 80 8D 01 C0			mva #96+32 HPOSP1
   425 7A7A A9 03 8D 08 C0			mva #3 SIZEP0
   426 7A7F 8D 09 C0				sta SIZEP1
   427 						
   428 						
   429 7A82 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   430 						
   431 7A8B A9 A0 8D 12 C0			mva #$A0 COLPM0
   432 7A90 A2 06				ldx #6
   433 						
   434 7A92 A9 A0 8D 13 C0	@		mva #$A0 COLPM1
   435 7A97 EA EA EA EA EA EA + 		:14 nop
   436 7AA5 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   437 7AAA 8D 0A D4				sta WSYNC
   438 7AAD CA					dex
   439 7AAE 10 E2				bpl @-
   440 						
   441 						
   442 7AB0 A9 38				lda #56
   443 7AB2 CD 0B D4		@		cmp VCOUNT
   444 7AB5 D0 FB				bne @-
   445 						
   446 7AB7 8D 0A D4 8D 0A D4			:2 sta WSYNC
   447 7ABD A9 D0 8D 12 C0			mva #$D0 COLPM0
   448 7AC2 A2 06				ldx #6
   449 						
   450 						
   451 7AC4 A9 D0 8D 13 C0	@		mva #$D0 COLPM1
   452 7AC9 EA EA EA EA EA EA + 		:14 nop
   453 7AD7 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   454 7ADC 8D 0A D4				sta WSYNC
   455 7ADF CA					dex
   456 7AE0 10 E2				bpl @-
   457 						
   458 						
   459 7AE2 A9 40				lda #64
   460 7AE4 CD 0B D4		@		cmp VCOUNT
   461 7AE7 D0 FB				bne @-
   462 						
   463 7AE9 A2 80				ldx #$80
   464 						
   465 7AEB 8E 12 C0				stx COLPM0
   466 7AEE A9 58 8D 00 C0			mva #96-8 HPOSP0
   467 						
   468 7AF3 20 36 7B				jsr ppan1_a
   469
   470 7AF6 A2 70				ldx #$70
   471 7AF8 20 36 7B				jsr ppan1_a
   472 						
   473 7AFB A2 60				ldx #$60
   474 7AFD 20 36 7B				jsr ppan1_a
   475
   476 7B00 A2 50				ldx #$50
   477 7B02 20 36 7B				jsr ppan1_a
   478 						
   479 7B05 A2 40				ldx #$40
   480 7B07 20 36 7B				jsr ppan1_a
   481
   482 7B0A A9 38 8D 17 C0			mva #Kolor1 COLPF1
   483 						
   484 7B0F A9 66				lda #102
   485 7B11 CD 0B D4		@		cmp VCOUNT
   486 7B14 D0 FB				bne @-
   487 						
   488 7B16 A9 00 8D 15 C0			mva #0 COLPM3		;koniec mapy zapasowe statki
   489 						
   490 7B1B 8D 0C C0				sta SIZEM
   491 7B1E 8D 0A C0				sta SIZEP2			;zakonczenie mapy
   492 7B21 8D 00 C0				sta HPOSP0
   493 7B24 8D 01 C0				sta HPOSP1
   494 7B27 8D 02 C0				sta HPOSP2
   495 7B2A 8D 04 C0				sta HPOSM0
   496 7B2D 8D 05 C0				sta HPOSM1
   497 7B30 8D 06 C0				sta HPOSM2
   498 						
   499 7B33 4C D9 7D				jmp ppan_end
   500
   501 = 7B36			ppan1_a	equ *
   502 7B36 8D 0A D4				sta WSYNC
   503
   504 7B39 A0 07				ldy #7
   505 7B3B 8D 0A D4		@		sta WSYNC
   506 7B3E EA					nop
   507 7B3F 8E 13 C0				stx COLPM1
   508 7B42 A9 48 8D 01 C0			mva #72 HPOSP1
   509 7B47 8E 12 C0				stx COLPM0
   510 7B4A EA EA EA EA EA			:5 nop
   511 7B4F A9 8C 8D 01 C0			mva #140 HPOSP1
   512 7B54 EA EA EA EA				:4 nop
   513 7B58 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   514 7B5D 88					dey 
   515 7B5E D0 DB				bne @-
   516 						
   517 7B60 E0 40				cpx #$40
   518 7B62 F0 18				beq @+
   519 7B64 8D 0A D4 8D 0A D4 + 		:8 sta WSYNC
   520 7B7C 60			@		rts
   521 						
   522
   523 7B7D 43 4F 4E 47 52 41 + texc1	dta c'CONGRATULATIONS',b(0,0,0,92,92)
   524 7B91 54 48 45 00 00 48 + texc2	dta c'THE',b(0,0),c'HIGH',b(0,0),c'SCORE'
   525 7BA1 4F 46 00 54 48 45 + texc3	dta c'OF',b(0),c'THE',b(0),c'DAY'
   526 7BAB 47 4F 00 46 4F 52 + texc4	dta c'GO',b(0),c'FOR',b(0),c'THE'
   527 7BB5 53 50 41 43 45 00 + texc5	dta c'SPACE',b(0),c'RECORD',b(0),c'NOW'		
   528 						
   529 				//najlepszy wynik		
   530 = 7BC5			congrat	equ *
   531 7BC5 A9 94 8D 02 D4 A9 + 		mwa #hsdlist1 DLPTR
   532 7BCF A9 0A 8D 17 C0			mva #10 COLPF1
   533 7BD4 A9 00 8D 18 C0			mva #0 COLPF2
   534 						
   535 7BD9 AA					tax
   536 7BDA 9D 80 20		@		sta hscr,x			;czyÅ›cimy obraz
   537 7BDD 9D 80 21				sta hscr+$100,x
   538 7BE0 9D 80 22				sta hscr+$200,x
   539 7BE3 9D 80 23				sta hscr+$300,x
   540 7BE6 CA					dex
   541 7BE7 D0 F1				bne @-
   542
   543 7BE9 A2 4F				ldx #79
   544 7BEB 9D 80 24		@		sta hscr+$400,x
   545 7BEE CA					dex
   546 7BEF 10 FA				bpl @-
   547 						
   548 						
   549 7BF1 A9 02				lda #2
   550 7BF3 8D 9C 20				sta hscr+28			;gwiazdy
   551 						
   552 7BF6 8D E1 21				sta hscr+17+7*48
   553 7BF9 8D 7E 22				sta hscr+30+10*48
   554 7BFC 8D 2A 23				sta hscr+10+14*48
   555 7BFF 8D 95 23				sta hscr+21+16*48
   556 7C02 8D B8 24				sta hscr+24+22*48
   557 7C05 8D 20 24				sta hscr+16+19*48
   558 						
   559 						
   560 						
   561 7C08 A9 81				lda #129
   562 7C0A 8D C4 20				sta hscr+1*48+20
   563 7C0D 8D 71 21				sta hscr+5*48+1
   564 7C10 8D E7 21				sta hscr+23+7*48
   565 7C13 8D 67 22				sta hscr+7+10*48
   566 7C16 8D 15 21				sta hscr+5+3*48
   567 7C19 8D 76 24				sta hscr+6+21*48
   568 7C1C 8D 18 21				sta hscr+8+3*48
   569 7C1F 8D BA 23				sta hscr+10+17*48
   570 						
   571 7C22 A9 14				lda #>znaki2
   572 7C24 8D 09 D4				sta CHBASE
   573 7C27 20 BF 74				jsr przepiszZnaki		
   574 						
   575 7C2A A2 13				ldx #19
   576 7C2C BD 7D 7B		@		lda texc1,x
   577 7C2F 9D E6 20				sta hscr+2*48+6,x
   578 7C32 CA					dex
   579 7C33 10 F7				bpl @-
   580 						
   581 7C35 A2 0F				ldx #15
   582 7C37 BD 91 7B		@		lda texc2,x
   583 7C3A 9D 48 21				sta hscr+4*48+8,x
   584 7C3D BD B5 7B				lda texc5,x
   585 7C40 9D 48 24				sta hscr+20*48+8,x
   586 7C43 CA					dex
   587 7C44 10 F1				bpl @-
   588
   589 7C46 A2 09				ldx #9
   590 7C48 BD A1 7B		@		lda texc3,x
   591 7C4B 9D AB 21				sta hscr+6*48+11,x
   592 7C4E BD AB 7B				lda texc4,x
   593 7C51 9D EB 23				sta hscr+18*48+11,x
   594 7C54 CA					dex
   595 7C55 10 F1				bpl @-
   596 						
   597 7C57 A2 07				ldx #7
   598 7C59 A9 00		@		lda #0
   599 7C5B 9D 38 17				sta znaki2+103*8,x
   600 7C5E A9 0A				lda #%00001010
   601 7C60 9D 40 17				sta znaki2+104*8,x
   602 7C63 A9 A0				lda #%10100000
   603 7C65 9D 48 17				sta znaki2+105*8,x
   604 7C68 A9 AA				lda #%10101010
   605 7C6A 9D 50 17				sta znaki2+106*8,x
   606 7C6D CA					dex
   607 7C6E 10 E9				bpl @-
   608 						
   609 7C70 20 46 80				jsr score2buf
   610 7C73 20 01 83				jsr scoreLen
   611 						
   612 7C76 AA					tax
   613 7C77 18					clc
   614 7C78 A9 30				lda #<(hscr+9*48)		;ustalamy poczÄ…tek pamieci gdzie wpisujemy wynik + poprawka dÅ‚ugoÅ›ci
   615 7C7A 7D F1 7F				adc congTab,x
   616 7C7D 85 9B				sta pom
   617 7C7F A9 22				lda #>(hscr+9*48)
   618 7C81 69 00				adc #0
   619 7C83 85 9C				sta pom+1
   620 						
   621 7C85 BD 0B 31		@		lda hscbuf,x	;wczytaj cyfre
   622 7C88 20 F4 7F				jsr printCyfra	;wyÅ›wietl cyfrÄ™
   623 7C8B E8					inx
   624 7C8C E0 06				cpx #6
   625 7C8E 90 F5				bcc @-
   626 7C90 A9 00				lda #0
   627 7C92 20 F4 7F				jsr printCyfra
   628
   629 7C95 A2 06				ldx #6
   630 7C97 A9 FE		@		lda #%11111110
   631 7C99 9D 23 06				sta sprites+$600+35,x
   632 7C9C A9 C0				lda #%11000000
   633 7C9E 9D 23 03				sta sprites+$300+35,x
   634 7CA1 A9 E7				lda #%11100111
   635 7CA3 9D 38 07				sta sprites+$700+56,x
   636 7CA6 A9 9F				lda #%10011111
   637 7CA8 9D 38 06				sta sprites+$600+56,x
   638 7CAB A9 FF				lda #255
   639 7CAD 9D 4D 03				sta sprites+$300+77,x
   640 7CB0 A9 DD				lda #%11011101
   641 7CB2 9D 4D 07				sta sprites+$700+77,x
   642 7CB5 A9 DD				lda #%11011101
   643 7CB7 9D B6 04				sta sprites+$400+182,x
   644 7CBA BD B6 03				lda sprites+$300+182,x
   645 7CBD 09 03				ora #%00000011
   646 7CBF 9D B6 03				sta sprites+$300+182,x
   647 7CC2 A9 FB				lda #%11111011
   648 7CC4 9D CB 04				sta sprites+$400+203,x
   649 7CC7 A9 F7				lda #%11110111
   650 7CC9 9D CB 05				sta sprites+$500+203,x
   651 7CCC CA					dex
   652 7CCD 10 C8				bpl @-
   653 						
   654 						
   655 						
   656 7CCF A2 C6				ldx #<MODUL					;low byte of RMT module to X reg
   657 7CD1 A0 42				ldy #>MODUL					;hi byte of RMT module to Y reg
   658 7CD3 A9 16				lda #$16 					;starting song line 0-255 to A reg 	
   659 7CD5 20 1D 38				jsr init_rmt
   660
   661 7CD8 A9 06 85 9A				mva #6 kolpom0
   662
   663 7CDC A9 01 85 70				mva #1 stan_gry
   664 						
   665 7CE0 A9 1D 8D 1E 31			mva #29 opoz_congrat
   666 						
   667 7CE5 20 BE 62				jsr waitvbl1
   668 7CE8 A9 3A 8D 00 D4			mva #58 DMACTL
   669 7CED A9 0F 8D 1D 31			mva #15 conLIcz
   670 7CF2 A9 00 85 6F				mva #0 zegar
   671 7CF6 A9 0C 8D 20 31			mva #$0c kolor0
   672 						
   673 						
   674 						
   675 						
   676 7CFB 20 1B 7E		@		jsr ppanel2
   677 						;jsr waitvbl1
   678 7CFE CE 1D 31				dec conLicz
   679 7D01 D0 F8				bne @-
   680
   681 7D03 A9 0C				lda #12
   682
   683 7D05 8D 1D 31				sta conLicz
   684 7D08 AD 20 31				lda kolor0
   685 7D0B 49 0C				eor #$0c
   686 7D0D 8D 20 31				sta kolor0
   687 7D10 CE 1E 31				dec opoz_congrat
   688 7D13 10 E6				bpl @-
   689 						
   690 						
   691 						
   692 7D15 A9 00 8D 00 D4			mva #0 DMACTL
   693 7D1A A9 00 85 70				mva #0 stan_gry
   694 						
   695 7D1E A2 06				ldx #6
   696 7D20 A9 00		@		lda #0
   697 7D22 9D 23 06				sta sprites+$600+35,x
   698 7D25 9D 23 03				sta sprites+$300+35,x			;czyÅ›cimy duszki
   699 7D28 9D 38 06				sta sprites+$600+56,x
   700 7D2B 9D B6 04				sta sprites+$400+182,x
   701 7D2E 9D CB 04				sta sprites+$400+203,x
   702 7D31 9D CB 05				sta sprites+$500+203,x
   703 7D34 A9 FF				lda #255
   704 7D36 9D 38 07				sta sprites+$700+56,x
   705 7D39 9D 4D 07				sta sprites+$700+77,x
   706 7D3C A9 3F				lda #%00111111
   707 7D3E 9D 4D 03				sta sprites+$300+77,x
   708 7D41 BD B6 03				lda sprites+$300+182,x
   709 7D44 29 FC				and #%11111100
   710 7D46 9D B6 03				sta sprites+$300+182,x
   711 7D49 CA					dex
   712 7D4A 10 D4				bpl @-
   713 						
   714 						
   715 7D4C 60					rts
   716 						
   717 						
   718
   719 						
   720 = 7D4D			ppan_1	equ *	
   721 7D4D C6 9A				dec kolpom0
   722 7D4F D0 07				bne @+
   723 7D51 A9 06 85 9A				mva #6 kolpom0
   724 7D55 4C 5B 7D				jmp @+1 
   725 7D58 20 2F 38		@		jsr play_rmt		
   726 = 7D5B			@		equ *
   727 					
   728 7D5B A9 0C				lda #12
   729 7D5D CD 0B D4		@		cmp VCOUNT
   730 7D60 D0 FB				bne @-
   731 						
   732 7D62 A9 0C				lda #kolorLiczby		;pod Hiscore
   733 7D64 8D 12 C0				sta COLPM0
   734 7D67 8D 13 C0				sta COLPM1
   735 7D6A 8D 14 C0				sta COLPM2
   736 7D6D A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0
   737 7D72 A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   738 7D77 A9 C3 8D 02 C0			mva #pozWyniki+18 HPOSP2
   739 						
   740 7D7C 60					rts
   741 						
   742 = 7D7D			ppan_2	equ *
   743 7D7D A9 10				lda #16
   744 7D7F CD 0B D4		@		cmp VCOUNT
   745 7D82 D0 FB				bne @-
   746 						
   747 = 7D84			ppan_2b	equ *		
   748 7D84 A9 B1 8D 00 C0			mva #pozWyniki HPOSP0		;1up
   749 7D89 A9 B9 8D 01 C0			mva #pozWyniki+8 HPOSP1
   750 7D8E A9 98 8D 12 C0			mva #kolor1ups COLPM0
   751 7D93 8D 13 C0				sta COLPM1
   752 						
   753 7D96 60					rts
   754 						
   755 = 7D97			ppan_3	equ *
   756 7D97 A9 1F				lda #31
   757 7D99 CD 0B D4		@		cmp VCOUNT
   758 7D9C D0 FB				bne @-
   759 						
   760 7D9E A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;condition
   761 7DA3 A9 BB 8D 01 C0			mva #pozWyniki+8+2 HPOSP1
   762 7DA8 A9 C3 8D 02 C0			mva #pozWyniki+16+2 HPOSP2
   763 7DAD A9 CB 8D 05 C0			mva #pozWyniki+24+2 HPOSM1
   764 7DB2 A9 CD 8D 04 C0			mva #pozWyniki+26+2 HPOSM0
   765 7DB7 A9 B1 8D 06 C0			mva #pozWyniki HPOSM2
   766 						
   767 7DBC 60					rts
   768 						
   769 = 7DBD			ppan_4	equ *
   770 7DBD A9 25				lda #37
   771 7DBF CD 0B D4		@		cmp VCOUNT
   772 7DC2 D0 FB				bne @-
   773 						
   774 7DC4 A9 0A 8D 17 C0			mva #10 COLPF1
   775 7DC9 AD 7A 34				lda conditionColor		;conditionColor
   776 7DCC 8D 13 C0				sta COLPM1
   777 7DCF 8D 14 C0				sta COLPM2
   778 7DD2 AD 82 34				lda conditionColor1
   779 7DD5 8D 12 C0				sta COLPM0
   780 						
   781 7DD8 60					rts
   782 						
   783 = 7DD9			ppan_end	equ *
   784 7DD9 A9 70				lda #113-1
   785 7DDB CD 0B D4		@		cmp VCOUNT
   786 7DDE D0 FB				bne @-
   787 					
   788 7DE0 A9 00 8D 08 C0			mva #0 SIZEP0
   789 7DE5 8D 09 C0				sta SIZEP1
   790 7DE8 A9 B1 8D 00 C0			mva #pozWyniki HPOSP0
   791 7DED A9 B9 8D 01 C0			mva #pozWyniki+8 HPOSP1
   792 7DF2 A9 C1 8D 05 C0			mva #pozWyniki+16 HPOSM1		;Round
   793 7DF7 A9 C3 8D 04 C0			mva #pozWyniki+18 HPOSM0
   794 7DFC A9 C7 8D 02 C0			mva #pozWyniki+22 HPOSP2
   795 7E01 A9 CA 8D 14 C0			mva #kolorLevel COLPM2
   796 7E06 A9 5A 8D 12 C0			mva #kolorRound COLPM0
   797 7E0B 8D 13 C0				sta COLPM1
   798 						
   799 7E0E A5 B6				lda strz1
   800 7E10 D0 01				bne @+
   801 7E12 60					rts
   802 						
   803 7E13 AD 0B D4		@		lda VCOUNT			;CZEKAJ NA KONIEC EKRANU
   804 7E16 C9 78				cmp #120
   805 7E18 90 F9				bcc @-
   806 						
   807 7E1A 60					rts
   808 						
   809 				;prawy panel podczas wyÅ›wietlania hscore
   810 = 7E1B			ppanel2	equ *
   811 7E1B 20 4D 7D				jsr ppan_1
   812 7E1E 20 7D 7D				jsr ppan_2
   813 						
   814 7E21 8D 0A D4				sta WSYNC
   815 7E24 8D 0A D4				sta WSYNC
   816 7E27 8D 0A D4				sta WSYNC
   817 7E2A A9 48 8D 03 C0			mva #72 HPOSP3
   818 7E2F A9 30 8D 15 C0			mva #$30 COLPM3
   819 7E34 8D 14 C0				sta COLPM2
   820 7E37 A9 68 8D 02 C0			mva #104 HPOSP2
   821 7E3C A9 03 8D 0A C0			mva #3 SIZEP2
   822 7E41 A9 90 8D 07 C0			mva #144 HPOSM3
   823 7E46 A9 C0				lda #%11000000
   824 7E48 8D 0C C0				sta SIZEM
   825 						
   826 7E4B A9 14				lda #20
   827 7E4D CD 0B D4		@		cmp VCOUNT
   828 7E50 D0 FB				bne @-
   829 7E52 8D 0A D4				sta WSYNC
   830 7E55 EA EA EA EA EA EA + 		:16 nop 
   831 						
   832 						
   833 7E65 A9 0C 8D 12 C0			mva #kolorLiczby COLPM0	
   834 7E6A 8D 13 C0				sta COLPM1
   835 7E6D 8D 14 C0				sta COLPM2
   836 7E70 A9 00 8D 15 C0			mva #0 COLPM3
   837 7E75 8D 0C C0				sta SIZEM
   838 7E78 8D 0A C0				sta SIZEP2
   839 7E7B A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;score
   840 7E80 A9 BB 8D 01 C0			mva #pozWyniki+10 HPOSP1
   841 7E85 A9 C3 8D 02 C0			mva #pozWyniki+18 HPOSP2
   842 7E8A A9 C9 8D 06 C0			mva #pozWyniki+24 HPOSM2
   843 						
   844 7E8F A9 1B				lda #27
   845 7E91 CD 0B D4		@		cmp VCOUNT
   846 7E94 D0 FB				bne @-
   847 						
   848 7E96 8D 0A D4 8D 0A D4			:2 sta WSYNC
   849 7E9C 8E 02 C0				stx HPOSP2
   850 7E9F A9 20 8D 15 C0			mva #$20 COLPM3
   851 7EA4 8D 14 C0				sta COLPM2
   852 7EA7 A9 50 8D 03 C0			mva #80 HPOSP3
   853 7EAC A9 70 8D 02 C0			mva #112 HPOSP2
   854 7EB1 A9 03 8D 0A C0			mva #3 SIZEP2
   855 					
   856 						
   857 7EB6 A9 1F				lda #31
   858 7EB8 CD 0B D4		@		cmp VCOUNT
   859 7EBB D0 FB				bne @-
   860 						
   861 						
   862 7EBD A9 B3 8D 00 C0			mva #pozWyniki+2 HPOSP0		;condition
   863 7EC2 A9 BB 8D 01 C0			mva #pozWyniki+8+2 HPOSP1
   864 						
   865 7EC7 A9 CB 8D 05 C0			mva #pozWyniki+24+2 HPOSM1
   866 7ECC A9 CD 8D 04 C0			mva #pozWyniki+26+2 HPOSM0
   867 7ED1 A9 B1 8D 06 C0			mva #pozWyniki HPOSM2	
   868 7ED6 A9 00 8D 15 C0			mva #0 COLPM3
   869 7EDB A9 00 8D 0A C0			mva #0 SIZEP2
   870 7EE0 A9 00 8D 0C C0			mva #0 SIZEM
   871 7EE5 A9 0C 8D 14 C0			mva #kolorliczby COLPM2
   872 7EEA A9 C3 8D 02 C0			mva #pozWyniki+16+2 HPOSP2
   873 						
   874 7EEF A9 25				lda #37
   875 7EF1 CD 0B D4		@		cmp VCOUNT
   876 7EF4 D0 FB				bne @-
   877 						
   878 						
   879 7EF6 20 BD 7D				jsr ppan_4
   880 						
   881 7EF9 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   882 						
   883 7F02 A9 20 8D 15 C0			mva #$20 COLPM3
   884 7F07 A9 5C 8D 03 C0			mva #92 HPOSP3
   885 7F0C A9 7C 8D 07 C0			mva #124 HPOSM3
   886 7F11 A9 C0 8D 0C C0			mva #%11000000 SIZEM	
   887 						
   888 7F16 A9 2A				lda #42
   889 7F18 CD 0B D4		@		cmp VCOUNT
   890 7F1B D0 FB				bne @-
   891 						
   892 7F1D A9 00 8D 15 C0			mva #0 COLPM3
   893 7F22 8D 0A D4				sta WSYNC
   894 7F25 AD 20 31 8D 17 C0			mva kolor0 COLPF1
   895 						
   896 						
   897 7F2B A9 2F				lda #47
   898 7F2D CD 0B D4		@		cmp VCOUNT
   899 7F30 D0 FB				bne @-
   900 						
   901 						
   902 						
   903 7F32 A9 B0 8D 03 C0			mva #pozWyniki-1 HPOSP3
   904 7F37 A9 03 8D 0B C0			mva #3 SIZEP3
   905 							
   906 7F3C A9 0C 8D 12 C0			mva #kolorLiczby COLPM0
   907 7F41 A9 14				lda #16+4
   908 7F43 8D 0C C0				sta SIZEM
   909 7F46 A9 46 8D 13 C0			mva #kolorCzerwony COLPM1
   910 7F4B 8D 14 C0				sta COLPM2
   911 7F4E A9 C4 8D 06 C0			mva #pozWyniki+19 HPOSM2
   912 7F53 A9 C8 8D 05 C0			mva #pozWyniki+23 HPOSM1
   913 						
   914 7F58 A9 00 8D 04 C0			mva #0 HPOSM0
   915 7F5D A9 01 8D 0A C0			mva #1 SIZEP2		;przeciwnicy na radarze
   916 7F62 A9 B4 8D 02 C0			mva #pozWyniki+3 HPOSP2
   917 						
   918 7F67 A9 62 8D 15 C0			mva #kolorMapa	COLPM3
   919 						
   920 7F6C A9 58				lda #88
   921 7F6E CD 0B D4		@		cmp VCOUNT
   922 7F71 D0 FB				bne @-
   923 						
   924 7F73 A9 08 8D 17 C0			mva #8 COLPF1
   925 						
   926 7F78 A9 A0 8D 12 C0			mva #$a0 COLPM0		;GO FOR THE
   927 7F7D A9 5C 8D 00 C0			mva #92 HPOSP0
   928 7F82 A9 7C 8D 04 C0			mva #124 HPOSM0
   929 7F87 A9 03 8D 08 C0			mva #3 SIZEP0
   930 7F8C 8D 09 C0				sta SIZEP1
   931 7F8F A9 97 8D 0C C0			mva #%10010111 SIZEM
   932 						
   933 7F94 A9 5F				lda #95
   934 7F96 CD 0B D4		@		cmp VCOUNT
   935 7F99 D0 FB				bne @-
   936 						
   937 7F9B A9 00 8D 04 C0			mva #0 HPOSM0		
   938 								
   939 7FA0 A9 50 8D 00 C0			mva #80 HPOSP0
   940 						
   941 						
   942 						
   943 7FA5 A9 65				lda #101
   944 7FA7 CD 0B D4		@		cmp VCOUNT
   945 7FAA D0 FB				bne @-
   946 						
   947 7FAC 8D 0A D4				sta WSYNC
   948 						
   949 7FAF A9 A0 8D 13 C0			mva #$a0 COLPM1		;SPACE RECORD NOW
   950 7FB4 A9 70 8D 01 C0			mva #112 HPOSP1
   951 						
   952 						
   953 7FB9 A9 66				lda #102
   954 7FBB CD 0B D4		@		cmp VCOUNT
   955 7FBE D0 FB				bne @-
   956 						
   957 7FC0 A9 00 8D 15 C0			mva #0 COLPM3		;koniec mapy zapasowe statki
   958 7FC5 8D 14 C0				sta COLPM2
   959 7FC8 8D 04 C0				sta HPOSM0
   960 7FCB 8D 05 C0				sta HPOSM1
   961 7FCE 8D 06 C0				sta HPOSM2
   962
   963 7FD1 A9 69				lda #105
   964 7FD3 CD 0B D4		@		cmp VCOUNT
   965 7FD6 D0 FB				bne @-
   966
   967 7FD8 A9 00 8D 12 C0			mva #0 COLPM0
   968 7FDD 8D 13 C0				sta COLPM1
   969 7FE0 8D 14 C0				sta COLPM2
   970 7FE3 A9 00 8D 0A C0			mva #0 SIZEP2
   971 7FE8 8D 02 C0				sta HPOSP2
   972 7FEB 8D 0C C0				sta SIZEM
   973 						
   974 7FEE 4C D9 7D				jmp ppan_end
   975
   976 7FF1 02 04 06		congTab	dta b(2,4,6)
   977
   978
   979 = 7FF4			printCyfra	equ *
   980 7FF4 86 A5				stx pom0
   981 						
   982 7FF6 0A 0A 0A				:3 asl
   983 7FF9 09 01				ora #1
   984 7FFB AA					tax
   985 						
   986 7FFC 20 20 80		@		jsr prcyf1		;rysuje jednÄ… liniÄ™ znaku
   987 7FFF 18					clc
   988 8000 A5 9B				lda pom		;nastÄ™pna linia
   989 8002 69 30				adc #48
   990 8004 85 9B				sta pom
   991 8006 90 02				bcc @+
   992 8008 E6 9C				inc pom+1
   993 800A E8			@		inx
   994 800B 8A					txa
   995 800C 29 07				and #%111
   996 800E D0 EC				bne @-1
   997 						
   998 8010 38					sec
   999 8011 A5 9B				lda pom			;ustaw siÄ™ na nastÄ™pnÄ… literÄ™
  1000 8013 E9 4C				sbc #<332		;7*48-4
  1001 8015 85 9B				sta pom
  1002 8017 A5 9C				lda pom+1
  1003 8019 E9 01				sbc #>332
  1004 801B 85 9C				sta pom+1
  1005 						
  1006 801D A6 A5				ldx pom0
  1007 801F 60					rts
  1008 						
  1009 = 8020			prcyf1	equ *
  1010 8020 A0 00				ldy #0
  1011 8022 BD 4E 81		@		lda cyfryBosc,x
  1012 8025 39 42 80				and prcyfTab,y
  1013 						
  1014 8028 C0 03				cpy #3
  1015 802A F0 0B				beq @+1
  1016 802C 84 A6				sty pom0a
  1017 802E 4A 4A		@		:2 lsr
  1018 8030 C8					iny
  1019 8031 C0 03				cpy #3
  1020 8033 90 F9				bcc @-
  1021 8035 A4 A6				ldy pom0a
  1022 8037 18			@		clc
  1023 8038 69 67				adc #103
  1024 803A 91 9B				sta (pom),y
  1025 803C C8					iny
  1026 803D C0 04				cpy #4
  1027 803F 90 E1				bcc @-2
  1028 						
  1029 8041 60					rts
  1030
  1031 8042 C0 30 0C 03		prcyfTab	dta b(%11000000,%00110000,%00001100,%00000011)
  1032 						
  1033 = 8046			score2buf	equ *		
  1034 8046 A0 00				ldy #0
  1035 8048 A2 02				ldx #2
  1036 804A BD 7F 32		@		lda Score,x
  1037 804D 29 F0				and #$f0
  1038 804F 4A 4A 4A 4A				:4 lsr
  1039 8053 99 0B 31				sta hscbuf,y
  1040 8056 C8					iny
  1041 8057 BD 7F 32				lda Score,x
  1042 805A 29 0F				and #$0f
  1043 805C 99 0B 31				sta hscbuf,y
  1044 805F C8					iny
  1045 8060 CA					dex
  1046 8061 C0 06				cpy #6
  1047 8063 D0 E5				bne @-
  1048 8065 60					rts		
  1049
  1050 					
  1051 8066 00 00 00 00 00 00 + 		:8 dta b(0)
  1052 					
  1053 = 806E			znakiBosc	equ *	
  1054 806E 00					dta b(0)
  1055 806F 38					dta b(%00111000)
  1056 8070 6C					dta b(%01101100)		;a
  1057 8071 C6					dta b(%11000110)
  1058 8072 C6					dta b(%11000110)
  1059 8073 FE					dta b(%11111110)
  1060 8074 C6					dta b(%11000110)
  1061 8075 C6					dta b(%11000110)
  1062 						
  1063 8076 00					dta b(0)
  1064 8077 FC					dta b(%11111100)		;b
  1065 8078 C6 C6				:2 dta b(%11000110)
  1066 807A FC					dta b(%11111100)
  1067 807B C6 C6				:2 dta b(%11000110)
  1068 807D FE					dta b(%11111110)
  1069 						
  1070 807E 00					dta b(0)
  1071 807F 3C					dta b(%00111100)		;c
  1072 8080 66					dta b(%01100110)
  1073 8081 C0 C0 C0				:3 dta b(%11000000)
  1074 8084 66					dta b(%01100110)
  1075 8085 3C					dta b(%00111100)
  1076 						
  1077 8086 00					dta b(0)
  1078 8087 F8					dta b(%11111000)
  1079 8088 CC					dta b(%11001100)
  1080 8089 C6					dta b(%11000110)		;d
  1081 808A C6					dta b(%11000110)
  1082 808B C6					dta b(%11000110)
  1083 808C CC					dta b(%11001100)
  1084 808D F8					dta b(%11111000)
  1085 						
  1086 808E 00					dta b(0)
  1087 808F 7E					dta b(%01111110)
  1088 8090 60					dta b(%01100000)		;e
  1089 8091 60					dta b(%01100000)
  1090 8092 7C					dta b(%01111100)
  1091 8093 60					dta b(%01100000)
  1092 8094 60					dta b(%01100000)
  1093 8095 7E					dta b(%01111110)
  1094 						
  1095 8096 00					dta b(0)
  1096 8097 FE					dta b(%11111110)		;f
  1097 8098 C0 C0				:2 dta b(%11000000)
  1098 809A FC					dta b(%11111100)
  1099 809B C0 C0 C0				:3 dta b(%11000000)
  1100
  1101 						
  1102 809E 00					dta b(0)
  1103 809F 3E					dta b(%00111110)		;g
  1104 80A0 60					dta b(%01100000)
  1105 80A1 C0					dta b(%11000000)
  1106 80A2 CE					dta b(%11001110)
  1107 80A3 C6					dta b(%11000110)
  1108 80A4 66					dta b(%01100110)
  1109 80A5 3E					dta b(%00111110)
  1110 						
  1111 80A6 00					dta b(0)
  1112 80A7 C6 C6 C6				:3 dta b(%11000110)	;h
  1113 80AA FE					dta b(%11111110)
  1114 80AB C6 C6 C6				:3 dta b(%11000110)
  1115 						
  1116 80AE 00					dta b(0)
  1117 80AF 7E					dta b(%01111110)		;i
  1118 80B0 18 18 18 18 18			:5 dta b(%00011000)
  1119 80B5 7E					dta b(%01111110)
  1120 80B6 00					dta b(0)
  1121 						
  1122 80B7 06 06 06 06 06			:5 dta b(%00000110)	;j
  1123 80BC C6					dta b(%11000110)
  1124 80BD 7C					dta b(%01111100)
  1125 						
  1126 80BE 00					dta b(0)
  1127 80BF C6					dta b(%11000110)		;k
  1128 80C0 CC					dta b(%11001100)
  1129 80C1 D8					dta b(%11011000)
  1130 80C2 F0					dta b(%11110000)
  1131 80C3 F8					dta b(%11111000)
  1132 80C4 DC					dta b(%11011100)
  1133 80C5 CE					dta b(%11001110)
  1134 						
  1135 80C6 00					dta b(0)
  1136 80C7 C0 C0 C0 C0 C0 C0			:6 dta b(%11000000)	;l
  1137 80CD FC					dta b(%11111100)
  1138 						
  1139 80CE 00					dta b(0)
  1140 80CF C6					dta b(%11000110)		;m
  1141 80D0 EE					dta b(%11101110)
  1142 80D1 FE FE				:2 dta b(%11111110)
  1143 80D3 D6					dta b(%11010110)
  1144 80D4 C6 C6				:2 dta b(%11000110)
  1145 						
  1146 80D6 00					dta b(0)
  1147 80D7 C6					dta b(%11000110)
  1148 80D8 E6					dta b(%11100110)		;n
  1149 80D9 F6					dta b(%11110110)
  1150 80DA FE					dta b(%11111110)
  1151 80DB DE					dta b(%11011110)
  1152 80DC CE					dta b(%11001110)
  1153 80DD C6					dta b(%11000110)
  1154 						
  1155 80DE 00					dta b(0)	
  1156 80DF 7C					dta b(%01111100)
  1157 80E0 C6 C6 C6 C6 C6			:5 dta b(%11000110)		;o
  1158 80E5 7C					dta b(%01111100)
  1159 						
  1160 80E6 00					dta b(0)
  1161 80E7 FC					dta b(%11111100)		;p
  1162 80E8 C6 C6 C6				:3 dta b(%11000110)
  1163 80EB FC					dta b(%11111100)
  1164 80EC C0 C0				:2 dta b(%11000000)
  1165 						
  1166 80EE 00					dta b(0)
  1167 80EF 7C					dta b(%01111100)		;q
  1168 80F0 C6 C6 C6				:3 dta b(%11000110)
  1169 80F3 DE					dta b(%11011110)
  1170 80F4 CC					dta b(%11001100)
  1171 80F5 7A					dta b(%01111010)
  1172 						
  1173 80F6 00					dta b(0)
  1174 80F7 FC					dta b(%11111100)
  1175 80F8 C6					dta b(%11000110)
  1176 80F9 C6					dta b(%11000110)		;r
  1177 80FA CE					dta b(%11001110)
  1178 80FB F8					dta b(%11111000)
  1179 80FC CC					dta b(%11001100)
  1180 80FD C6					dta b(%11000110)
  1181 						
  1182 80FE 00					dta b(0)
  1183 80FF 78					dta b(%01111000)
  1184 8100 CC					dta b(%11001100)
  1185 8101 C0					dta b(%11000000)		;s
  1186 8102 7C					dta b(%01111100)
  1187 8103 06					dta b(%00000110)
  1188 8104 C6					dta b(%11000110)
  1189 8105 7C					dta b(%01111100)
  1190 						
  1191 8106 00					dta b(0)
  1192 8107 7E					dta b(%01111110)
  1193 8108 18 18 18 18 18 18			:6 dta b(%00011000)	;t
  1194 						
  1195 810E 00					dta b(0)
  1196 810F C6 C6 C6 C6 C6 C6			:6 dta b(%11000110)	;u
  1197 8115 7C					dta b(%01111100)
  1198 						
  1199 8116 00					dta b(0)
  1200 8117 C6					dta b(%11000110)
  1201 8118 C6					dta b(%11000110)		;v
  1202 8119 C6					dta b(%11000110)
  1203 811A EE					dta b(%11101110)
  1204 811B 7C					dta b(%01111100)
  1205 811C 38					dta b(%00111000)
  1206 811D 10					dta b(%00010000)
  1207 						
  1208 811E 00					dta b(0)
  1209 811F C6 C6				:2 dta b(%11000110)		;w
  1210 8121 D6					dta b(%11010110)
  1211 8122 FE FE				:2 dta b(%11111110)
  1212 8124 EE					dta b(%11101110)
  1213 8125 C6					dta b(%11000110)
  1214 						
  1215 8126 00					dta b(0)
  1216 8127 C6					dta b(%11000110)		;x
  1217 8128 EE					dta b(%11101110)
  1218 8129 7C					dta b(%01111100)
  1219 812A 38					dta b(%00111000)
  1220 812B 7C					dta b(%01111100)
  1221 812C EE					dta b(%11101110)
  1222 812D C6					dta b(%11000110)
  1223 						
  1224 812E 00					dta b(0)
  1225 812F 66					dta b(%01100110)			;y
  1226 8130 66					dta b(%01100110)
  1227 8131 66					dta b(%01100110)
  1228 8132 3C					dta b(%00111100)
  1229 8133 18					dta b(%00011000)
  1230 8134 18					dta b(%00011000)
  1231 8135 18					dta b(%00011000)
  1232 						
  1233 8136 00					dta b(0)
  1234 8137 FE					dta b(%11111110)		;z
  1235 8138 0E					dta b(%00001110)
  1236 8139 1C					dta b(%00011100)
  1237 813A 38					dta b(%00111000)
  1238 813B 70					dta b(%01110000)
  1239 813C E0					dta b(%11100000)
  1240 813D FE					dta b(%11111110)
  1241 						
  1242 813E 00					dta b(0)
  1243 813F 00 00 00 00 00			:5 dta b(0)			;.65+26=91
  1244 8144 30 30				:2 dta b(%00110000)
  1245 						
  1246 8146 00					dta b(0)
  1247 8147 08					dta b(%00001000)		;!	92
  1248 8148 38 38				:2 dta b(%00111000)
  1249 814A 30					dta b(%00110000)
  1250 814B 00					dta b(0)
  1251 814C 30 30				:2 dta b(%00110000)
  1252
  1253 = 814E			cyfryBosc	equ *		
  1254 814E 00					dta b(0)
  1255 814F 38					dta b(%00111000)		;0	93
  1256 8150 4C					dta b(%01001100)
  1257 8151 C6 C6 C6				:3 dta b(%11000110)
  1258 8154 64					dta b(%01100100)
  1259 8155 38					dta b(%00111000)
  1260 						
  1261 8156 00					dta b(0)
  1262 8157 18					dta b(%00011000)		;1
  1263 8158 38					dta b(%00111000)
  1264 8159 18 18 18 18				:4 dta b(%00011000)
  1265 815D 7E					dta b(%01111110)
  1266 						
  1267 815E 00					dta b(0)
  1268 815F 7C					dta b(%01111100)		;2
  1269 8160 C6					dta b(%11000110)
  1270 8161 0E					dta b(%00001110)
  1271 8162 3C					dta b(%00111100)
  1272 8163 78					dta b(%01111000)
  1273 8164 E0					dta b(%11100000)
  1274 8165 FE					dta b(%11111110)
  1275 						
  1276 8166 00					dta b(0)
  1277 8167 7E					dta b(%01111110)		;3
  1278 8168 0C					dta b(%00001100)
  1279 8169 18					dta b(%00011000)
  1280 816A 3C					dta b(%00111100)
  1281 816B 06					dta b(%00000110)
  1282 816C C6					dta b(%11000110)
  1283 816D 7C					dta b(%01111100)
  1284 						
  1285 816E 00					dta b(0)
  1286 816F 1C					dta b(%00011100)		;4
  1287 8170 3C					dta b(%00111100)
  1288 8171 6C					dta b(%01101100)
  1289 8172 CC					dta b(%11001100)
  1290 8173 FE					dta b(%11111110)
  1291 8174 0C 0C				:2 dta b(%00001100)
  1292 						
  1293 8176 00					dta b(0)
  1294 8177 FC					dta b(%11111100)		;5
  1295 8178 C0					dta b(%11000000)
  1296 8179 FC					dta b(%11111100)
  1297 817A 06 06				:2 dta b(%00000110)
  1298 817C C6					dta b(%11000110)
  1299 817D 7C					dta b(%01111100)
  1300 						
  1301 817E 00					dta b(0)
  1302 817F 3C					dta b(%00111100)		;6
  1303 8180 60					dta b(%01100000)
  1304 8181 C0					dta b(%11000000)
  1305 8182 FC					dta b(%11111100)
  1306 8183 C6 C6				:2 dta b(%11000110)
  1307 8185 7C					dta b(%01111100)
  1308 						
  1309 8186 00					dta b(0)
  1310 8187 FE					dta b(%11111110)		;7
  1311 8188 C6					dta b(%11000110)
  1312 8189 0C					dta b(%00001100)
  1313 818A 18					dta b(%00011000)
  1314 818B 30 30 30				:3 dta b(%00110000)
  1315 						
  1316 818E 00					dta b(0)
  1317 818F 78					dta b(%01111000)		;8
  1318 8190 C4					dta b(%11000100)
  1319 8191 E4					dta b(%11100100)
  1320 8192 78					dta b(%01111000)
  1321 8193 9E					dta b(%10011110)
  1322 8194 86					dta b(%10000110)
  1323 8195 7C					dta b(%01111100)
  1324 						
  1325 8196 00					dta b(0)
  1326 8197 7C					dta b(%01111100)		;9		;102
  1327 8198 C6 C6				:2 dta b(%11000110)
  1328 819A 7E					dta b(%01111110)
  1329 819B 06					dta b(%00000110)
  1330 819C 0C					dta b(%00001100)
  1331 819D 78					dta b(%01111000)
  1332
  1333 				;Dodajemy nowy wynik		
  1334 = 819E			gameover1	equ *
  1335 819E A2 F3				ldx #<zmaz_radar
  1336 81A0 A0 4B				ldy #>zmaz_radar
  1337 81A2 A9 D8				lda #bank2m
  1338 81A4 20 50 38				jsr go_bank
  1339 						;jsr zmaz_radar
  1340 						
  1341 81A7 8D 0B E8				sta potg0
  1342 81AA AD 80 32				lda score+1
  1343 81AD 0D 81 32				ora score+2
  1344 81B0 F0 26				beq @+2
  1345 						
  1346 81B2 AD 15 31				lda flaghscore
  1347 81B5 F0 15				beq @+
  1348 						
  1349 81B7 AD 7F 32 8D 82 32			mva score hscore		;przepisz score do high score
  1350 81BD AD 80 32 8D 83 32			mva score+1 hscore+1
  1351 81C3 AD 81 32 8D 84 32			mva score+2	hscore+2
  1352 						
  1353 81C9 20 C5 7B				jsr congrat		;najlepszy wynik
  1354 						
  1355 81CC A2 00		@		ldx #0
  1356 81CE 20 B2 83		@		jsr porownaj
  1357 81D1 D0 0E				bne @+1			;>1 skocz do obslugi hscore
  1358 81D3 E8					inx
  1359 81D4 E0 05				cpx #5
  1360 81D6 D0 F6				bne @-
  1361 						
  1362 81D8 A2 BF		@		ldx #<Title_s
  1363 81DA A0 4E				ldy #>Title_s
  1364 81DC A9 D8				lda #bank2m
  1365 81DE 4C 69 38				jmp jmp_bank
  1366
  1367 81E1 E0 04		@		cpx #4			
  1368 81E3 F0 18				beq @+1
  1369 						
  1370 81E5 BD AE 83				lda porBuf,x			;przepisz wszystkie hscore 1 poziom nizej
  1371 81E8 85 A3				sta pom4
  1372 						
  1373 81EA A0 0F				ldy #15
  1374 81EC B9 F7 30		@		lda hscScore1,y
  1375 81EF 99 FB 30				sta hscScore1+4,y
  1376 81F2 B9 E3 30				lda hscNick1,y
  1377 81F5 99 E7 30				sta hscNick1+4,y
  1378 81F8 88					dey
  1379
  1380 81F9 C4 A3				cpy pom4
  1381 81FB D0 EF				bne @-
  1382 						
  1383 81FD 8A			@		txa
  1384 81FE 0A					asl
  1385 81FF 0A					asl					;wpisz nowy wynik na odpowiedniej pozycji
  1386 8200 A8					tay	
  1387 8201 85 AB				sta pom0f
  1388 8203 AD 81 32				lda score+2
  1389 8206 99 F7 30				sta hscScore1,y
  1390 8209 AD 80 32				lda score+1
  1391 820C 99 F8 30				sta hscScore1+1,y
  1392 820F AD 7F 32				lda score
  1393 8212 99 F9 30				sta hscScore1+2,y
  1394 8215 A9 00				lda #0
  1395 8217 99 E3 30				sta hscNick1,y		;wyczysÄ‡ nick na danej pozycji
  1396 821A 99 E4 30				sta hscNick1+1,y
  1397 821D 99 E5 30				sta hscNick1+2,y
  1398 						
  1399 8220 20 01 83				jsr scoreLen		
  1400 8223 99 FA 30				sta hscScore1+3,y	
  1401
  1402 8226 48					pha		;zapamietaj dlugosc score
  1403 						
  1404 8227 A9 00 8D 18 C0			mva #0 COLPF2
  1405 822C A9 0A 8D 17 C0			mva #10 COLPF1
  1406 						
  1407 8231 A2 C6				ldx #<MODUL					;low byte of RMT module to X reg
  1408 8233 A0 42				ldy #>MODUL					;hi byte of RMT module to Y reg
  1409 8235 A9 1B				lda #$1B						;starting song line 0-255 to A reg 	
  1410 8237 20 1D 38				jsr init_rmt
  1411
  1412 823A A9 06 85 9A				mva #6 kolpom0
  1413
  1414 823E A9 01 85 70				mva #1 stan_gry
  1415 						
  1416 8242 20 34 78				jsr tabhscore2
  1417 8245 20 C1 75				jsr tabhs1
  1418 					
  1419 8248 A9 3C 8D 02 D4 A9 + 		mwa #hsdlist	DLPTR
  1420 						
  1421 8252 A9 80 8D 22 02 A9 + 		mwa #obraz2 dlist+2
  1422 825C A9 14 8D 09 D4			mva #>znaki2 CHBASE
  1423 						
  1424 8261 A6 AB				ldx pom0f
  1425 8263 20 47 79				jsr hscToBuf
  1426 8266 68					pla					;wypisz obecne score na ekranie
  1427 8267 A8					tay
  1428 8268 A9 A6				lda <(hscr+6*48+6)
  1429 826A A2 21				ldx >(hscr+6*48+6)
  1430 826C 20 31 79				jsr prhsc
  1431 						
  1432 826F A9 41				lda #65
  1433 8271 8D B5 21				sta hscr+6*48+21
  1434 8274 8D B6 21				sta hscr+6*48+22
  1435 8277 8D B7 21				sta hscr+6*48+23
  1436 						
  1437 827A A9 41 8D B9 36			mva #65 litera	
  1438 827F A9 00 8D BA 36			mva #0 pozLitera
  1439 8284 85 6F				sta zegar
  1440 						
  1441 8286 A9 98 8D C7 33			mva #kolor1ups kolor1up
  1442 828B 20 BE 62				jsr waitvbl1
  1443 828E A9 3A 8D 00 D4			mva #58 DMACTL
  1444 						
  1445 8293 20 65 79		@		jsr ppanel1
  1446 8296 A5 6F				lda zegar
  1447 8298 C9 01				cmp #1
  1448 829A D0 08				bne @+
  1449 829C AD 0A E8				lda random
  1450 829F 29 F0				and #$f0
  1451 82A1 8D 20 31				sta kolor0
  1452 82A4 20 15 83		@		jsr changeletter
  1453 						
  1454 82A7 AE BA 36				ldx pozLitera
  1455 82AA E0 03				cpx #3
  1456 82AC F0 09				beq @+
  1457 82AE BD AB 83				lda literaTab,x
  1458 82B1 8D 1F 31				sta nick0		;pozycja mrygajacego znaku
  1459 						
  1460 82B4 4C 93 82				jmp @-1
  1461 						
  1462 82B7 A9 00 85 6F		@		mva #0 zegar
  1463 82BB 8D 20 31				sta kolor0
  1464
  1465 82BE 20 65 79		@		jsr ppanel1
  1466 82C1 A5 6F				lda zegar 
  1467 82C3 C9 C8				cmp #200
  1468 82C5 90 F7				bcc @-
  1469 						
  1470 82C7 AD 10 C0				lda FIRE
  1471 82CA D0 07				bne @+
  1472 82CC A9 BE 85 6F				mva #190 zegar
  1473 82D0 4C BE 82				jmp @-
  1474 							
  1475 82D3 A9 00 8D 00 D4	@		mva #0 DMACTL
  1476 						
  1477 82D8 20 DC 74				jsr tabhs1cls
  1478 82DB A9 00 85 70				mva #0 stan_gry
  1479 						
  1480 82DF A9 20 8D 02 D4 A9 + 		mwa #dlist	DLPTR
  1481 82E9 A9 00 8D 07 D4			mva #>sprites PMBASE
  1482 82EE A9 10 8D 09 D4			mva #>znaki1 CHBASE
  1483 						
  1484 						
  1485 82F3 A9 00 8D 07 C0			mva #0 HPOSM3
  1486 						
  1487 82F8 A2 BF				ldx #<Title_s
  1488 82FA A0 4E				ldy #>Title_s
  1489 82FC A9 D8				lda #bank2m
  1490 82FE 4C 69 38				jmp jmp_bank
  1491
  1492 = 8301			scoreLen	equ *
  1493 8301 AD 81 32				lda score+2
  1494 8304 D0 04				bne @+					;wpisz odpowiedniÄ… dÅ‚ugoÅ›Ä‡ hscScore
  1495 8306 A9 02				lda #2
  1496 8308 D0 0A				bne @+2
  1497 830A C9 10		@		cmp #$10
  1498 830C B0 04				bcs @+
  1499 830E A9 01				lda #1
  1500 8310 D0 02				bne @+1
  1501 8312 A9 00		@		lda #0
  1502 8314 60			@		rts
  1503 						
  1504 = 8315			changeLetter	equ *
  1505 8315 A5 6F				lda zegar
  1506 8317 C9 07				cmp #7		;opoznienie 
  1507 8319 F0 01				beq @+
  1508 831B 60					rts
  1509 831C A9 00 85 6F		@		mva #0 zegar
  1510 8320 AE 00 E8				ldx pot0
  1511 8323 8E 0B E8				stx potg0
  1512 8326 E0 A4				cpx #114+50
  1513 8328 2A					rol 
  1514 8329 E0 40				cpx #114-50
  1515 832B 2A					rol 
  1516 832C 49 01				eor #1
  1517 832E 29 03				and #3
  1518 						//cmp #15
  1519 8330 F0 35				beq cl1		;sprawdz fire
  1520 8332 C9 02				cmp #2
  1521 8334 D0 16				bne @+1
  1522 8336 AD B9 36				lda litera
  1523 8339 18					clc
  1524 833A 69 01				adc #1
  1525 833C C9 67				cmp #103
  1526 833E 90 02				bcc @+
  1527 8340 A9 41				lda #65
  1528 8342 8D B9 36		@		sta litera
  1529 8345 AE BA 36				ldx pozLitera
  1530 8348 9D B5 21				sta hscr+6*48+21,x
  1531 834B 60					rts
  1532 834C C9 01		@		cmp #1
  1533 834E F0 01				beq @+
  1534 8350 60					rts
  1535 8351 38			@		sec
  1536 8352 AD B9 36				lda litera
  1537 8355 E9 01				sbc #1
  1538 8357 C9 41				cmp #65
  1539 8359 B0 02				bcs @+
  1540 835B A9 66				lda #102
  1541 835D 8D B9 36		@		sta litera
  1542 8360 AE BA 36				ldx pozLitera
  1543 8363 9D B5 21				sta hscr+6*48+21,x
  1544 8366 60					rts
  1545 = 8367			cl1		equ *
  1546 8367 AD 10 C0				lda FIRE
  1547 836A F0 01				beq @+
  1548 836C 60					rts
  1549 836D A5 AB		@		lda pom0f
  1550 836F 0D BA 36				ora pozLitera
  1551 8372 AA					tax
  1552 8373 AD B9 36				lda litera
  1553 8376 9D E3 30				sta hscNick1,x		;wpisz wybranÄ… literÄ™ w tabeli
  1554 						
  1555 8379 A9 07				lda <(hscr+13*48+23)
  1556 837B 85 9B				sta pom
  1557 837D A9 23				lda >(hscr+13*48+23)
  1558 837F 85 9C				sta pom+1
  1559 8381 A5 AB				lda pom0f
  1560 8383 F0 11				beq @+2
  1561 8385 4A					lsr
  1562 8386 4A					lsr				;wpisz wybranÄ… literÄ™ w tabeli na ekranie
  1563 8387 AA					tax
  1564 8388 18			@		clc
  1565 8389 A5 9B				lda pom
  1566 838B 69 60				adc #96
  1567 838D 85 9B				sta pom
  1568 838F 90 02				bcc @+
  1569 8391 E6 9C				inc pom+1
  1570 						
  1571 8393 CA			@		dex
  1572 8394 D0 F2				bne @-1
  1573 						
  1574 8396 AC BA 36		@		ldy pozLitera
  1575 						
  1576 8399 AD B9 36				lda litera
  1577 839C 91 9B				sta (pom),y
  1578 						
  1579 839E EE BA 36				inc pozLitera
  1580 83A1 A9 41 8D B9 36			mva #65 litera
  1581 83A6 A9 E7 85 6F				mva #-25 zegar
  1582 83AA 60					rts
  1583 						
  1584 					
  1585 83AB 84 88 8C		literaTab	dta b(132,136,140)	
  1586 83AE FF 03 07 0B		porBuf	dta b(255,3,7,11)
  1587
  1588 = 83B2			porownaj	equ *
  1589 83B2 8A					txa
  1590 83B3 0A					asl
  1591 83B4 0A					asl
  1592 83B5 A8					tay
  1593 83B6 AD 81 32				lda score+2
  1594 83B9 D9 F7 30				cmp hscScore1,y
  1595 83BC 90 1F				bcc por1
  1596 83BE F0 03				beq @+
  1597 83C0 A9 01				lda #1		;score>hscore
  1598 83C2 60					rts
  1599 83C3 AD 80 32		@		lda score+1
  1600 83C6 D9 F8 30				cmp hscScore1+1,y
  1601 83C9 90 12				bcc por1
  1602 83CB F0 03				beq @+
  1603 83CD A9 01				lda #1		;score>hscore
  1604 83CF 60					rts
  1605 83D0 AD 7F 32		@		lda score
  1606 83D3 D9 F9 30				cmp hscScore1+2,y
  1607 83D6 90 05				bcc por1
  1608 83D8 F0 03				beq por1
  1609 83DA A9 01				lda #1		;score>hscore
  1610 83DC 60					rts
  1611 83DD A9 00		por1	lda #0
  1612 83DF 60					rts		
  1613
  1614 								
  1615 								
  1616 								
  1617 								
  1618 								
  1619 								
  1620 								
  1621 								
  1622 								
  1234
  1235 					
  1236 						
  1237 83E0 41 5B 62 00 54 5B + hscNick_init	dta c'A',b(91,98,0),c'T',b(91,95,0),c'A',b(91,93,0),c'R',b(91),b(93,0),c'I',b(91,92),b(0)	
  1238
  1239 = 83F4			efnap1_code		equ *
  1240 							.rept 28, #
  1241 								LDX OBRAZ1+19+#*48+29,Y
  1242 								LDA EFTAB1,X
  1243 								STA OBRAZ1+19+#*48+29,Y
  1244 							.ENDR
  1244 							.endr
Source: REPT
  1241 83F4 BE B8 19						LDX OBRAZ1+19+#*48+29,Y
  1241 83F7 BD E9 71						LDA EFTAB1,X
  1241 83FA 99 B8 19						STA OBRAZ1+19+#*48+29,Y
  1241 83FD BE E8 19						LDX OBRAZ1+19+#*48+29,Y
  1241 8400 BD E9 71						LDA EFTAB1,X
  1241 8403 99 E8 19						STA OBRAZ1+19+#*48+29,Y
  1241 8406 BE 18 1A						LDX OBRAZ1+19+#*48+29,Y
  1241 8409 BD E9 71						LDA EFTAB1,X
  1241 840C 99 18 1A						STA OBRAZ1+19+#*48+29,Y
  1241 840F BE 48 1A						LDX OBRAZ1+19+#*48+29,Y
  1241 8412 BD E9 71						LDA EFTAB1,X
  1241 8415 99 48 1A						STA OBRAZ1+19+#*48+29,Y
  1241 8418 BE 78 1A						LDX OBRAZ1+19+#*48+29,Y
  1241 841B BD E9 71						LDA EFTAB1,X
  1241 841E 99 78 1A						STA OBRAZ1+19+#*48+29,Y
  1241 8421 BE A8 1A						LDX OBRAZ1+19+#*48+29,Y
  1241 8424 BD E9 71						LDA EFTAB1,X
  1241 8427 99 A8 1A						STA OBRAZ1+19+#*48+29,Y
  1241 842A BE D8 1A						LDX OBRAZ1+19+#*48+29,Y
  1241 842D BD E9 71						LDA EFTAB1,X
  1241 8430 99 D8 1A						STA OBRAZ1+19+#*48+29,Y
  1241 8433 BE 08 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 8436 BD E9 71						LDA EFTAB1,X
  1241 8439 99 08 1B						STA OBRAZ1+19+#*48+29,Y
  1241 843C BE 38 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 843F BD E9 71						LDA EFTAB1,X
  1241 8442 99 38 1B						STA OBRAZ1+19+#*48+29,Y
  1241 8445 BE 68 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 8448 BD E9 71						LDA EFTAB1,X
  1241 844B 99 68 1B						STA OBRAZ1+19+#*48+29,Y
  1241 844E BE 98 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 8451 BD E9 71						LDA EFTAB1,X
  1241 8454 99 98 1B						STA OBRAZ1+19+#*48+29,Y
  1241 8457 BE C8 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 845A BD E9 71						LDA EFTAB1,X
  1241 845D 99 C8 1B						STA OBRAZ1+19+#*48+29,Y
  1241 8460 BE F8 1B						LDX OBRAZ1+19+#*48+29,Y
  1241 8463 BD E9 71						LDA EFTAB1,X
  1241 8466 99 F8 1B						STA OBRAZ1+19+#*48+29,Y
  1241 8469 BE 28 1C						LDX OBRAZ1+19+#*48+29,Y
  1241 846C BD E9 71						LDA EFTAB1,X
  1241 846F 99 28 1C						STA OBRAZ1+19+#*48+29,Y
  1241 8472 BE 58 1C						LDX OBRAZ1+19+#*48+29,Y
  1241 8475 BD E9 71						LDA EFTAB1,X
  1241 8478 99 58 1C						STA OBRAZ1+19+#*48+29,Y
  1241 847B BE 88 1C						LDX OBRAZ1+19+#*48+29,Y
  1241 847E BD E9 71						LDA EFTAB1,X
  1241 8481 99 88 1C						STA OBRAZ1+19+#*48+29,Y
  1241 8484 BE B8 1C						LDX OBRAZ1+19+#*48+29,Y
  1241 8487 BD E9 71						LDA EFTAB1,X
  1241 848A 99 B8 1C						STA OBRAZ1+19+#*48+29,Y
  1241 848D BE E8 1C						LDX OBRAZ1+19+#*48+29,Y
  1241 8490 BD E9 71						LDA EFTAB1,X
  1241 8493 99 E8 1C						STA OBRAZ1+19+#*48+29,Y
  1241 8496 BE 18 1D						LDX OBRAZ1+19+#*48+29,Y
  1241 8499 BD E9 71						LDA EFTAB1,X
  1241 849C 99 18 1D						STA OBRAZ1+19+#*48+29,Y
  1241 849F BE 48 1D						LDX OBRAZ1+19+#*48+29,Y
  1241 84A2 BD E9 71						LDA EFTAB1,X
  1241 84A5 99 48 1D						STA OBRAZ1+19+#*48+29,Y
  1241 84A8 BE 78 1D						LDX OBRAZ1+19+#*48+29,Y
  1241 84AB BD E9 71						LDA EFTAB1,X
  1241 84AE 99 78 1D						STA OBRAZ1+19+#*48+29,Y
  1241 84B1 BE A8 1D						LDX OBRAZ1+19+#*48+29,Y
  1241 84B4 BD E9 71						LDA EFTAB1,X
  1241 84B7 99 A8 1D						STA OBRAZ1+19+#*48+29,Y
  1241 84BA BE D8 1D						LDX OBRAZ1+19+#*48+29,Y
  1241 84BD BD E9 71						LDA EFTAB1,X
  1241 84C0 99 D8 1D						STA OBRAZ1+19+#*48+29,Y
  1241 84C3 BE 08 1E						LDX OBRAZ1+19+#*48+29,Y
  1241 84C6 BD E9 71						LDA EFTAB1,X
  1241 84C9 99 08 1E						STA OBRAZ1+19+#*48+29,Y
  1241 84CC BE 38 1E						LDX OBRAZ1+19+#*48+29,Y
  1241 84CF BD E9 71						LDA EFTAB1,X
  1241 84D2 99 38 1E						STA OBRAZ1+19+#*48+29,Y
  1241 84D5 BE 68 1E						LDX OBRAZ1+19+#*48+29,Y
  1241 84D8 BD E9 71						LDA EFTAB1,X
  1241 84DB 99 68 1E						STA OBRAZ1+19+#*48+29,Y
  1241 84DE BE 98 1E						LDX OBRAZ1+19+#*48+29,Y
  1241 84E1 BD E9 71						LDA EFTAB1,X
  1241 84E4 99 98 1E						STA OBRAZ1+19+#*48+29,Y
  1241 84E7 BE C8 1E						LDX OBRAZ1+19+#*48+29,Y
  1241 84EA BD E9 71						LDA EFTAB1,X
  1241 84ED 99 C8 1E						STA OBRAZ1+19+#*48+29,Y
Source: bank3.asm
  1245 84F0 60						rts
  1246 84F1 00						dta b(0)
  1247 							
  1248
  1249 = 009B			fcnt	equ pom
  1250 = 009D			fadr	equ pom1
  1251 = 009F			fhlp	equ pom2
  1252 = 00A5			cloc	equ pom0
  1253 = 00A6			regA	equ pom0a
  1254 = 00A7			regX	equ pom0b
  1255 = 00A8			regY	equ pom0c
  1256 							
  1257
  1258 84F2 00 00 00 00 00 00 + do9000	:$9000-do9000 dta b(0)
  1259 9000 00 00 00 00 00 00 + fnt		ins "logoNTSC.fnt"				;wczytaj fonty
  1260 A000			pmg		
  1261 A000 F0			ant	dta $F0
  1262 A001 44 00 A8 84 04 84 + 	dta $44,a(scr),$84,$04,$84,$84,$04,$04,$04,$04,$04,$84,$84,$04,$84,$04,$04
  1263 A013 84 84 04 84 04 04 + 	dta $84,$84,$04,$84,$04,$04,$04,$84,$04,$04,$04,$84,$70
  1264 A020 41 00 A0			dta $41,a(ant)
  1265 A023 00 00 00 00 00 00 + 	:$300-35 dta b(0)	;wyrÃ³wannie do strony
  1266 A300 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1267 A310 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00
  1268 A320 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1269 A330 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 40 40 40 40 40 40 50
  1270 A340 50 50 50 50 00 00 + 	.he 50 50 50 50 00 00 00 00 00 00 00 80 00 80 00 80
  1271 A350 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1272 A360 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1273 A370 00 80 00 00 00 00 + 	.he 00 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1274 A380 00 00 00 00 80 00 + 	.he 00 00 00 00 80 00 00 00 00 00 00 00 00 00 00 00
  1275 A390 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1276 A3A0 80 00 00 00 00 00 + 	.he 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1277 A3B0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 08 00 00 00 00 00 00 00 00 00
  1278 A3C0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1279 A3D0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1280 A3E0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1281 A3F0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1282 A400			player0
  1283 A400 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1284 A410 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 40 00 00 04 00 00 00 00 00
  1285 A420 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 03 07 05 06 07 0E
  1286 A430 13 60 F3 A3 D3 EC + 	.he 13 60 F3 A3 D3 EC D3 63 07 04 02 04 07 63 F3 AC
  1287 A440 F3 E3 D3 60 13 0F + 	.he F3 E3 D3 60 13 0F 05 06 07 06 03 00 00 00 00 00
  1288 A450 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 54 00 00 00 00 00
  1289 A460 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1290 A470 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1291 A480 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 0E 19 74 68 B0 68 B0 60 A0 50
  1292 A490 A0 00 00 00 00 00 + 	.he A0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1293 A4A0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1294 A4B0 00 00 00 00 10 08 + 	.he 00 00 00 00 10 08 0C 04 06 03 02 01 01 00 00 00
  1295 A4C0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1296 A4D0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1297 A4E0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1298 A4F0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1299 A500			player1
  1300 A500 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1301 A510 00 00 00 00 00 04 + 	.he 00 00 00 00 00 04 00 00 00 00 00 00 00 00 00 00
  1302 A520 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 80 00 80 00 C0
  1303 A530 20 18 3C 28 34 F8 + 	.he 20 18 3C 28 34 F8 34 18 80 80 00 80 80 18 3C E8
  1304 A540 34 38 34 18 20 C0 + 	.he 34 38 34 18 20 C0 00 80 00 80 00 00 00 00 00 00
  1305 A550 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1306 A560 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1307 A570 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1308 A580 00 10 00 00 00 00 + 	.he 00 10 00 00 00 00 00 00 00 00 04 08 04 18 14 28
  1309 A590 16 08 50 50 20 20 + 	.he 16 08 50 50 20 20 40 40 00 00 00 00 00 00 00 00
  1310 A5A0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1311 A5B0 00 00 00 00 01 00 + 	.he 00 00 00 00 01 00 00 00 00 00 80 00 40 80 A2 53
  1312 A5C0 48 29 04 14 02 09 + 	.he 48 29 04 14 02 09 05 00 02 00 01 00 00 00 00 00
  1313 A5D0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1314 A5E0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1315 A5F0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1316 A600			player2
  1317 A600 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1318 A610 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1319 A620 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1320 A630 00 20 00 20 00 20 + 	.he 00 20 00 20 00 20 40 20 00 00 00 60 60 60 20 20
  1321 A640 20 00 00 00 00 00 + 	.he 20 00 00 00 00 00 00 00 00 00 00 20 00 00 00 00
  1322 A650 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1323 A660 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1324 A670 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1325 A680 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 30 20
  1326 A690 00 40 40 40 00 00 + 	.he 00 40 40 40 00 00 00 00 00 00 00 00 00 00 00 00
  1327 A6A0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1328 A6B0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 80 C0 40 20 30 18 00 08 0A 04
  1329 A6C0 01 82 40 80 20 50 + 	.he 01 82 40 80 20 50 A0 C8 50 6C 26 A7 1B 53 0B 23
  1330 A6D0 85 53 41 28 34 10 + 	.he 85 53 41 28 34 10 0A 09 04 06 02 01 01 00 00 00
  1331 A6E0 01 01 00 00 00 00 + 	.he 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1332 A6F0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1333 A700			player3
  1334 A700 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1335 A710 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1336 A720 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1337 A730 00 00 00 10 00 10 + 	.he 00 00 00 10 00 10 00 10 00 00 00 00 41 41 01 41
  1338 A740 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 40 00 40 00 C1
  1339 A750 00 00 00 00 40 40 + 	.he 00 00 00 00 40 40 00 00 00 00 00 00 00 00 00 00
  1340 A760 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1341 A770 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1342 A780 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 20 00 00 00 00 00
  1343 A790 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1344 A7A0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1345 A7B0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1346 A7C0 00 80 80 80 00 00 + 	.he 00 80 80 80 00 00 00 00 00 00 00 00 00 80 80 80
  1347 A7D0 80 C0 C0 E0 E0 20 + 	.he 80 C0 C0 E0 E0 20 08 0C 88 88 08 08 08 88 C8 44
  1348 A7E0 40 50 B0 70 30 58 + 	.he 40 50 B0 70 30 58 18 20 18 00 0C 04 02 00 00 00
  1349 A7F0 00 00 00 00 00 00 + 	.he 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  1350 					
  1351 A800 00 00 00 00 00 01 + scr	ins "logoNTSC.scr"	
  1352
  1353
  1354 AC60			play_logo
  1355 AC60 A9 A0 8D 07 D4		mva >pmg pmbase		;missiles and players data address
  1356 AC65 A9 03 8D 1D C0		mva #$03 pmcntl		;enable players and missiles
  1357 AC6A 78				sei			;stop IRQ interrupts
  1358 AC6B A9 00 8D 0E D4		mva #$00 nmien		;stop NMI interrupts
  1359 AC70 8D 00 D4			sta dmactl
  1360 AC73 A9 01 85 6F			mva #1 zegar
  1361 AC77 A9 9C 8D 02 02 A9 + 	mwa #NMI vbiv		;new NMI handler
  1362
  1363 AC81 A9 C0 8D 0E D4		mva #$c0 nmien		;switch on NMI+DLI again
  1364 					
  1365 AC86 A5 6F		@	lda zegar
  1366 					;beq @+
  1367
  1368
  1369 AC88 AD 10 C0			lda trig0		; FIRE #1
  1370 AC8B D0 F9			bne @-
  1371 					
  1372 AC8D 8D 00 D4			sta dmactl
  1373 AC90 8D 0E D4			sta nmien
  1374 AC93 8D 00 A0			sta pmg
  1375 					
  1376 AC96 AD 10 C0		@	lda trig0
  1377 AC99 F0 FB			beq @-
  1378 					
  1379 AC9B 60				rts
  1380
  1381 					
  1382 AC9C			.proc	NMI	
  1383 AC9C			VBL
  1384 AC9C 85 A6			sta regA
  1385 AC9E 86 A7			stx regX
  1386 ACA0 84 A8			sty regY
  1387
  1388 ACA2 8D 0F D4			sta nmist		;reset NMI flag
  1389
  1390 ACA5 A9 00 8D 02 D4 A9 + 	mwa #ant dlptr		;ANTIC address program
  1391
  1392 ACAF A9 3E 8D 00 D4		mva #scr40 dmactl	;set new screen width
  1393
  1394 ACB4 E6 6F			inc zegar		;little timer
  1395
  1396 				; Initial values
  1397
  1398 ACB6 A9 90			lda >fnt+$400*$00
  1399 ACB8 8D 09 D4			sta chbase
  1400 ACBB A9 00		c0	lda #$00
  1401 ACBD 8D 1A C0			sta colbak
  1402 ACC0 A9 02			lda #$02
  1403 ACC2 8D 01 D4			sta chrctl
  1404 ACC5 A9 04			lda #$04
  1405 ACC7 8D 1B C0			sta gtictl
  1406 ACCA A9 0E		c1	lda #$0E
  1407 ACCC 8D 16 C0			sta color0
  1408 ACCF A9 62		c2	lda #$62
  1409 ACD1 8D 17 C0			sta color1
  1410 ACD4 A9 90		c3	lda #$90
  1411 ACD6 8D 18 C0			sta color2
  1412 ACD9 A9 EC		c4	lda #$EC
  1413 ACDB 8D 19 C0			sta color3
  1414 ACDE A9 00		s0	lda #$00
  1415 ACE0 8D 08 C0			sta sizep0
  1416 ACE3 8D 09 C0			sta sizep1
  1417 ACE6 8D 0A C0			sta sizep2
  1418 ACE9 8D 0B C0			sta sizep3
  1419 ACEC 8D 0C C0			sta sizem
  1420 ACEF A9 A8		x0	lda #$A8
  1421 ACF1 8D 00 C0			sta hposp0
  1422 ACF4 A9 B0		x1	lda #$B0
  1423 ACF6 8D 01 C0			sta hposp1
  1424 ACF9 A9 B8		x2	lda #$B8
  1425 ACFB 8D 02 C0			sta hposp2
  1426 ACFE A9 C0		x3	lda #$C0
  1427 AD00 8D 03 C0			sta hposp3
  1428 AD03 A9 C8		x4	lda #$C8
  1429 AD05 8D 04 C0			sta hposm0
  1430 AD08 A9 CA		x5	lda #$CA
  1431 AD0A 8D 05 C0			sta hposm1
  1432 AD0D A9 CC		x6	lda #$CC
  1433 AD0F 8D 06 C0			sta hposm2
  1434 AD12 A9 CE		x7	lda #$CE
  1435 AD14 8D 07 C0			sta hposm3
  1436 AD17 A9 08		c5	lda #$08
  1437 AD19 8D 12 C0			sta colpm0
  1438 AD1C 8D 13 C0			sta colpm1
  1439 AD1F 8D 14 C0			sta colpm2
  1440 AD22 8D 15 C0			sta colpm3
  1441
  1442 AD25 A9 36 8D 06 02 A9 + 	mwa #DLI0.dli_start dliv	;set the first address of DLI interrupt
  1443
  1444 AD2F A5 A6			lda regA
  1445 AD31 A6 A7			ldx regX
  1446 AD33 A4 A8			ldy regY
  1447 AD35 40				rti	
  1448 				.endp
  1449
  1450 AD36			.local	DLI0	
  1451 AD36			dli_start
  1452
  1453 AD36			dli9
  1454 AD36 85 A6			sta regA
  1455
  1456 AD38 8D 0A D4			sta wsync		;line=8
  1457 AD3B 8D 0A D4			sta wsync		;line=9
  1458 AD3E 8D 0A D4			sta wsync		;line=10
  1459 AD41 8D 0A D4			sta wsync		;line=11
  1460 AD44 8D 0A D4			sta wsync		;line=12
  1461 AD47 8D 0A D4			sta wsync		;line=13
  1462 AD4A 8D 0A D4			sta wsync		;line=14
  1463 AD4D A9 62		c6	lda #$62
  1464 AD4F 8D 0A D4			sta wsync		;line=15
  1465 AD52 8D 19 C0			sta color3
  1466 AD55 8D 0A D4			sta wsync		;line=16
  1467 AD58 8D 0A D4			sta wsync		;line=17
  1468 AD5B 8D 0A D4			sta wsync		;line=18
  1469 AD5E A9 42		c7	lda #$42
  1470 AD60 8D 0A D4			sta wsync		;line=19
  1471 AD63 8D 17 C0			sta color1
  1472 AD66				DLINEW dli10 1 0 0
Macro: DLINEW [Source: bank3.asm]
     1 AD66 A9 73 8D 06 02		mva <DLI10 dliv
     3 AD6B A9 AD 8D 07 02		mva >DLI10 dliv+1
     7 AD70 A5 A6			lda regA
    18 AD72 40				rti
    20 = AD73				.def ?old_dli = *
Source: bank3.asm
  1473
  1474 AD73			dli10
  1475 AD73 85 A6			sta regA
  1476 AD75 86 A7			stx regX
  1477 AD77 84 A8			sty regY
  1478
  1479 AD79 A9 90		c8	lda #$90
  1480 AD7B 8D 0A D4			sta wsync		;line=24
  1481 AD7E 8D 19 C0			sta color3
  1482 AD81 8D 0A D4			sta wsync		;line=25
  1483 AD84 8D 0A D4			sta wsync		;line=26
  1484 AD87 A9 0C		c9	lda #$0C
  1485 AD89 8D 0A D4			sta wsync		;line=27
  1486 AD8C 8D 16 C0			sta color0
  1487 AD8F 8D 0A D4			sta wsync		;line=28
  1488 AD92 8D 0A D4			sta wsync		;line=29
  1489 AD95 8D 0A D4			sta wsync		;line=30
  1490 AD98 A9 D6		c10	lda #$D6
  1491 AD9A 8D 0A D4			sta wsync		;line=31
  1492 AD9D 8D 12 C0			sta colpm0
  1493 ADA0 8D 0A D4			sta wsync		;line=32
  1494 ADA3 A9 01		s1	lda #$01
  1495 ADA5 A2 79		x8	ldx #$79
  1496 ADA7 A0 81		x9	ldy #$81
  1497 ADA9 8D 0A D4			sta wsync		;line=33
  1498 ADAC 8D 0B C0			sta sizep3
  1499 ADAF 8E 00 C0			stx hposp0
  1500 ADB2 8C 01 C0			sty hposp1
  1501 ADB5 A9 92		x10	lda #$92
  1502 ADB7 8D 03 C0			sta hposp3
  1503 ADBA A9 D6		c11	lda #$D6
  1504 ADBC 8D 13 C0			sta colpm1
  1505 ADBF A9 90		c12	lda #$90
  1506 ADC1 8D 15 C0			sta colpm3
  1507 ADC4 8D 0A D4			sta wsync		;line=34
  1508 ADC7 8D 0A D4			sta wsync		;line=35
  1509 ADCA A9 44		c13	lda #$44
  1510 ADCC 8D 0A D4			sta wsync		;line=36
  1511 ADCF 8D 19 C0			sta color3
  1512 ADD2				DLINEW dli11 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 ADD2 A9 DE 8D 06 02		mva <DLI11 dliv
     7 ADD7 A5 A6			lda regA
    11 ADD9 A6 A7			ldx regX
    15 ADDB A4 A8			ldy regY
    18 ADDD 40				rti
    20 = ADDE				.def ?old_dli = *
Source: bank3.asm
  1513
  1514 ADDE			dli11
  1515 ADDE 85 A6			sta regA
  1516 ADE0 86 A7			stx regX
  1517 ADE2 84 A8			sty regY
  1518
  1519 ADE4 8D 0A D4			sta wsync		;line=40
  1520 ADE7 A9 44		c14	lda #$44
  1521 ADE9 A2 6A		x11	ldx #$6A
  1522 ADEB A0 90		c15	ldy #$90
  1523 ADED 8D 0A D4			sta wsync		;line=41
  1524 ADF0 8D 17 C0			sta color1
  1525 ADF3 8E 02 C0			stx hposp2
  1526 ADF6 8C 14 C0			sty colpm2
  1527 ADF9 A9 00		s2	lda #$00
  1528 ADFB A2 52		x12	ldx #$52
  1529 ADFD 8D 0A D4			sta wsync		;line=42
  1530 AE00 8D 0B C0			sta sizep3
  1531 AE03 8E 03 C0			stx hposp3
  1532 AE06 8D 0A D4			sta wsync		;line=43
  1533 AE09 8D 0A D4			sta wsync		;line=44
  1534 AE0C A9 90		c16	lda #$90
  1535 AE0E 8D 0A D4			sta wsync		;line=45
  1536 AE11 8D 19 C0			sta color3
  1537 AE14 A9 0A		c17	lda #$0A
  1538 AE16 8D 0A D4			sta wsync		;line=46
  1539 AE19 8D 16 C0			sta color0
  1540 AE1C				DLINEW DLI0.dli2 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 AE1C A9 2D 8D 06 02		mva <DLI0.DLI2 dliv
     3 AE21 A9 AE 8D 07 02		mva >DLI0.DLI2 dliv+1
     7 AE26 A5 A6			lda regA
    11 AE28 A6 A7			ldx regX
    15 AE2A A4 A8			ldy regY
    18 AE2C 40				rti
    20 = AE2D				.def ?old_dli = *
Source: bank3.asm
  1541
  1542 AE2D			dli2
  1543 AE2D 85 A6			sta regA
  1544 AE2F 86 A7			stx regX
  1545 AE31 84 A8			sty regY
  1546 AE33 A9 94			lda >fnt+$400*$01
  1547 AE35 A2 34		c18	ldx #$34
  1548 AE37 A0 5F		x13	ldy #$5F
  1549 AE39 8D 0A D4			sta wsync		;line=48
  1550 AE3C 8D 09 D4			sta chbase
  1551 AE3F 8E 17 C0			stx color1
  1552 AE42 8C 07 C0			sty hposm3
  1553 AE45 8D 0A D4			sta wsync		;line=49
  1554 AE48 A9 9F		x14	lda #$9F
  1555 AE4A 8D 0A D4			sta wsync		;line=50
  1556 AE4D 8D 03 C0			sta hposp3
  1557 AE50 A9 34		c19	lda #$34
  1558 AE52 8D 0A D4			sta wsync		;line=51
  1559 AE55 8D 19 C0			sta color3
  1560 AE58 8D 0A D4			sta wsync		;line=52
  1561 AE5B 8D 0A D4			sta wsync		;line=53
  1562 AE5E A9 36		c20	lda #$36
  1563 AE60 8D 0A D4			sta wsync		;line=54
  1564 AE63 8D 17 C0			sta color1
  1565 AE66 A9 54		x15	lda #$54
  1566 AE68 8D 0A D4			sta wsync		;line=55
  1567 AE6B 8D 06 C0			sta hposm2
  1568 AE6E 8D 0A D4			sta wsync		;line=56
  1569 AE71 A9 90		c21	lda #$90
  1570 AE73 A2 01		s3	ldx #$01
  1571 AE75 A0 92		x16	ldy #$92
  1572 AE77 8D 0A D4			sta wsync		;line=57
  1573 AE7A 8D 19 C0			sta color3
  1574 AE7D 8E 0B C0			stx sizep3
  1575 AE80 8C 03 C0			sty hposp3
  1576 AE83 8D 0A D4			sta wsync		;line=58
  1577 AE86 A9 B8		x17	lda #$B8
  1578 AE88 8D 0A D4			sta wsync		;line=59
  1579 AE8B 8D 02 C0			sta hposp2
  1580 AE8E A9 36		c22	lda #$36
  1581 AE90 8D 0A D4			sta wsync		;line=60
  1582 AE93 8D 19 C0			sta color3
  1583 AE96 A9 28		c23	lda #$28
  1584 AE98 A2 CE		x18	ldx #$CE
  1585 AE9A 8D 0A D4			sta wsync		;line=61
  1586 AE9D 8D 17 C0			sta color1
  1587 AEA0 8E 07 C0			stx hposm3
  1588 AEA3 A9 A8		x19	lda #$A8
  1589 AEA5 8D 0A D4			sta wsync		;line=62
  1590 AEA8 8D 02 C0			sta hposp2
  1591 AEAB 8D 0A D4			sta wsync		;line=63
  1592 AEAE 8D 0A D4			sta wsync		;line=64
  1593 AEB1 A9 08		c24	lda #$08
  1594 AEB3 A2 90		c25	ldx #$90
  1595 AEB5 A0 92		x20	ldy #$92
  1596 AEB7 8D 0A D4			sta wsync		;line=65
  1597 AEBA 8D 16 C0			sta color0
  1598 AEBD 8E 19 C0			stx color3
  1599 AEC0 8C 07 C0			sty hposm3
  1600 AEC3 A9 CC		x21	lda #$CC
  1601 AEC5 8D 0A D4			sta wsync		;line=66
  1602 AEC8 8D 06 C0			sta hposm2
  1603 AECB A9 28		c26	lda #$28
  1604 AECD A2 00		s4	ldx #$00
  1605 AECF A0 9F		x22	ldy #$9F
  1606 AED1 8D 0A D4			sta wsync		;line=67
  1607 AED4 8D 19 C0			sta color3
  1608 AED7 8E 0B C0			stx sizep3
  1609 AEDA 8C 03 C0			sty hposp3
  1610 AEDD A9 2A		c27	lda #$2A
  1611 AEDF A2 A8		x23	ldx #$A8
  1612 AEE1 8D 0A D4			sta wsync		;line=68
  1613 AEE4 8D 17 C0			sta color1
  1614 AEE7 8E 00 C0			stx hposp0
  1615 AEEA A9 B0		x24	lda #$B0
  1616 AEEC 8D 0A D4			sta wsync		;line=69
  1617 AEEF 8D 01 C0			sta hposp1
  1618 AEF2 A9 08		c28	lda #$08
  1619 AEF4 8D 0A D4			sta wsync		;line=70
  1620 AEF7 8D 13 C0			sta colpm1
  1621 AEFA A9 5C		x25	lda #$5C
  1622 AEFC A2 08		c29	ldx #$08
  1623 AEFE 8D 0A D4			sta wsync		;line=71
  1624 AF01 8D 03 C0			sta hposp3
  1625 AF04 8E 12 C0			stx colpm0
  1626 AF07 A9 90			lda >fnt+$400*$00
  1627 AF09 A2 90		c30	ldx #$90
  1628 AF0B 8D 0A D4			sta wsync		;line=72
  1629 AF0E 8D 09 D4			sta chbase
  1630 AF11 8E 19 C0			stx color3
  1631 AF14 8D 0A D4			sta wsync		;line=73
  1632 AF17 A9 2A		c31	lda #$2A
  1633 AF19 8D 0A D4			sta wsync		;line=74
  1634 AF1C 8D 19 C0			sta color3
  1635 AF1F A9 1C		c32	lda #$1C
  1636 AF21 A2 56		x26	ldx #$56
  1637 AF23 A0 CE		x27	ldy #$CE
  1638 AF25 8D 0A D4			sta wsync		;line=75
  1639 AF28 8D 17 C0			sta color1
  1640 AF2B 8E 03 C0			stx hposp3
  1641 AF2E 8C 07 C0			sty hposm3
  1642 AF31 A9 B8		x28	lda #$B8
  1643 AF33 A2 08		c33	ldx #$08
  1644 AF35 8D 0A D4			sta wsync		;line=76
  1645 AF38 8D 02 C0			sta hposp2
  1646 AF3B 8E 14 C0			stx colpm2
  1647 AF3E 8D 0A D4			sta wsync		;line=77
  1648 AF41 A9 90		c34	lda #$90
  1649 AF43 8D 0A D4			sta wsync		;line=78
  1650 AF46 8D 19 C0			sta color3
  1651 AF49 A9 C0		x29	lda #$C0
  1652 AF4B A2 08		c35	ldx #$08
  1653 AF4D 8D 0A D4			sta wsync		;line=79
  1654 AF50 8D 03 C0			sta hposp3
  1655 AF53 8E 15 C0			stx colpm3
  1656 AF56 A9 94			lda >fnt+$400*$01
  1657 AF58 8D 0A D4			sta wsync		;line=80
  1658 AF5B 8D 09 D4			sta chbase
  1659 AF5E 8D 0A D4			sta wsync		;line=81
  1660 AF61 A9 04		c36	lda #$04
  1661 AF63 A2 2E		c37	ldx #$2E
  1662 AF65 A0 1C		c38	ldy #$1C
  1663 AF67 8D 0A D4			sta wsync		;line=82
  1664 AF6A 8D 16 C0			sta color0
  1665 AF6D 8E 17 C0			stx color1
  1666 AF70 8C 19 C0			sty color3
  1667 AF73 A9 B3		x30	lda #$B3
  1668 AF75 8D 00 C0			sta hposp0
  1669 AF78 A9 08		c39	lda #$08
  1670 AF7A A2 A8		x31	ldx #$A8
  1671 AF7C 8D 0A D4			sta wsync		;line=83
  1672 AF7F 8D 16 C0			sta color0
  1673 AF82 8E 00 C0			stx hposp0
  1674 AF85 8D 0A D4			sta wsync		;line=84
  1675 AF88 8D 0A D4			sta wsync		;line=85
  1676 AF8B 8D 0A D4			sta wsync		;line=86
  1677 AF8E A9 EC		c40	lda #$EC
  1678 AF90 8D 0A D4			sta wsync		;line=87
  1679 AF93 8D 19 C0			sta color3
  1680 AF96 A9 98			lda >fnt+$400*$02
  1681 AF98 8D 0A D4			sta wsync		;line=88
  1682 AF9B 8D 09 D4			sta chbase
  1683 AF9E A9 FC		c41	lda #$FC
  1684 AFA0 A2 2E		c42	ldx #$2E
  1685 AFA2 8D 0A D4			sta wsync		;line=89
  1686 AFA5 8D 17 C0			sta color1
  1687 AFA8 8E 19 C0			stx color3
  1688 AFAB 8D 0A D4			sta wsync		;line=90
  1689 AFAE 8D 0A D4			sta wsync		;line=91
  1690 AFB1 8D 0A D4			sta wsync		;line=92
  1691 AFB4 8D 0A D4			sta wsync		;line=93
  1692 AFB7 A9 EC		c43	lda #$EC
  1693 AFB9 8D 0A D4			sta wsync		;line=94
  1694 AFBC 8D 19 C0			sta color3
  1695 AFBF				DLINEW dli3 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 AFBF A9 D0 8D 06 02		mva <DLI3 dliv
     3 AFC4 A9 AF 8D 07 02		mva >DLI3 dliv+1
     7 AFC9 A5 A6			lda regA
    11 AFCB A6 A7			ldx regX
    15 AFCD A4 A8			ldy regY
    18 AFCF 40				rti
    20 = AFD0				.def ?old_dli = *
Source: bank3.asm
  1696
  1697 AFD0			dli3
  1698 AFD0 85 A6			sta regA
  1699 AFD2 86 A7			stx regX
  1700 AFD4 84 A8			sty regY
  1701 AFD6 A9 94			lda >fnt+$400*$01
  1702 AFD8 A2 FE		c44	ldx #$FE
  1703 AFDA 8D 0A D4			sta wsync		;line=96
  1704 AFDD 8D 09 D4			sta chbase
  1705 AFE0 8E 17 C0			stx color1
  1706 AFE3 8D 0A D4			sta wsync		;line=97
  1707 AFE6 8D 0A D4			sta wsync		;line=98
  1708 AFE9 8D 0A D4			sta wsync		;line=99
  1709 AFEC A9 D8		c45	lda #$D8
  1710 AFEE A2 0C		c46	ldx #$0C
  1711 AFF0 A0 E4		c47	ldy #$E4
  1712 AFF2 8D 0A D4			sta wsync		;line=100
  1713 AFF5 8D 16 C0			sta color0
  1714 AFF8 8E 17 C0			stx color1
  1715 AFFB 8C 18 C0			sty color2
  1716 AFFE A9 82		c48	lda #$82
  1717 B000 8D 19 C0			sta color3
  1718 B003 A9 98		x32	lda #$98
  1719 B005 8D 00 C0			sta hposp0
  1720 B008 A9 A0		x33	lda #$A0
  1721 B00A 8D 01 C0			sta hposp1
  1722 B00D A9 A8		x34	lda #$A8
  1723 B00F 8D 02 C0			sta hposp2
  1724 B012 A9 B0		x35	lda #$B0
  1725 B014 8D 03 C0			sta hposp3
  1726 B017 A9 B8		x36	lda #$B8
  1727 B019 8D 04 C0			sta hposm0
  1728 B01C A9 BA		x37	lda #$BA
  1729 B01E 8D 05 C0			sta hposm1
  1730 B021 A9 BC		x38	lda #$BC
  1731 B023 8D 06 C0			sta hposm2
  1732 B026 A9 BE		x39	lda #$BE
  1733 B028 8D 07 C0			sta hposm3
  1734 B02B				DLINEW dli4 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 B02B A9 3C 8D 06 02		mva <DLI4 dliv
     3 B030 A9 B0 8D 07 02		mva >DLI4 dliv+1
     7 B035 A5 A6			lda regA
    11 B037 A6 A7			ldx regX
    15 B039 A4 A8			ldy regY
    18 B03B 40				rti
    20 = B03C				.def ?old_dli = *
Source: bank3.asm
  1735
  1736 B03C			dli4
  1737 B03C 85 A6			sta regA
  1738 B03E 86 A7			stx regX
  1739 B040 84 A8			sty regY
  1740 B042 A9 98			lda >fnt+$400*$02
  1741 B044 A2 77		x40	ldx #$77
  1742 B046 A0 90		c49	ldy #$90
  1743 B048 8D 0A D4			sta wsync		;line=104
  1744 B04B 8D 09 D4			sta chbase
  1745 B04E 8E 07 C0			stx hposm3
  1746 B051 8C 15 C0			sty colpm3
  1747 B054 8D 0A D4			sta wsync		;line=105
  1748 B057 8D 0A D4			sta wsync		;line=106
  1749 B05A 8D 0A D4			sta wsync		;line=107
  1750 B05D 8D 0A D4			sta wsync		;line=108
  1751 B060 A9 BE		x41	lda #$BE
  1752 B062 A2 08		c50	ldx #$08
  1753 B064 8D 0A D4			sta wsync		;line=109
  1754 B067 8D 07 C0			sta hposm3
  1755 B06A 8E 15 C0			stx colpm3
  1756 B06D				DLINEW dli12 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 B06D A9 79 8D 06 02		mva <DLI12 dliv
     7 B072 A5 A6			lda regA
    11 B074 A6 A7			ldx regX
    15 B076 A4 A8			ldy regY
    18 B078 40				rti
    20 = B079				.def ?old_dli = *
Source: bank3.asm
  1757
  1758 B079			dli12
  1759 B079 85 A6			sta regA
  1760 B07B 86 A7			stx regX
  1761 B07D 84 A8			sty regY
  1762
  1763 B07F 8D 0A D4			sta wsync		;line=120
  1764 B082 8D 0A D4			sta wsync		;line=121
  1765 B085 8D 0A D4			sta wsync		;line=122
  1766 B088 A9 5B		x42	lda #$5B
  1767 B08A A2 90		c51	ldx #$90
  1768 B08C 8D 0A D4			sta wsync		;line=123
  1769 B08F 8D 07 C0			sta hposm3
  1770 B092 8E 15 C0			stx colpm3
  1771 B095 8D 0A D4			sta wsync		;line=124
  1772 B098 8D 0A D4			sta wsync		;line=125
  1773 B09B A9 69		x43	lda #$69
  1774 B09D A2 BE		x44	ldx #$BE
  1775 B09F A0 34		c52	ldy #$34
  1776 B0A1 8D 0A D4			sta wsync		;line=126
  1777 B0A4 8D 00 C0			sta hposp0
  1778 B0A7 8E 07 C0			stx hposm3
  1779 B0AA 8C 12 C0			sty colpm0
  1780 B0AD A9 08		c53	lda #$08
  1781 B0AF 8D 15 C0			sta colpm3
  1782 B0B2 8D 0A D4			sta wsync		;line=127
  1783 B0B5 8D 0A D4			sta wsync		;line=128
  1784 B0B8 A9 67		x45	lda #$67
  1785 B0BA 8D 0A D4			sta wsync		;line=129
  1786 B0BD 8D 04 C0			sta hposm0
  1787 B0C0 A9 65		x46	lda #$65
  1788 B0C2 A2 28		c54	ldx #$28
  1789 B0C4 8D 0A D4			sta wsync		;line=130
  1790 B0C7 8D 01 C0			sta hposp1
  1791 B0CA 8E 13 C0			stx colpm1
  1792 B0CD 8D 0A D4			sta wsync		;line=131
  1793 B0D0 8D 0A D4			sta wsync		;line=132
  1794 B0D3 8D 0A D4			sta wsync		;line=133
  1795 B0D6 A9 65		x47	lda #$65
  1796 B0D8 A2 34		c55	ldx #$34
  1797 B0DA 8D 0A D4			sta wsync		;line=134
  1798 B0DD 8D 02 C0			sta hposp2
  1799 B0E0 8E 14 C0			stx colpm2
  1800 B0E3 8D 0A D4			sta wsync		;line=135
  1801 B0E6 8D 0A D4			sta wsync		;line=136
  1802 B0E9 8D 0A D4			sta wsync		;line=137
  1803 B0EC A9 98		x48	lda #$98
  1804 B0EE 8D 0A D4			sta wsync		;line=138
  1805 B0F1 8D 00 C0			sta hposp0
  1806 B0F4				DLINEW dli13 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 B0F4 A9 05 8D 06 02		mva <DLI13 dliv
     3 B0F9 A9 B1 8D 07 02		mva >DLI13 dliv+1
     7 B0FE A5 A6			lda regA
    11 B100 A6 A7			ldx regX
    15 B102 A4 A8			ldy regY
    18 B104 40				rti
    20 = B105				.def ?old_dli = *
Source: bank3.asm
  1807
  1808 B105			dli13
  1809 B105 85 A6			sta regA
  1810 B107 86 A7			stx regX
  1811 B109 84 A8			sty regY
  1812
  1813 B10B A9 B8		x49	lda #$B8
  1814 B10D A2 08		c56	ldx #$08
  1815 B10F 8D 0A D4			sta wsync		;line=144
  1816 B112 8D 04 C0			sta hposm0
  1817 B115 8E 12 C0			stx colpm0
  1818 B118 8D 0A D4			sta wsync		;line=145
  1819 B11B 8D 0A D4			sta wsync		;line=146
  1820 B11E A9 A0		x50	lda #$A0
  1821 B120 A2 A8		x51	ldx #$A8
  1822 B122 A0 08		c57	ldy #$08
  1823 B124 8D 0A D4			sta wsync		;line=147
  1824 B127 8D 01 C0			sta hposp1
  1825 B12A 8E 02 C0			stx hposp2
  1826 B12D 8C 13 C0			sty colpm1
  1827 B130 8C 14 C0			sty colpm2
  1828 B133				DLINEW dli14 1 1 1
Macro: DLINEW [Source: bank3.asm]
     1 B133 A9 3F 8D 06 02		mva <DLI14 dliv
     7 B138 A5 A6			lda regA
    11 B13A A6 A7			ldx regX
    15 B13C A4 A8			ldy regY
    18 B13E 40				rti
    20 = B13F				.def ?old_dli = *
Source: bank3.asm
  1829
  1830 B13F			dli14
  1831 B13F 85 A6			sta regA
  1832 B141 86 A7			stx regX
  1833
  1834 B143 A9 80		x52	lda #$80
  1835 B145 A2 90		c58	ldx #$90
  1836 B147 8D 0A D4			sta wsync		;line=152
  1837 B14A 8D 07 C0			sta hposm3
  1838 B14D 8E 15 C0			stx colpm3
  1839 B150 8D 0A D4			sta wsync		;line=153
  1840 B153 8D 0A D4			sta wsync		;line=154
  1841 B156 A9 BE		x53	lda #$BE
  1842 B158 A2 08		c59	ldx #$08
  1843 B15A 8D 0A D4			sta wsync		;line=155
  1844 B15D 8D 07 C0			sta hposm3
  1845 B160 8E 15 C0			stx colpm3
  1846 B163				DLINEW dli5 1 1 0
Macro: DLINEW [Source: bank3.asm]
     1 B163 A9 6D 8D 06 02		mva <DLI5 dliv
     7 B168 A5 A6			lda regA
    11 B16A A6 A7			ldx regX
    18 B16C 40				rti
    20 = B16D				.def ?old_dli = *
Source: bank3.asm
  1847
  1848 B16D			dli5
  1849 B16D 85 A6			sta regA
  1850 B16F A9 9C			lda >fnt+$400*$03
  1851 B171 8D 0A D4			sta wsync		;line=168
  1852 B174 8D 09 D4			sta chbase
  1853 B177 8D 0A D4			sta wsync		;line=169
  1854 B17A 8D 0A D4			sta wsync		;line=170
  1855 B17D A9 04		c60	lda #$04
  1856 B17F 8D 0A D4			sta wsync		;line=171
  1857 B182 8D 19 C0			sta color3
  1858 B185				DLINEW dli15 1 0 0
Macro: DLINEW [Source: bank3.asm]
     1 B185 A9 8D 8D 06 02		mva <DLI15 dliv
     7 B18A A5 A6			lda regA
    18 B18C 40				rti
    20 = B18D				.def ?old_dli = *
Source: bank3.asm
  1859
  1860 B18D			dli15
  1861 B18D 85 A6			sta regA
  1862 B18F 86 A7			stx regX
  1863
  1864 B191 8D 0A D4			sta wsync		;line=200
  1865 B194 8D 0A D4			sta wsync		;line=201
  1866 B197 8D 0A D4			sta wsync		;line=202
  1867 B19A 8D 0A D4			sta wsync		;line=203
  1868 B19D 8D 0A D4			sta wsync		;line=204
  1869 B1A0 8D 0A D4			sta wsync		;line=205
  1870 B1A3 8D 0A D4			sta wsync		;line=206
  1871 B1A6 A9 86		c61	lda #$86
  1872 B1A8 A2 80		c62	ldx #$80
  1873 B1AA 8D 0A D4			sta wsync		;line=207
  1874 B1AD 8D 16 C0			sta color0
  1875 B1B0 8E 18 C0			stx color2
  1876 B1B3				DLINEW dli6 1 1 0
Macro: DLINEW [Source: bank3.asm]
     1 B1B3 A9 BD 8D 06 02		mva <DLI6 dliv
     7 B1B8 A5 A6			lda regA
    11 B1BA A6 A7			ldx regX
    18 B1BC 40				rti
    20 = B1BD				.def ?old_dli = *
Source: bank3.asm
  1877
  1878 B1BD			dli6
  1879 B1BD 85 A6			sta regA
  1880 B1BF A9 90			lda >fnt+$400*$00
  1881 B1C1 8D 0A D4			sta wsync		;line=232
  1882 B1C4 8D 09 D4			sta chbase
  1883
  1884 B1C7 A5 A6			lda regA
  1885 B1C9 40				rti	
  1886 				.endl
  1887
  1888 				.MACRO	DLINEW
  1889 					mva <:1 dliv
  1890 					ift [>?old_dli]<>[>:1]
  1891 					mva >:1 dliv+1
  1892 					eif
  1893 				
  1894 					ift :2
  1895 					lda regA
  1896 					eif
  1897 				
  1898 					ift :3
  1899 					ldx regX
  1900 					eif
  1901 				
  1902 					ift :4
  1903 					ldy regY
  1904 					eif
  1905 				
  1906 					rti
  1907 				
  1908 					.def ?old_dli = *
  1909 				.ENDM
  1910 						
  1911 = B1CA			e3		equ *
  1912 B1CA 00 00 00 00 00 00 + 		:$c000-e3-3 dta b(00)
  1913 BFFD FF BC 5F				dta b($ff),a(start_program)
  1914
   761 						
   762 						
   763 						
